"use strict";(globalThis.webpackChunkumroh_manager_hybrid_src=globalThis.webpackChunkumroh_manager_hybrid_src||[]).push([[651],{157:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(609);const l=({title:e,value:t,icon:a,color:l})=>{const n={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",yellow:"from-yellow-400 to-yellow-500",indigo:"from-indigo-500 to-indigo-600",red:"from-red-500 to-red-600",gray:"from-gray-500 to-gray-600"}[l]||"from-blue-500 to-blue-600";return(0,r.createElement)("div",{className:"bg-white overflow-hidden shadow-sm hover:shadow-md transition-shadow rounded-xl border border-gray-100"},(0,r.createElement)("div",{className:"p-5"},(0,r.createElement)("div",{className:"flex items-center justify-between"},(0,r.createElement)("div",{className:"flex-1 min-w-0"},(0,r.createElement)("p",{className:"text-sm font-medium text-gray-500 truncate uppercase tracking-wider"},e),(0,r.createElement)("div",{className:"mt-1 text-2xl font-extrabold text-gray-900"},t)),(0,r.createElement)("div",{className:`flex-shrink-0 rounded-lg p-3 bg-gradient-to-br ${n} text-white shadow-lg transform transition-transform hover:scale-105`},(0,r.createElement)("span",{className:"text-xl"},a)))))}},651:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r=a(609),l=a(157),n=a(313),s=a(226),m=a(899),o=a(499),c=a(937);const i=()=>{const{user:e}=(0,o.A)(),{get:t}=(0,m.g)(),[a,i]=(0,r.useState)(null),[d,u]=(0,r.useState)([]),[g,b]=(0,r.useState)(!0),[p,h]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(async()=>{try{b(!0);const e=await t("/agent/dashboard-stats");e.success&&i(e.data);const a=await t("/agent/recent-leads");a.success&&u(a.data)}catch(e){console.error("Agent Dashboard Error:",e),h("Gagal memuat data dashboard. Pastikan anda terhubung ke server.")}finally{b(!1)}})()},[t]),g)return(0,r.createElement)(n.A,null);if(p)return(0,r.createElement)(s.A,{message:p});const x=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e||0);return(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden"},(0,r.createElement)("div",{className:"relative z-10"},(0,r.createElement)("h1",{className:"text-2xl font-bold mb-2"},"Selamat Datang, ",e?.name||"Partner","!"),(0,r.createElement)("p",{className:"opacity-90 text-blue-100"},"Pantau performa dan komisi anda hari ini."),(0,r.createElement)("div",{className:"mt-6 flex flex-wrap gap-3"},(0,r.createElement)("button",{className:"bg-white text-blue-700 px-5 py-2.5 rounded-lg font-bold text-sm flex items-center gap-2 shadow hover:bg-gray-100 transition transform hover:-translate-y-0.5"},(0,r.createElement)(c.NPy,null)," Input Jemaah Baru"),(0,r.createElement)("button",{className:"bg-blue-900 bg-opacity-40 text-white border border-white border-opacity-30 px-5 py-2.5 rounded-lg font-medium text-sm flex items-center gap-2 hover:bg-opacity-60 transition backdrop-blur-sm"},(0,r.createElement)(c.Acq,null)," Link Referral"))),(0,r.createElement)("div",{className:"absolute -right-10 -bottom-10 w-48 h-48 bg-white opacity-10 rounded-full blur-2xl"}),(0,r.createElement)("div",{className:"absolute top-10 right-20 w-20 h-20 bg-blue-400 opacity-20 rounded-full blur-xl"})),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},(0,r.createElement)(l.A,{title:"Jemaah Closing",value:a?.totalJamaah||0,icon:(0,r.createElement)(c.YXz,null),color:"bg-green-500"}),(0,r.createElement)(l.A,{title:"Komisi Pending",value:x(a?.komisiPending),icon:(0,r.createElement)(c.MxO,null),color:"bg-yellow-500"}),(0,r.createElement)(l.A,{title:"Komisi Cair",value:x(a?.komisiCair),icon:(0,r.createElement)(c.MxO,null),color:"bg-blue-500"}),(0,r.createElement)(l.A,{title:"Prospek Baru",value:a?.potensiLeads||0,icon:(0,r.createElement)(c.NPy,null),color:"bg-purple-500"})),(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("h3",{className:"font-bold text-gray-800 text-lg"},"Jemaah Terbaru Anda"),(0,r.createElement)("button",{className:"text-blue-600 text-sm font-medium hover:underline"},"Lihat Semua")),(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"w-full"},(0,r.createElement)("thead",null,(0,r.createElement)("tr",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-100"},(0,r.createElement)("th",{className:"pb-3 pl-2"},"Nama Jemaah"),(0,r.createElement)("th",{className:"pb-3"},"Paket"),(0,r.createElement)("th",{className:"pb-3"},"Tanggal Input"),(0,r.createElement)("th",{className:"pb-3"},"Status"),(0,r.createElement)("th",{className:"pb-3 text-right pr-2"},"Aksi"))),(0,r.createElement)("tbody",{className:"divide-y divide-gray-50"},d.length>0?d.map(e=>(0,r.createElement)("tr",{key:e.id,className:"text-sm text-gray-700 hover:bg-gray-50 transition"},(0,r.createElement)("td",{className:"py-3 pl-2 font-medium text-gray-900"},e.name),(0,r.createElement)("td",{className:"py-3"},e.paket_name||(0,r.createElement)("span",{className:"text-gray-400 italic"},"Belum pilih paket")),(0,r.createElement)("td",{className:"py-3 text-gray-500"},new Date(e.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),(0,r.createElement)("td",{className:"py-3"},(0,r.createElement)("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold inline-block\n                        "+(["paid","booked","departed"].includes(e.status)?"bg-green-100 text-green-700":["new","prospect"].includes(e.status)?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700")},e.status?e.status.replace(/_/g," ").toUpperCase():"NEW")),(0,r.createElement)("td",{className:"py-3 text-right pr-2"},(0,r.createElement)("button",{className:"text-gray-400 hover:text-blue-600 font-medium transition"},"Detail")))):(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"5",className:"py-8 text-center text-gray-400"},"Belum ada data jemaah. Silakan input jemaah pertama anda.")))))))}}}]);
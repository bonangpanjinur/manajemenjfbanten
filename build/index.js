(()=>{"use strict";var e={338:(e,t,a)=>{var r=a(795);t.H=r.createRoot,r.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=window.React;var n=a.n(r),l=a(338),s="popstate";function i(e={}){return function(e,t,a,r={}){let{window:n=document.defaultView,v5Compat:l=!1}=r,i=n.history,c="POP",p=null,g=h();function h(){return(i.state||{idx:null}).idx}function f(){c="POP";let e=h(),t=null==e?null:e-g;g=e,p&&p({action:c,location:b.location,delta:t})}function y(e){return function(e,t=!1){let a="http://localhost";"undefined"!=typeof window&&(a="null"!==window.location.origin?window.location.origin:window.location.href),o(a,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:u(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}(e)}null==g&&(g=0,i.replaceState({...i.state,idx:g},""));let b={get action(){return c},get location(){return e(n,i)},listen(e){if(p)throw new Error("A history only accepts one active listener");return n.addEventListener(s,f),p=e,()=>{n.removeEventListener(s,f),p=null}},createHref:e=>t(n,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=d(b.location,e,t);a&&a(r,e),g=h()+1;let s=m(r,g),o=b.createHref(r);try{i.pushState(s,"",o)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;n.location.assign(o)}l&&p&&p({action:c,location:b.location,delta:1})},replace:function(e,t){c="REPLACE";let r=d(b.location,e,t);a&&a(r,e),g=h();let n=m(r,g),s=b.createHref(r);i.replaceState(n,"",s),l&&p&&p({action:c,location:b.location,delta:0})},go:e=>i.go(e)};return b}(function(e,t){let{pathname:a="/",search:r="",hash:n=""}=p(e.location.hash.substring(1));return a.startsWith("/")||a.startsWith(".")||(a="/"+a),d("",{pathname:a,search:r,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let a=e.document.querySelector("base"),r="";if(a&&a.getAttribute("href")){let t=e.location.href,a=t.indexOf("#");r=-1===a?t:t.slice(0,a)}return r+"#"+("string"==typeof t?t:u(t))},function(e,t){c("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},e)}function o(e,t){if(!1===e||null==e)throw new Error(t)}function c(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,a=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?p(t):t,state:a,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u({pathname:e="/",search:t="",hash:a=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),a&&"#"!==a&&(e+="#"===a.charAt(0)?a:"#"+a),e}function p(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function g(e,t,a="/"){return function(e,t,a,r){let n=j(("string"==typeof t?p(t):t).pathname||"/",a);if(null==n)return null;let l=h(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(l);let s=null;for(let e=0;null==s&&e<l.length;++e){let t=C(n);s=S(l[e],t,r)}return s}(e,t,a,!1)}function h(e,t=[],a=[],r="",n=!1){let l=(e,l,s=n,i)=>{let c={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:l,route:e};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&s)return;o(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let m=M([r,c.relativePath]),d=a.concat(c);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),h(e.children,t,d,m,s)),(null!=e.path||e.index)&&t.push({path:m,score:k(m,e.index),routesMeta:d})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let a of f(e.path))l(e,t,!0,a);else l(e,t)}),t}function f(e){let t=e.split("/");if(0===t.length)return[];let[a,...r]=t,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(0===r.length)return n?[l,""]:[l];let s=f(r.join("/")),i=[];return i.push(...s.map(e=>""===e?l:[l,e].join("/"))),n&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}new WeakMap;var y=/^:[\w-]+$/,b=3,x=2,v=1,E=10,w=-2,N=e=>"*"===e;function k(e,t){let a=e.split("/"),r=a.length;return a.some(N)&&(r+=w),t&&(r+=x),a.filter(e=>!N(e)).reduce((e,t)=>e+(y.test(t)?b:""===t?v:E),r)}function S(e,t,a=!1){let{routesMeta:r}=e,n={},l="/",s=[];for(let e=0;e<r.length;++e){let i=r[e],o=e===r.length-1,c="/"===l?t:t.slice(l.length)||"/",m=_({path:i.relativePath,caseSensitive:i.caseSensitive,end:o},c),d=i.route;if(!m&&o&&a&&!r[r.length-1].route.index&&(m=_({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},c)),!m)return null;Object.assign(n,m.params),s.push({params:n,pathname:M([l,m.pathname]),pathnameBase:R(M([l,m.pathnameBase])),route:d}),"/"!==m.pathnameBase&&(l=M([l,m.pathnameBase]))}return s}function _(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=function(e,t=!1,a=!0){c("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(r.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let l=n[0],s=l.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:a},r)=>{if("*"===t){let e=i[r]||"";s=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const n=i[r];return e[t]=a&&!n?void 0:(n||"").replace(/%2F/g,"/"),e},{}),pathname:l,pathnameBase:s,pattern:e}}function C(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&"/"!==r?null:e.slice(a)||"/"}var A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}function P(e,t,a,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function L(e,t,a,r=!1){let n;"string"==typeof e?n=p(e):(n={...e},o(!n.pathname||!n.pathname.includes("?"),P("?","pathname","search",n)),o(!n.pathname||!n.pathname.includes("#"),P("#","pathname","hash",n)),o(!n.search||!n.search.includes("#"),P("#","search","hash",n)));let l,s=""===e||""===n.pathname,i=s?"/":n.pathname;if(null==i)l=a;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}l=e>=0?t[e]:"/"}let m=function(e,t="/"){let a,{pathname:r,search:n="",hash:l=""}="string"==typeof e?p(e):e;if(r)if(s=r,A.test(s))a=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),c(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${r}`)}a=r.startsWith("/")?D(r.substring(1),"/"):D(r,t)}else a=t;var s;return{pathname:a,search:F(n),hash:V(l)}}(n,l),d=i&&"/"!==i&&i.endsWith("/"),u=(s||"."===i)&&a.endsWith("/");return m.pathname.endsWith("/")||!d&&!u||(m.pathname+="/"),m}var M=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function O(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}Symbol("Uninstrumented"),Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B=["POST","PUT","PATCH","DELETE"],$=(new Set(B),["GET",...B]);new Set($),Symbol("ResetLoaderData");var I=r.createContext(null);I.displayName="DataRouter";var z=r.createContext(null);z.displayName="DataRouterState";r.createContext(!1);var K=r.createContext({isTransitioning:!1});K.displayName="ViewTransition",r.createContext(new Map).displayName="Fetchers",r.createContext(null).displayName="Await";var H=r.createContext(null);H.displayName="Navigation";var U=r.createContext(null);U.displayName="Location";var q=r.createContext({outlet:null,matches:[],isDataRoute:!1});q.displayName="Route";var W=r.createContext(null);function J(){return null!=r.useContext(U)}function G(){return o(J(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(U).location}W.displayName="RouteError";var Y="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q(e){r.useContext(H).static||r.useLayoutEffect(e)}function X(){let{isDataRoute:e}=r.useContext(q);return e?function(){let{router:e}=function(e){let t=r.useContext(I);return o(t,le(e)),t}("useNavigate"),t=se("useNavigate"),a=r.useRef(!1);return Q(()=>{a.current=!0}),r.useCallback(async(r,n={})=>{c(a.current,Y),a.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...n}))},[e,t])}():function(){o(J(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(I),{basename:t,navigator:a}=r.useContext(H),{matches:n}=r.useContext(q),{pathname:l}=G(),s=JSON.stringify(T(n)),i=r.useRef(!1);return Q(()=>{i.current=!0}),r.useCallback((r,n={})=>{if(c(i.current,Y),!i.current)return;if("number"==typeof r)return void a.go(r);let o=L(r,JSON.parse(s),l,"path"===n.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:M([t,o.pathname])),(n.replace?a.replace:a.push)(o,n.state,n)},[t,a,s,l,e])}()}function Z(e,{relative:t}={}){let{matches:a}=r.useContext(q),{pathname:n}=G(),l=JSON.stringify(T(a));return r.useMemo(()=>L(e,JSON.parse(l),n,"path"===t),[e,l,n,t])}function ee(e,t,a,n,l){o(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(H),{matches:i}=r.useContext(q),m=i[i.length-1],d=m?m.params:{},u=m?m.pathname:"/",h=m?m.pathnameBase:"/",f=m&&m.route;{let e=f&&f.path||"";oe(u,!f||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let y,b=G();if(t){let e="string"==typeof t?p(t):t;o("/"===h||e.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${e.pathname}" was given in the \`location\` prop.`),y=e}else y=b;let x=y.pathname||"/",v=x;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let E=g(e,{pathname:v});c(f||null!=E,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),c(null==E||void 0!==E[E.length-1].route.element||void 0!==E[E.length-1].route.Component||void 0!==E[E.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=function(e,t=[],a=null,n=null){if(null==e){if(!a)return null;if(a.errors)e=a.matches;else{if(0!==t.length||a.initialized||!(a.matches.length>0))return null;e=a.matches}}let l=e,s=a?.errors;if(null!=s){let e=l.findIndex(e=>e.route.id&&void 0!==s?.[e.route.id]);o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),l=l.slice(0,Math.min(l.length,e+1))}let i=!1,c=-1;if(a)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=a,n=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||n){i=!0,l=c>=0?l.slice(0,c+1):[l[0]];break}}}let m=a&&n?(e,t)=>{n(e,{location:a.location,params:a.matches?.[0]?.params??{},errorInfo:t})}:void 0;return l.reduceRight((e,n,o)=>{let d,u=!1,p=null,g=null;a&&(d=s&&n.route.id?s[n.route.id]:void 0,p=n.route.errorElement||ae,i&&(c<0&&0===o?(oe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,g=null):c===o&&(u=!0,g=n.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,o+1)),f=()=>{let t;return t=d?p:u?g:n.route.Component?r.createElement(n.route.Component,null):n.route.element?n.route.element:e,r.createElement(ne,{match:n,routeContext:{outlet:e,matches:h,isDataRoute:null!=a},children:t})};return a&&(n.route.ErrorBoundary||n.route.errorElement||0===o)?r.createElement(re,{location:a.location,revalidation:a.revalidation,component:p,error:d,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0},onError:m}):f()},null)}(E&&E.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),i,a,n,l);return t&&w?r.createElement(U.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function te(){let e=function(){let e=r.useContext(W),t=function(e){let t=r.useContext(z);return o(t,le(e)),t}("useRouteError"),a=se("useRouteError");return void 0!==e?e:t.errors?.[a]}(),t=O(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=r.createElement(r.Fragment,null,r.createElement("p",null,"üíø Hey developer üëã"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),a?r.createElement("pre",{style:l},a):null,i)}r.createContext(null);var ae=r.createElement(te,null),re=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(q.Provider,{value:this.props.routeContext},r.createElement(W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ne({routeContext:e,match:t,children:a}){let n=r.useContext(I);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),r.createElement(q.Provider,{value:e},a)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function se(e){let t=function(e){let t=r.useContext(q);return o(t,le(e)),t}(e),a=t.matches[t.matches.length-1];return o(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}var ie={};function oe(e,t,a){t||ie[e]||(ie[e]=!0,c(!1,a))}function ce(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function me({basename:e="/",children:t=null,location:a,navigationType:n="POP",navigator:l,static:s=!1}){o(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:i,navigator:l,static:s,future:{}}),[i,l,s]);"string"==typeof a&&(a=p(a));let{pathname:d="/",search:u="",hash:g="",state:h=null,key:f="default"}=a,y=r.useMemo(()=>{let e=j(d,i);return null==e?null:{location:{pathname:e,search:u,hash:g,state:h,key:f},navigationType:n}},[i,d,u,g,h,f,n]);return c(null!=y,`<Router basename="${i}"> is not able to match the URL "${d}${u}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:r.createElement(H.Provider,{value:m},r.createElement(U.Provider,{children:t,value:y}))}function de({children:e,location:t}){return ee(ue(e),t)}function ue(e,t=[]){let a=[];return r.Children.forEach(e,(e,n)=>{if(!r.isValidElement(e))return;let l=[...t,n];if(e.type===r.Fragment)return void a.push.apply(a,ue(e.props.children,l));o(e.type===ce,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ue(e.props.children,l)),a.push(s)}),a}r.memo(function({routes:e,future:t,state:a,unstable_onError:r}){return ee(e,void 0,a,r,t)}),r.Component;var pe="get",ge="application/x-www-form-urlencoded";function he(e){return null!=e&&"string"==typeof e.tagName}var fe=null,ye=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function be(e){return null==e||ye.has(e)?e:(c(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ge}"`),null)}function xe(e,t){if(!1===e||null==e)throw new Error(t)}function ve(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function Ee(e,t,a,r,n,l){let s=(e,t)=>!a[t]||e.route.id!==a[t].route.id,i=(e,t)=>a[t].pathname!==e.pathname||a[t].route.path?.endsWith("*")&&a[t].params["*"]!==e.params["*"];return"assets"===l?t.filter((e,t)=>s(e,t)||i(e,t)):"data"===l?t.filter((t,l)=>{let o=r.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(s(t,l)||i(t,l))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function we(e,t,{includeHydrateFallback:a}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let n=[r.module];return r.clientActionModule&&(n=n.concat(r.clientActionModule)),r.clientLoaderModule&&(n=n.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(n=n.concat(r.hydrateFallbackModule)),r.imports&&(n=n.concat(r.imports)),n}).flat(1),[...new Set(r)];var r}function Ne(){let e=r.useContext(I);return xe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ke(){let e=r.useContext(z);return xe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis,Symbol("SingleFetchRedirect");var Se=r.createContext(void 0);function _e(){let e=r.useContext(Se);return xe(e,"You must render this element inside a <HydratedRouter> element"),e}function Ce(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function je({page:e,...t}){let{router:a}=Ne(),n=r.useMemo(()=>g(a.routes,e,a.basename),[a.routes,e,a.basename]);return n?r.createElement(De,{page:e,matches:n,...t}):null}function Ae(e){let{manifest:t,routeModules:a}=_e(),[n,l]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,a){return function(e,t){let a=new Set,r=new Set(t);return e.reduce((e,n)=>{if(t&&(null==(l=n)||"string"!=typeof l.page)&&"script"===n.as&&n.href&&r.has(n.href))return e;var l;let s=JSON.stringify(function(e){let t={},a=Object.keys(e).sort();for(let r of a)t[r]=e[r];return t}(n));return a.has(s)||(a.add(s),e.push({key:s,link:n})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,a);return e.links?e.links():[]}return[]}))).flat(1).filter(ve).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,a).then(e=>{r||l(e)}),()=>{r=!0}},[e,t,a]),n}function De({page:e,matches:t,...a}){let n=G(),{manifest:l,routeModules:s}=_e(),{basename:i}=Ne(),{loaderData:o,matches:c}=ke(),m=r.useMemo(()=>Ee(e,t,c,l,n,"data"),[e,t,c,l,n]),d=r.useMemo(()=>Ee(e,t,c,l,n,"assets"),[e,t,c,l,n]),u=r.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let a=new Set,r=!1;if(t.forEach(e=>{let t=l.routes[e.route.id];t&&t.hasLoader&&(!m.some(t=>t.route.id===e.route.id)&&e.route.id in o&&s[e.route.id]?.shouldRevalidate||t.hasClientLoader?r=!0:a.add(e.route.id))}),0===a.size)return[];let c=function(e,t,a){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${a}`:t&&"/"===j(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}(e,i,"data");return r&&a.size>0&&c.searchParams.set("_routes",t.filter(e=>a.has(e.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[i,o,n,l,m,t,e,s]),p=r.useMemo(()=>we(d,l),[d,l]),g=Ae(d);return r.createElement(r.Fragment,null,u.map(e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),p.map(e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),g.map(({key:e,link:t})=>r.createElement("link",{key:e,nonce:a.nonce,...t})))}Se.displayName="FrameworkContext";function Pe(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}r.Component;var Te="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Te&&(window.__reactRouterVersion="7.9.6")}catch(e){}function Le({basename:e,children:t,window:a}){let n=r.useRef();null==n.current&&(n.current=i({window:a,v5Compat:!0}));let l=n.current,[s,o]=r.useState({action:l.action,location:l.location}),c=r.useCallback(e=>{r.startTransition(()=>o(e))},[o]);return r.useLayoutEffect(()=>l.listen(c),[l,c]),r.createElement(me,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:l})}var Me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=r.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:n,reloadDocument:l,replace:s,state:i,target:m,to:d,preventScrollReset:p,viewTransition:g,...h},f){let y,{basename:b}=r.useContext(H),x="string"==typeof d&&Me.test(d),v=!1;if("string"==typeof d&&x&&(y=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),a=j(t.pathname,b);t.origin===e.origin&&null!=a?d=a+t.search+t.hash:v=!0}catch(e){c(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=function(e,{relative:t}={}){o(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=r.useContext(H),{hash:l,pathname:s,search:i}=Z(e,{relative:t}),c=s;return"/"!==a&&(c="/"===s?a:M([a,s])),n.createHref({pathname:c,search:i,hash:l})}(d,{relative:n}),[w,N,k]=function(e,t){let a=r.useContext(Se),[n,l]=r.useState(!1),[s,i]=r.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:m,onMouseLeave:d,onTouchStart:u}=t,p=r.useRef(null);r.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(n){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[n]);let g=()=>{l(!0)},h=()=>{l(!1),i(!1)};return a?"intent"!==e?[s,p,{}]:[s,p,{onFocus:Ce(o,g),onBlur:Ce(c,h),onMouseEnter:Ce(m,g),onMouseLeave:Ce(d,h),onTouchStart:Ce(u,g)}]:[!1,p,{}]}(a,h),S=function(e,{target:t,replace:a,state:n,preventScrollReset:l,relative:s,viewTransition:i}={}){let o=X(),c=G(),m=Z(e,{relative:s});return r.useCallback(r=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(r,t)){r.preventDefault();let t=void 0!==a?a:u(c)===u(m);o(e,{replace:t,state:n,preventScrollReset:l,relative:s,viewTransition:i})}},[c,o,m,a,n,t,e,l,s,i])}(d,{replace:s,state:i,target:m,preventScrollReset:p,relative:n,viewTransition:g}),_=r.createElement("a",{...h,...k,href:y||E,onClick:v||l?e:function(t){e&&e(t),t.defaultPrevented||S(t)},ref:Pe(f,N),target:m,"data-discover":x||"render"!==t?void 0:"true"});return w&&!x?r.createElement(r.Fragment,null,_,r.createElement(je,{page:E})):_});function Fe(e){let t=r.useContext(I);return o(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}Re.displayName="Link",r.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:n=!1,style:l,to:s,viewTransition:i,children:c,...m},d){let u=Z(s,{relative:m.relative}),p=G(),g=r.useContext(z),{navigator:h,basename:f}=r.useContext(H),y=null!=g&&function(e,{relative:t}={}){let a=r.useContext(K);o(null!=a,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Fe("useViewTransitionState"),l=Z(e,{relative:t});if(!a.isTransitioning)return!1;let s=j(a.currentLocation.pathname,n)||a.currentLocation.pathname,i=j(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=_(l.pathname,i)||null!=_(l.pathname,s)}(u)&&!0===i,b=h.encodeLocation?h.encodeLocation(u).pathname:u.pathname,x=p.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(x=x.toLowerCase(),v=v?v.toLowerCase():null,b=b.toLowerCase()),v&&f&&(v=j(v,f)||v);const E="/"!==b&&b.endsWith("/")?b.length-1:b.length;let w,N=x===b||!n&&x.startsWith(b)&&"/"===x.charAt(E),k=null!=v&&(v===b||!n&&v.startsWith(b)&&"/"===v.charAt(b.length)),S={isActive:N,isPending:k,isTransitioning:y},C=N?e:void 0;w="function"==typeof a?a(S):[a,N?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let A="function"==typeof l?l(S):l;return r.createElement(Re,{...m,"aria-current":C,className:w,ref:d,style:A,to:s,viewTransition:i},"function"==typeof c?c(S):c)}).displayName="NavLink",r.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:n,replace:l,state:s,method:i=pe,action:c,onSubmit:m,relative:d,preventScrollReset:p,viewTransition:g,...h},f)=>{let y=function(){let{router:e}=Fe("useSubmit"),{basename:t}=r.useContext(H),a=se("useRouteId");return r.useCallback(async(r,n={})=>{let{action:l,method:s,encType:i,formData:o,body:c}=function(e,t){let a,r,n,l,s;if(he(i=e)&&"form"===i.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?j(s,t):null,a=e.getAttribute("method")||pe,n=be(e.getAttribute("enctype"))||ge,l=new FormData(e)}else if(function(e){return he(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return he(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||s.getAttribute("action");if(r=i?j(i,t):null,a=e.getAttribute("formmethod")||s.getAttribute("method")||pe,n=be(e.getAttribute("formenctype"))||be(s.getAttribute("enctype"))||ge,l=new FormData(s,e),!function(){if(null===fe)try{new FormData(document.createElement("form"),0),fe=!1}catch(e){fe=!0}return fe}()){let{name:t,type:a,value:r}=e;if("image"===a){let e=t?`${t}.`:"";l.append(`${e}x`,"0"),l.append(`${e}y`,"0")}else t&&l.append(t,r)}}else{if(he(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=pe,r=null,n=ge,s=e}var i;return l&&"text/plain"===n&&(s=l,l=void 0),{action:r,method:a.toLowerCase(),encType:n,formData:l,body:s}}(r,t);if(!1===n.navigate){let t=n.fetcherKey||Oe();await e.fetch(t,a,n.action||l,{preventScrollReset:n.preventScrollReset,formData:o,body:c,formMethod:n.method||s,formEncType:n.encType||i,flushSync:n.flushSync})}else await e.navigate(n.action||l,{preventScrollReset:n.preventScrollReset,formData:o,body:c,formMethod:n.method||s,formEncType:n.encType||i,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,a])}(),b=function(e,{relative:t}={}){let{basename:a}=r.useContext(H),n=r.useContext(q);o(n,"useFormAction must be used inside a RouteContext");let[l]=n.matches.slice(-1),s={...Z(e||".",{relative:t})},i=G();if(null==e){s.search=i.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let a=e.toString();s.search=a?`?${a}`:""}}return e&&"."!==e||!l.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),"/"!==a&&(s.pathname="/"===s.pathname?a:M([a,s.pathname])),u(s)}(c,{relative:d}),x="get"===i.toLowerCase()?"get":"post",v="string"==typeof c&&Me.test(c);return r.createElement("form",{ref:f,method:x,action:b,onSubmit:n?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,n=r?.getAttribute("formmethod")||i;y(r||e.currentTarget,{fetcherKey:t,method:n,navigate:a,replace:l,state:s,relative:d,preventScrollReset:p,viewTransition:g})},...h,"data-discover":v||"render"!==e?void 0:"true"})}).displayName="Form";var Ve=0,Oe=()=>`__${String(++Ve)}__`;const Be=(0,r.createContext)(),$e=()=>(0,r.useContext)(Be),Ie=({children:e})=>{const t=window.umh_wp_data||{},[a,n]=(0,r.useState)(t.user||null),[l,s]=(0,r.useState)(t.nonce||""),[i,o]=(0,r.useState)(localStorage.getItem("umh_token")||""),[c,m]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t.nonce?console.log("‚úÖ UMH: Terhubung sebagai",t.user?.name):console.warn("‚ö†Ô∏è UMH: Nonce tidak ditemukan. Pastikan plugin aktif.")},[]),(0,r.createElement)(Be.Provider,{value:{currentUser:a,nonce:l,token:i,login:(e,t)=>{n(e),o(t),localStorage.setItem("umh_token",t)},logout:()=>{n(null),o(""),localStorage.removeItem("umh_token")},loading:c,isAdmin:t.is_wp_admin,urls:{admin:t.adminUrl,print:t.printUrl}}},e)},ze=(0,r.createContext)(),Ke=()=>(0,r.useContext)(ze),He=({children:e})=>{const{token:t,nonce:a}=$e(),[n,l]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null),o=async(e,r="GET",n=null,s=!1)=>{l(!0),i(null);try{const l={"X-WP-Nonce":a,Accept:"application/json"};t&&(l.Authorization=`Bearer ${t}`),s||(l["Content-Type"]="application/json");const i={method:r,headers:l};n&&(i.body=s?n:JSON.stringify(n));const o=await fetch(`/wp-json/umh/v1${e}`,i),c=await o.text();let m;try{m=JSON.parse(c)}catch(e){console.error("‚ùå Non-JSON Response:",c);const t=c.includes("<")?"Server Error (Cek Console Browser)":c;throw new Error(`Terjadi kesalahan server: ${t}`)}if(!o.ok)throw new Error(m.message||m.code||"Gagal memproses permintaan");return m}catch(e){throw console.error("API Error:",e),i(e.message),e}finally{l(!1)}},c={get:e=>o(e,"GET"),post:(e,t)=>o(e,"POST",t),put:(e,t)=>o(e,"PUT",t),delete:e=>o(e,"DELETE")};return(0,r.createElement)(ze.Provider,{value:{loading:n,error:s,apiCall:o,api:c,getPackages:e=>o(`/packages?${new URLSearchParams(e)}`),deletePackage:e=>o(`/packages/${e}`,"DELETE"),createJamaah:e=>o("/jamaah","POST",e),updateJamaah:(e,t)=>o(`/jamaah/${e}`,"PUT",t),getJamaahList:e=>o(`/jamaah?${new URLSearchParams(e)}`),createPayment:e=>o("/finance/payments","POST",e),createCashTransaction:e=>o("/finance/cash-flow","POST",e),createOrUpdate:(e,t,a=null)=>a?o(`/${e}/${a}`,"PUT",t):o(`/${e}`,"POST",t),getDashboardStats:()=>o("/stats/dashboard"),fetchLogs:()=>o("/logs")}},e)},Ue=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},qe=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),We=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Je={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ge=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:l="",children:s,iconNode:i,...o},c)=>(0,r.createElement)("svg",{ref:c,...Je,width:t,height:t,stroke:e,strokeWidth:n?24*Number(a)/Number(t):a,className:qe("lucide",l),...!s&&!We(o)&&{"aria-hidden":"true"},...o},[...i.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(s)?s:[s]])),Ye=(e,t)=>{const a=(0,r.forwardRef)(({className:a,...n},l)=>{return(0,r.createElement)(Ge,{ref:l,iconNode:t,className:qe(`lucide-${s=Ue(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...n});var s});return a.displayName=Ue(e),a},Qe=Ye("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Xe=Ye("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Ze=Ye("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),et=Ye("bed-double",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]),tt=Ye("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),at=Ye("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),rt=Ye("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),nt=Ye("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),lt=Ye("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),st=Ye("network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),it=Ye("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ot=Ye("scroll-text",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),ct=Ye("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),mt=({size:e="md",color:t="blue"})=>(0,r.createElement)("svg",{className:`animate-spin ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[e]} ${{blue:"text-blue-600",white:"text-white",gray:"text-gray-600"}[t]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,r.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),dt=({text:e="Memuat data..."})=>(0,r.createElement)("div",{className:"flex flex-col items-center justify-center p-10 h-64 w-full"},(0,r.createElement)(mt,{size:"lg",color:"blue"}),(0,r.createElement)("p",{className:"mt-4 text-gray-500 font-medium animate-pulse"},e)),ut=({title:e,value:t,icon:a,color:n})=>{const l={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",yellow:"from-yellow-400 to-yellow-500",indigo:"from-indigo-500 to-indigo-600",red:"from-red-500 to-red-600",gray:"from-gray-500 to-gray-600"}[n]||"from-blue-500 to-blue-600";return(0,r.createElement)("div",{className:"bg-white overflow-hidden shadow-sm hover:shadow-md transition-shadow rounded-xl border border-gray-100"},(0,r.createElement)("div",{className:"p-5"},(0,r.createElement)("div",{className:"flex items-center justify-between"},(0,r.createElement)("div",{className:"flex-1 min-w-0"},(0,r.createElement)("p",{className:"text-sm font-medium text-gray-500 truncate uppercase tracking-wider"},e),(0,r.createElement)("div",{className:"mt-1 text-2xl font-extrabold text-gray-900"},t)),(0,r.createElement)("div",{className:`flex-shrink-0 rounded-lg p-3 bg-gradient-to-br ${l} text-white shadow-lg transform transition-transform hover:scale-105`},(0,r.createElement)("span",{className:"text-xl"},a)))))};var pt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gt=r.createContext&&r.createContext(pt),ht=["attr","size","title"];function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ft.apply(this,arguments)}function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(a),!0).forEach(function(t){var r,n,l,s;r=e,n=t,l=a[t],(n="symbol"==typeof(s=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n))?s:s+"")in r?Object.defineProperty(r,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function xt(e){return e&&e.map((e,t)=>r.createElement(e.tag,bt({key:t},e.attr),xt(e.child)))}function vt(e){return t=>r.createElement(Et,ft({attr:bt({},e.attr)},t),xt(e.child))}function Et(e){var t=t=>{var a,{attr:n,size:l,title:s}=e,i=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,ht),o=l||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",ft({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,i,{className:a,style:bt(bt({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==gt?r.createElement(gt.Consumer,null,e=>t(e)):t(pt)}function wt(e){return vt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Nt(e){return vt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function kt(e){return vt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h608c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM80.55 341.27c6.28 6.84 15.1 10.72 24.33 10.71l130.54-.18a65.62 65.62 0 0 0 29.64-7.12l290.96-147.65c26.74-13.57 50.71-32.94 67.02-58.31 18.31-28.48 20.3-49.09 13.07-63.65-7.21-14.57-24.74-25.27-58.25-27.45-29.85-1.94-59.54 5.92-86.28 19.48l-98.51 49.99-218.7-82.06a17.799 17.799 0 0 0-18-1.11L90.62 67.29c-10.67 5.41-13.25 19.65-5.17 28.53l156.22 98.1-103.21 52.38-72.35-36.47a17.804 17.804 0 0 0-16.07.02L9.91 230.22c-10.44 5.3-13.19 19.12-5.57 28.08l76.21 82.97z"},child:[]}]})(e)}function St(e){return vt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function _t(e){return vt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function Ct(e){return vt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}const jt=()=>{const{getDashboardStats:e,apiCall:t,loading:a}=Ke(),{currentUser:n}=$e(),[l,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{e().then(e=>s(e)).catch(console.error)},[]),a||!l)return(0,r.createElement)(dt,{text:"Menyiapkan Dashboard..."});const d=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e);return(0,r.createElement)("div",{className:"p-6 space-y-8 bg-gray-50 min-h-screen font-sans"},(0,r.createElement)("div",{className:"flex justify-between items-end"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-3xl font-extrabold text-gray-900"},"Dashboard"),(0,r.createElement)("p",{className:"text-gray-500 mt-1"},"Selamat datang, ",(0,r.createElement)("span",{className:"font-semibold text-blue-600"},n?.full_name),"!"))),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5"},(0,r.createElement)(ut,{title:"Total Jamaah",value:l.cards.total_jamaah,icon:(0,r.createElement)(_t,null),color:"blue"}),(0,r.createElement)(ut,{title:"Jamaah Bulan Ini",value:l.cards.new_jamaah_month,icon:(0,r.createElement)(wt,null),color:"green"}),(0,r.createElement)(ut,{title:"Total Pemasukan",value:d(l.cards.revenue),icon:(0,r.createElement)(Nt,null),color:"yellow"}),(0,r.createElement)(ut,{title:"Saldo Kas",value:d(l.cards.profit),icon:(0,r.createElement)(Ct,null),color:"indigo"})),(0,r.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},(0,r.createElement)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},(0,r.createElement)("div",{className:"p-5 border-b border-gray-100 flex items-center gap-2"},(0,r.createElement)(kt,{className:"text-blue-500"}),(0,r.createElement)("h3",{className:"font-bold text-gray-800"},"Jadwal Keberangkatan Terdekat")),(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"w-full text-sm text-left"},(0,r.createElement)("thead",{className:"bg-gray-50 text-gray-500"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"p-4 font-medium"},"Nama Paket"),(0,r.createElement)("th",{className:"p-4 font-medium"},"Maskapai"),(0,r.createElement)("th",{className:"p-4 font-medium"},"Tanggal"),(0,r.createElement)("th",{className:"p-4 font-medium text-center"},"Jamaah"))),(0,r.createElement)("tbody",{className:"divide-y"},l.upcoming?.map((e,t)=>(0,r.createElement)("tr",{key:t,className:"hover:bg-gray-50 transition"},(0,r.createElement)("td",{className:"p-4 font-medium text-gray-900"},e.name),(0,r.createElement)("td",{className:"p-4 text-gray-600"},e.airline_name),(0,r.createElement)("td",{className:"p-4 text-blue-600 font-medium"},e.departure_date),(0,r.createElement)("td",{className:"p-4 text-center"},(0,r.createElement)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-bold"},e.jamaah_count)))))))),(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 flex flex-col"},(0,r.createElement)("div",{className:"p-5 border-b border-gray-100 bg-gradient-to-r from-blue-600 to-blue-700 rounded-t-xl"},(0,r.createElement)("h3",{className:"font-bold text-white"},"Laporan Kinerja Harian"),(0,r.createElement)("p",{className:"text-blue-100 text-xs mt-1"},"Wajib diisi sebelum pulang.")),(0,r.createElement)("div",{className:"p-5 flex-1"},(0,r.createElement)("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim()){m(!0);try{await t("/reports","POST",{user_id:n?.id,content:i}),alert("Laporan kerja berhasil dikirim!"),o("")}catch(e){alert("Gagal: "+e.message)}finally{m(!1)}}},className:"flex flex-col h-full"},(0,r.createElement)("textarea",{className:"w-full p-3 rounded-lg border border-gray-300 text-sm flex-1 mb-4 resize-none",rows:"6",placeholder:"Tuliskan hasil pekerjaan hari ini...",value:i,onChange:e=>o(e.target.value),required:!0}),(0,r.createElement)("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white font-bold py-2.5 rounded-lg shadow-md disabled:bg-gray-400"},"Kirim Laporan"))))))},At=({isOpen:e,onClose:t,title:a,children:n,size:l="md",noPadding:s=!1})=>((0,r.useEffect)(()=>{const a=e=>{"Escape"===e.key&&t()};return e&&window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,t]),e?(0,r.createElement)("div",{className:"fixed inset-0 z-50 overflow-y-auto"},(0,r.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,r.createElement)("div",{className:"flex items-center justify-center min-h-screen p-4"},(0,r.createElement)("div",{className:`relative bg-white rounded-xl shadow-2xl w-full transform transition-all ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[l]}`,onClick:e=>e.stopPropagation()},(0,r.createElement)("div",{className:"flex justify-between items-center p-5 border-b border-gray-100"},(0,r.createElement)("h3",{className:"text-xl font-bold text-gray-800"},a),(0,r.createElement)("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50"},(0,r.createElement)(St,null))),(0,r.createElement)("div",{className:s?"":"p-6"},n)))):null);var Dt=e=>"checkbox"===e.type,Pt=e=>e instanceof Date,Tt=e=>null==e;const Lt=e=>"object"==typeof e;var Mt=e=>!Tt(e)&&!Array.isArray(e)&&Lt(e)&&!Pt(e),Rt="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function Ft(e){let t;const a=Array.isArray(e),r="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Rt&&(e instanceof Blob||r)||!a&&!Mt(e))return e;if(t=a?[]:Object.create(Object.getPrototypeOf(e)),a||(e=>{const t=e.constructor&&e.constructor.prototype;return Mt(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const a in e)e.hasOwnProperty(a)&&(t[a]=Ft(e[a]));else t=e}return t}var Vt=e=>/^\w*$/.test(e),Ot=e=>void 0===e,Bt=e=>Array.isArray(e)?e.filter(Boolean):[],$t=e=>Bt(e.replace(/["|']|\]/g,"").split(/\.|\[/)),It=(e,t,a)=>{if(!t||!Mt(e))return a;const r=(Vt(t)?[t]:$t(t)).reduce((e,t)=>Tt(e)?e:e[t],e);return Ot(r)||r===e?Ot(e[t])?a:e[t]:r},zt=e=>"boolean"==typeof e,Kt=(e,t,a)=>{let r=-1;const n=Vt(t)?[t]:$t(t),l=n.length,s=l-1;for(;++r<l;){const t=n[r];let l=a;if(r!==s){const a=e[t];l=Mt(a)||Array.isArray(a)?a:isNaN(+n[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=l,e=e[t]}};const Ht="onChange",Ut="onSubmit",qt="all",Wt="pattern",Jt="required";r.createContext(null).displayName="HookFormContext";const Gt="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;var Yt=e=>"string"==typeof e,Qt=e=>Tt(e)||!Lt(e);function Xt(e,t,a=new WeakSet){if(Qt(e)||Qt(t))return Object.is(e,t);if(Pt(e)&&Pt(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;if(a.has(e)||a.has(t))return!0;a.add(e),a.add(t);for(const l of r){const r=e[l];if(!n.includes(l))return!1;if("ref"!==l){const e=t[l];if(Pt(r)&&Pt(e)||Mt(r)&&Mt(e)||Array.isArray(r)&&Array.isArray(e)?!Xt(r,e,a):!Object.is(r,e))return!1}}return!0}var Zt=(e,t,a,r,n)=>t?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[r]:n||!0}}:{},ea=e=>Array.isArray(e)?e:[e],ta=()=>{let e=[];return{get observers(){return e},next:t=>{for(const a of e)a.next&&a.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function aa(e,t){const a={};for(const r in e)if(e.hasOwnProperty(r)){const n=e[r],l=t[r];if(n&&Mt(n)&&l){const e=aa(n,l);Mt(e)&&(a[r]=e)}else e[r]&&(a[r]=l)}return a}var ra=e=>Mt(e)&&!Object.keys(e).length,na=e=>"file"===e.type,la=e=>"function"==typeof e,sa=e=>{if(!Rt)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ia=e=>"select-multiple"===e.type,oa=e=>"radio"===e.type,ca=e=>sa(e)&&e.isConnected;function ma(e,t){const a=Array.isArray(t)?t:Vt(t)?[t]:$t(t),r=1===a.length?e:function(e,t){const a=t.slice(0,-1).length;let r=0;for(;r<a;)e=Ot(e)?r++:e[t[r++]];return e}(e,a),n=a.length-1,l=a[n];return r&&delete r[l],0!==n&&(Mt(r)&&ra(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ot(e[t]))return!1;return!0}(r))&&ma(e,a.slice(0,-1)),e}function da(e){return Array.isArray(e)||Mt(e)&&!(e=>{for(const t in e)if(la(e[t]))return!0;return!1})(e)}function ua(e,t={}){for(const a in e){const r=e[a];da(r)?(t[a]=Array.isArray(r)?[]:{},ua(r,t[a])):Ot(r)||(t[a]=!0)}return t}function pa(e,t,a){a||(a=ua(t));for(const r in e){const n=e[r];if(da(n))Ot(t)||Qt(a[r])?a[r]=ua(n,Array.isArray(n)?[]:{}):pa(n,Tt(t)?{}:t[r],a[r]);else{const e=t[r];a[r]=!Xt(n,e)}}return a}const ga={value:!1,isValid:!1},ha={value:!0,isValid:!0};var fa=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ot(e[0].attributes.value)?Ot(e[0].value)||""===e[0].value?ha:{value:e[0].value,isValid:!0}:ha:ga}return ga},ya=(e,{valueAsNumber:t,valueAsDate:a,setValueAs:r})=>Ot(e)?e:t?""===e?NaN:e?+e:e:a&&Yt(e)?new Date(e):r?r(e):e;const ba={isValid:!1,value:null};var xa=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ba):ba;function va(e){const t=e.ref;return na(t)?t.files:oa(t)?xa(e.refs).value:ia(t)?[...t.selectedOptions].map(({value:e})=>e):Dt(t)?fa(e.refs).value:ya(Ot(t.value)?e.ref.value:t.value,e)}var Ea=e=>e instanceof RegExp,wa=e=>Ot(e)?e:Ea(e)?e.source:Mt(e)?Ea(e.value)?e.value.source:e.value:e,Na=e=>({isOnSubmit:!e||e===Ut,isOnBlur:"onBlur"===e,isOnChange:e===Ht,isOnAll:e===qt,isOnTouch:"onTouched"===e});const ka="AsyncFunction";var Sa=e=>!!e&&!!e.validate&&!!(la(e.validate)&&e.validate.constructor.name===ka||Mt(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===ka)),_a=(e,t,a)=>!a&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Ca=(e,t,a,r)=>{for(const n of a||Object.keys(e)){const a=It(e,n);if(a){const{_f:e,...l}=a;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],n)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Ca(l,t))break}else if(Mt(l)&&Ca(l,t))break}}};function ja(e,t,a){const r=It(e,a);if(r||Vt(a))return{error:r,name:a};const n=a.split(".");for(;n.length;){const r=n.join("."),l=It(t,r),s=It(e,r);if(l&&!Array.isArray(l)&&a!==r)return{name:a};if(s&&s.type)return{name:r,error:s};if(s&&s.root&&s.root.type)return{name:`${r}.root`,error:s.root};n.pop()}return{name:a}}var Aa=(e,t,a)=>{const r=ea(It(e,a));return Kt(r,"root",t[a]),Kt(e,a,r),e};function Da(e,t,a="validate"){if(Yt(e)||Array.isArray(e)&&e.every(Yt)||zt(e)&&!e)return{type:a,message:Yt(e)?e:"",ref:t}}var Pa=e=>Mt(e)&&!Ea(e)?e:{value:e,message:""},Ta=async(e,t,a,r,n,l)=>{const{ref:s,refs:i,required:o,maxLength:c,minLength:m,min:d,max:u,pattern:p,validate:g,name:h,valueAsNumber:f,mount:y}=e._f,b=It(a,h);if(!y||t.has(h))return{};const x=i?i[0]:s,v=e=>{n&&x.reportValidity&&(x.setCustomValidity(zt(e)?"":e||""),x.reportValidity())},E={},w=oa(s),N=Dt(s),k=w||N,S=(f||na(s))&&Ot(s.value)&&Ot(b)||sa(s)&&""===s.value||""===b||Array.isArray(b)&&!b.length,_=Zt.bind(null,h,r,E),C=(e,t,a,r="maxLength",n="minLength")=>{const l=e?t:a;E[h]={type:e?r:n,message:l,ref:s,..._(e?r:n,l)}};if(l?!Array.isArray(b)||!b.length:o&&(!k&&(S||Tt(b))||zt(b)&&!b||N&&!fa(i).isValid||w&&!xa(i).isValid)){const{value:e,message:t}=Yt(o)?{value:!!o,message:o}:Pa(o);if(e&&(E[h]={type:Jt,message:t,ref:x,..._(Jt,t)},!r))return v(t),E}if(!(S||Tt(d)&&Tt(u))){let e,t;const a=Pa(u),n=Pa(d);if(Tt(b)||isNaN(b)){const r=s.valueAsDate||new Date(b),l=e=>new Date((new Date).toDateString()+" "+e),i="time"==s.type,o="week"==s.type;Yt(a.value)&&b&&(e=i?l(b)>l(a.value):o?b>a.value:r>new Date(a.value)),Yt(n.value)&&b&&(t=i?l(b)<l(n.value):o?b<n.value:r<new Date(n.value))}else{const r=s.valueAsNumber||(b?+b:b);Tt(a.value)||(e=r>a.value),Tt(n.value)||(t=r<n.value)}if((e||t)&&(C(!!e,a.message,n.message,"max","min"),!r))return v(E[h].message),E}if((c||m)&&!S&&(Yt(b)||l&&Array.isArray(b))){const e=Pa(c),t=Pa(m),a=!Tt(e.value)&&b.length>+e.value,n=!Tt(t.value)&&b.length<+t.value;if((a||n)&&(C(a,e.message,t.message),!r))return v(E[h].message),E}if(p&&!S&&Yt(b)){const{value:e,message:t}=Pa(p);if(Ea(e)&&!b.match(e)&&(E[h]={type:Wt,message:t,ref:s,..._(Wt,t)},!r))return v(t),E}if(g)if(la(g)){const e=Da(await g(b,a),x);if(e&&(E[h]={...e,..._("validate",e.message)},!r))return v(e.message),E}else if(Mt(g)){let e={};for(const t in g){if(!ra(e)&&!r)break;const n=Da(await g[t](b,a),x,t);n&&(e={...n,..._(t,n.message)},v(n.message),r&&(E[h]=e))}if(!ra(e)&&(E[h]={ref:x,...e},!r))return E}return v(!0),E};const La={mode:Ut,reValidateMode:Ht,shouldFocusError:!0};function Ma(e={}){let t,a={...La,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:la(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},n={},l=(Mt(a.defaultValues)||Mt(a.values))&&Ft(a.defaultValues||a.values)||{},s=a.shouldUnregister?{}:Ft(l),i={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...m};const u={array:ta(),state:ta()},p=a.criteriaMode===qt,g=async e=>{if(!a.disabled&&(m.isValid||d.isValid||e)){const e=a.resolver?ra((await b()).errors):await x(n,!0);e!==r.isValid&&u.state.next({isValid:e})}},h=(e,t)=>{!a.disabled&&(m.isValidating||m.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(o.mount)).forEach(e=>{e&&(t?Kt(r.validatingFields,e,t):ma(r.validatingFields,e))}),u.state.next({validatingFields:r.validatingFields,isValidating:!ra(r.validatingFields)}))},f=(e,t,a,r)=>{const o=It(n,e);if(o){const n=It(s,e,Ot(a)?It(l,e):a);Ot(n)||r&&r.defaultChecked||t?Kt(s,e,t?n:va(o._f)):w(e,n),i.mount&&!i.action&&g()}},y=(e,t,n,s,i)=>{let o=!1,c=!1;const p={name:e};if(!a.disabled){if(!n||s){(m.isDirty||d.isDirty)&&(c=r.isDirty,r.isDirty=p.isDirty=v(),o=c!==p.isDirty);const a=Xt(It(l,e),t);c=!!It(r.dirtyFields,e),a?ma(r.dirtyFields,e):Kt(r.dirtyFields,e,!0),p.dirtyFields=r.dirtyFields,o=o||(m.dirtyFields||d.dirtyFields)&&c!==!a}if(n){const t=It(r.touchedFields,e);t||(Kt(r.touchedFields,e,n),p.touchedFields=r.touchedFields,o=o||(m.touchedFields||d.touchedFields)&&t!==n)}o&&i&&u.state.next(p)}return o?p:{}},b=async e=>{h(e,!0);const t=await a.resolver(s,a.context,((e,t,a,r)=>{const n={};for(const a of e){const e=It(t,a);e&&Kt(n,a,e._f)}return{criteriaMode:a,names:[...e],fields:n,shouldUseNativeValidation:r}})(e||o.mount,n,a.criteriaMode,a.shouldUseNativeValidation));return h(e),t},x=async(e,t,n={valid:!0})=>{for(const l in e){const i=e[l];if(i){const{_f:e,...l}=i;if(e){const l=o.array.has(e.name),c=i._f&&Sa(i._f);c&&m.validatingFields&&h([e.name],!0);const d=await Ta(i,o.disabled,s,p,a.shouldUseNativeValidation&&!t,l);if(c&&m.validatingFields&&h([e.name]),d[e.name]&&(n.valid=!1,t))break;!t&&(It(d,e.name)?l?Aa(r.errors,d,e.name):Kt(r.errors,e.name,d[e.name]):ma(r.errors,e.name))}!ra(l)&&await x(l,t,n)}}return n.valid},v=(e,t)=>!a.disabled&&(e&&t&&Kt(s,e,t),!Xt(j(),l)),E=(e,t,a)=>((e,t,a,r,n)=>Yt(e)?(r&&t.watch.add(e),It(a,e,n)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),It(a,e))):(r&&(t.watchAll=!0),a))(e,o,{...i.mount?s:Ot(t)?l:Yt(e)?{[e]:t}:t},a,t),w=(e,t,a={})=>{const r=It(n,e);let l=t;if(r){const a=r._f;a&&(!a.disabled&&Kt(s,e,ya(t,a)),l=sa(a.ref)&&Tt(t)?"":t,ia(a.ref)?[...a.ref.options].forEach(e=>e.selected=l.includes(e.value)):a.refs?Dt(a.ref)?a.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(l)?e.checked=!!l.find(t=>t===e.value):e.checked=l===e.value||!!l)}):a.refs.forEach(e=>e.checked=e.value===l):na(a.ref)?a.ref.value="":(a.ref.value=l,a.ref.type||u.state.next({name:e,values:Ft(s)})))}(a.shouldDirty||a.shouldTouch)&&y(e,l,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&C(e)},N=(e,t,a)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const l=t[r],s=e+"."+r,i=It(n,s);(o.array.has(e)||Mt(l)||i&&!i._f)&&!Pt(l)?N(s,l,a):w(s,l,a)}},k=(e,t,a={})=>{const c=It(n,e),p=o.array.has(e),g=Ft(t);Kt(s,e,g),p?(u.array.next({name:e,values:Ft(s)}),(m.isDirty||m.dirtyFields||d.isDirty||d.dirtyFields)&&a.shouldDirty&&u.state.next({name:e,dirtyFields:pa(l,s),isDirty:v(e,g)})):!c||c._f||Tt(g)?w(e,g,a):N(e,g,a),_a(e,o)&&u.state.next({...r,name:e}),u.state.next({name:i.mount?e:void 0,values:Ft(s)})},S=async e=>{i.mount=!0;const l=e.target;let f=l.name,v=!0;const E=It(n,f),w=e=>{v=Number.isNaN(e)||Pt(e)&&isNaN(e.getTime())||Xt(e,It(s,f,e))},N=Na(a.mode),k=Na(a.reValidateMode);if(E){let i,_;const j=l.type?va(E._f):(e=>Mt(e)&&e.target?Dt(e.target)?e.target.checked:e.target.value:e)(e),A="blur"===e.type||"focusout"===e.type,D=!((S=E._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate)||a.resolver||It(r.errors,f)||E._f.deps)||((e,t,a,r,n)=>!n.isOnAll&&(!a&&n.isOnTouch?!(t||e):(a?r.isOnBlur:n.isOnBlur)?!e:!(a?r.isOnChange:n.isOnChange)||e))(A,It(r.touchedFields,f),r.isSubmitted,k,N),P=_a(f,o,A);Kt(s,f,j),A?l&&l.readOnly||(E._f.onBlur&&E._f.onBlur(e),t&&t(0)):E._f.onChange&&E._f.onChange(e);const T=y(f,j,A),L=!ra(T)||P;if(!A&&u.state.next({name:f,type:e.type,values:Ft(s)}),D)return(m.isValid||d.isValid)&&("onBlur"===a.mode?A&&g():A||g()),L&&u.state.next({name:f,...P?{}:T});if(!A&&P&&u.state.next({...r}),a.resolver){const{errors:e}=await b([f]);if(w(j),v){const t=ja(r.errors,n,f),a=ja(e,n,t.name||f);i=a.error,f=a.name,_=ra(e)}}else h([f],!0),i=(await Ta(E,o.disabled,s,p,a.shouldUseNativeValidation))[f],h([f]),w(j),v&&(i?_=!1:(m.isValid||d.isValid)&&(_=await x(n,!0)));v&&(E._f.deps&&(!Array.isArray(E._f.deps)||E._f.deps.length>0)&&C(E._f.deps),((e,n,l,s)=>{const i=It(r.errors,e),o=(m.isValid||d.isValid)&&zt(n)&&r.isValid!==n;var p;if(a.delayError&&l?(p=()=>((e,t)=>{Kt(r.errors,e,t),u.state.next({errors:r.errors})})(e,l),t=e=>{clearTimeout(c),c=setTimeout(p,e)},t(a.delayError)):(clearTimeout(c),t=null,l?Kt(r.errors,e,l):ma(r.errors,e)),(l?!Xt(i,l):i)||!ra(s)||o){const t={...s,...o&&zt(n)?{isValid:n}:{},errors:r.errors,name:e};r={...r,...t},u.state.next(t)}})(f,_,i,T))}var S},_=(e,t)=>{if(It(r.errors,t)&&e.focus)return e.focus(),1},C=async(e,t={})=>{let l,s;const i=ea(e);if(a.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const a of e){const e=It(t,a);e?Kt(r.errors,a,e):ma(r.errors,a)}else r.errors=t;return t})(Ot(e)?e:i);l=ra(t),s=e?!i.some(e=>It(t,e)):l}else e?(s=(await Promise.all(i.map(async e=>{const t=It(n,e);return await x(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||r.isValid)&&g()):s=l=await x(n);return u.state.next({...!Yt(e)||(m.isValid||d.isValid)&&l!==r.isValid?{}:{name:e},...a.resolver||!e?{isValid:l}:{},errors:r.errors}),t.shouldFocus&&!s&&Ca(n,_,e?i:o.mount),s},j=(e,t)=>{let a={...i.mount?s:l};return t&&(a=aa(t.dirtyFields?r.dirtyFields:r.touchedFields,a)),Ot(e)?a:Yt(e)?It(a,e):e.map(e=>It(a,e))},A=(e,t)=>({invalid:!!It((t||r).errors,e),isDirty:!!It((t||r).dirtyFields,e),error:It((t||r).errors,e),isValidating:!!It(r.validatingFields,e),isTouched:!!It((t||r).touchedFields,e)}),D=(e,t,a)=>{const l=(It(n,e,{_f:{}})._f||{}).ref,s=It(r.errors,e)||{},{ref:i,message:o,type:c,...m}=s;Kt(r.errors,e,{...m,...t,ref:l}),u.state.next({name:e,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&l&&l.focus&&l.focus()},P=e=>u.state.subscribe({next:t=>{var a,n,i;a=e.name,n=t.name,i=e.exact,a&&n&&a!==n&&!ea(a).some(e=>e&&(i?e===n:e.startsWith(n)||n.startsWith(e)))||!((e,t,a,r)=>{a(e);const{name:n,...l}=e;return ra(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(e=>t[e]===(!r||qt))})(t,e.formState||m,B,e.reRenderRoot)||e.callback({values:{...s},...r,...t,defaultValues:l})}}).unsubscribe,T=(e,t={})=>{for(const i of e?ea(e):o.mount)o.mount.delete(i),o.array.delete(i),t.keepValue||(ma(n,i),ma(s,i)),!t.keepError&&ma(r.errors,i),!t.keepDirty&&ma(r.dirtyFields,i),!t.keepTouched&&ma(r.touchedFields,i),!t.keepIsValidating&&ma(r.validatingFields,i),!a.shouldUnregister&&!t.keepDefaultValue&&ma(l,i);u.state.next({values:Ft(s)}),u.state.next({...r,...t.keepDirty?{isDirty:v()}:{}}),!t.keepIsValid&&g()},L=({disabled:e,name:t})=>{(zt(e)&&i.mount||e||o.disabled.has(t))&&(e?o.disabled.add(t):o.disabled.delete(t))},M=(e,t={})=>{let r=It(n,e);const s=zt(t.disabled)||zt(a.disabled);return Kt(n,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),o.mount.add(e),r?L({disabled:zt(t.disabled)?t.disabled:a.disabled,name:e}):f(e,!0,t.value),{...s?{disabled:t.disabled||a.disabled}:{},...a.progressive?{required:!!t.required,min:wa(t.min),max:wa(t.max),minLength:wa(t.minLength),maxLength:wa(t.maxLength),pattern:wa(t.pattern)}:{},name:e,onChange:S,onBlur:S,ref:s=>{if(s){M(e,t),r=It(n,e);const a=Ot(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,i=(e=>oa(e)||Dt(e))(a),o=r._f.refs||[];if(i?o.find(e=>e===a):a===r._f.ref)return;Kt(n,e,{_f:{...r._f,...i?{refs:[...o.filter(ca),a,...Array.isArray(It(l,e))?[{}]:[]],ref:{type:a.type,name:e}}:{ref:a}}}),f(e,!1,void 0,a)}else r=It(n,e,{}),r._f&&(r._f.mount=!1),(a.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(o.array,e)||!i.action)&&o.unMount.add(e)}}},R=()=>a.shouldFocusError&&Ca(n,_,o.mount),F=(e,t)=>async l=>{let i;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=Ft(s);if(u.state.next({isSubmitting:!0}),a.resolver){const{errors:e,values:t}=await b();r.errors=e,c=Ft(t)}else await x(n);if(o.disabled.size)for(const e of o.disabled)ma(c,e);if(ma(r.errors,"root"),ra(r.errors)){u.state.next({errors:{}});try{await e(c,l)}catch(e){i=e}}else t&&await t({...r.errors},l),R(),setTimeout(R);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ra(r.errors)&&!i,submitCount:r.submitCount+1,errors:r.errors}),i)throw i},V=(e,t={})=>{const c=e?Ft(e):l,d=Ft(c),p=ra(e),g=p?l:d;if(t.keepDefaultValues||(l=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(pa(l,s))]);for(const t of Array.from(e))It(r.dirtyFields,t)?Kt(g,t,It(s,t)):k(t,It(g,t))}else{if(Rt&&Ot(e))for(const e of o.mount){const t=It(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(sa(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of o.mount)k(e,It(g,e));else n={}}s=a.shouldUnregister?t.keepDefaultValues?Ft(l):{}:Ft(g),u.array.next({values:{...g}}),u.state.next({values:{...g}})}o={mount:t.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!m.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!a.shouldUnregister&&!ra(g),i.watch=!!a.shouldUnregister,u.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!p&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||Xt(e,l))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:p?{}:t.keepDirtyValues?t.keepDefaultValues&&s?pa(l,s):r.dirtyFields:t.keepDefaultValues&&e?pa(l,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:l})},O=(e,t)=>V(la(e)?e(s):e,t),B=e=>{r={...r,...e}},$={control:{register:M,unregister:T,getFieldState:A,handleSubmit:F,setError:D,_subscribe:P,_runSchema:b,_focusError:R,_getWatch:E,_getDirty:v,_setValid:g,_setFieldArray:(e,t=[],o,c,p=!0,g=!0)=>{if(c&&o&&!a.disabled){if(i.action=!0,g&&Array.isArray(It(n,e))){const t=o(It(n,e),c.argA,c.argB);p&&Kt(n,e,t)}if(g&&Array.isArray(It(r.errors,e))){const t=o(It(r.errors,e),c.argA,c.argB);p&&Kt(r.errors,e,t),((e,t)=>{!Bt(It(e,t)).length&&ma(e,t)})(r.errors,e)}if((m.touchedFields||d.touchedFields)&&g&&Array.isArray(It(r.touchedFields,e))){const t=o(It(r.touchedFields,e),c.argA,c.argB);p&&Kt(r.touchedFields,e,t)}(m.dirtyFields||d.dirtyFields)&&(r.dirtyFields=pa(l,s)),u.state.next({name:e,isDirty:v(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Kt(s,e,t)},_setDisabledField:L,_setErrors:e=>{r.errors=e,u.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>Bt(It(i.mount?s:l,e,a.shouldUnregister?It(l,e,[]):[])),_reset:V,_resetDefaultValues:()=>la(a.defaultValues)&&a.defaultValues().then(e=>{O(e,a.resetOptions),u.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of o.unMount){const t=It(n,e);t&&(t._f.refs?t._f.refs.every(e=>!ca(e)):!ca(t._f.ref))&&T(e)}o.unMount=new Set},_disableForm:e=>{zt(e)&&(u.state.next({disabled:e}),Ca(n,(t,a)=>{const r=It(n,a);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:u,_proxyFormState:m,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(e){i=e},get _defaultValues(){return l},get _names(){return o},set _names(e){o=e},get _formState(){return r},get _options(){return a},set _options(e){a={...a,...e}}},subscribe:e=>(i.mount=!0,d={...d,...e.formState},P({...e,formState:d})),trigger:C,register:M,handleSubmit:F,watch:(e,t)=>la(e)?u.state.subscribe({next:a=>"values"in a&&e(E(void 0,t),a)}):E(e,t,!0),setValue:k,getValues:j,reset:O,resetField:(e,t={})=>{It(n,e)&&(Ot(t.defaultValue)?k(e,Ft(It(l,e))):(k(e,t.defaultValue),Kt(l,e,Ft(t.defaultValue))),t.keepTouched||ma(r.touchedFields,e),t.keepDirty||(ma(r.dirtyFields,e),r.isDirty=t.defaultValue?v(e,Ft(It(l,e))):v()),t.keepError||(ma(r.errors,e),m.isValid&&g()),u.state.next({...r}))},clearErrors:e=>{e&&ea(e).forEach(e=>ma(r.errors,e)),u.state.next({errors:e?r.errors:{}})},unregister:T,setError:D,setFocus:(e,t={})=>{const a=It(n,e),r=a&&a._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&la(e.select)&&e.select())}},getFieldState:A};return{...$,formControl:$}}function Ra(e={}){const t=r.useRef(void 0),a=r.useRef(void 0),[n,l]=r.useState({isDirty:!1,isValidating:!1,isLoading:la(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:la(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!la(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...r}=Ma(e);t.current={...r,formState:n}}const s=t.current.control;return s._options=e,Gt(()=>{const e=s._subscribe({formState:s._proxyFormState,callback:()=>l({...s._formState}),reRenderRoot:!0});return l(e=>({...e,isReady:!0})),s._formState.isReady=!0,e},[s]),r.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),r.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),r.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),r.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),r.useEffect(()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==n.isDirty&&s._subjects.state.next({isDirty:e})}},[s,n.isDirty]),r.useEffect(()=>{var t;e.values&&!Xt(e.values,a.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),(null===(t=s._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||s._setValid(),a.current=e.values,l(e=>({...e}))):s._resetDefaultValues()},[s,e.values]),r.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=((e,t,a,r=!0)=>{const n={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const n=l;return t._proxyFormState[n]!==qt&&(t._proxyFormState[n]=!r||qt),a&&(a[n]=!0),e[n]}});return n})(n,s),t.current}const Fa=n().forwardRef(({label:e,error:t,type:a="text",className:n="",...l},s)=>(0,r.createElement)("div",{className:n},e&&(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e),(0,r.createElement)("input",{ref:s,type:a,className:"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm "+(t?"border-red-300":"border-gray-300"),...l}),t&&(0,r.createElement)("p",{className:"mt-1 text-sm text-red-600"},t.message))),Va=n().forwardRef(({label:e,error:t,options:a=[],className:n="",...l},s)=>(0,r.createElement)("div",{className:n},e&&(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e),(0,r.createElement)("select",{ref:s,className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md "+(t?"border-red-300":"border-gray-300"),...l},a.map(e=>(0,r.createElement)("option",{key:e.value,value:e.value},e.label))),t&&(0,r.createElement)("p",{className:"mt-1 text-sm text-red-600"},t.message))),Oa=n().forwardRef(({label:e,error:t,rows:a=3,className:n="",...l},s)=>(0,r.createElement)("div",{className:n},e&&(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e),(0,r.createElement)("textarea",{ref:s,rows:a,className:"appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm "+(t?"border-red-300":"border-gray-300"),...l}),t&&(0,r.createElement)("p",{className:"mt-1 text-sm text-red-600"},t.message))),Ba=({children:e,isLoading:t,variant:a="primary",type:n="button",className:l="",...s})=>(0,r.createElement)("button",{type:n,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"text-white bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",secondary:"text-gray-700 bg-white border-gray-300 hover:bg-gray-50 focus:ring-indigo-500",danger:"text-white bg-red-600 hover:bg-red-700 focus:ring-red-500"}[a]} ${l}`,disabled:t,...s},t?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,r.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):e),$a={Input:Fa,Select:Va,TextArea:Oa,Button:Ba};function Ia({initialData:e,onSubmit:t,onCancel:a}){const{api:n}=Ke(),{register:l,handleSubmit:s,formState:{errors:i},reset:o}=Ra(),[c,m]=(0,r.useState)([]),[d,u]=(0,r.useState)([]),[p,g]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{const[e,t,a]=await Promise.all([n.get("/packages").catch(()=>[]),n.get("/sub-agents").catch(()=>[]),n.get("/branches").catch(()=>[])]);m(e||[]),u(t||[]),g(a||[])}catch(e){console.error("Gagal memuat data master:",e)}finally{f(!1)}})()},[]),(0,r.useEffect)(()=>{if(e){const t={...e};["birth_date","passport_issued","passport_expiry"].forEach(e=>{t[e]&&(t[e]=t[e].split("T")[0])}),o(t)}else o({full_name:"",nik:"",gender:"L",phone_number:"",passport_number:"",passport_issued:"",passport_expiry:"",birth_date:"",address_details:"",package_id:"",sub_agent_id:"",branch_id:"",status:"registered"})},[e,o]),(0,r.createElement)("form",{onSubmit:s(e=>{const a={...e,package_id:e.package_id?parseInt(e.package_id):0,sub_agent_id:e.sub_agent_id?parseInt(e.sub_agent_id):0,branch_id:e.branch_id?parseInt(e.branch_id):0};t(a)}),className:"space-y-6"},(0,r.createElement)("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200"},(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-900 mb-4 border-b pb-2"},"Data Pribadi"),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)($a.Input,{label:"Nama Lengkap (Sesuai KTP/Paspor)",...l("full_name",{required:"Nama wajib diisi"}),error:i.full_name,placeholder:"Contoh: AHMAD SYAFIQ"}),(0,r.createElement)($a.Input,{label:"Nomor Induk Kependudukan (NIK)",...l("nik",{required:"NIK wajib diisi",minLength:{value:16,message:"NIK harus 16 digit"},pattern:{value:/^[0-9]+$/,message:"NIK harus berupa angka"}}),error:i.nik,placeholder:"16 Digit Angka"}),(0,r.createElement)($a.Select,{label:"Jenis Kelamin",...l("gender",{required:"Pilih jenis kelamin"}),options:[{value:"L",label:"Laki-laki"},{value:"P",label:"Perempuan"}],error:i.gender}),(0,r.createElement)($a.Input,{label:"Tanggal Lahir",type:"date",...l("birth_date",{required:"Tanggal lahir wajib diisi"}),error:i.birth_date}),(0,r.createElement)($a.Input,{label:"Nomor Telepon / WhatsApp",...l("phone_number",{required:"No HP wajib diisi"}),error:i.phone_number,placeholder:"0812..."})),(0,r.createElement)("div",{className:"mt-4"},(0,r.createElement)($a.TextArea,{label:"Alamat Lengkap (Sesuai KTP)",...l("address_details"),rows:3,placeholder:"Nama Jalan, RT/RW, Kelurahan, Kecamatan, Kota",error:i.address_details}))),(0,r.createElement)("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200"},(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-900 mb-4 border-b pb-2"},"Dokumen Paspor"),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,r.createElement)($a.Input,{label:"Nomor Paspor",...l("passport_number"),placeholder:"X1234567"}),(0,r.createElement)($a.Input,{label:"Tanggal Terbit",type:"date",...l("passport_issued")}),(0,r.createElement)($a.Input,{label:"Tanggal Habis Berlaku",type:"date",...l("passport_expiry")}))),(0,r.createElement)("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200"},(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-900 mb-4 border-b pb-2"},"Layanan & Afiliasi"),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)($a.Select,{label:"Pilih Paket Umrah",...l("package_id"),options:[{value:"",label:"-- Pilih Paket --"},...c.map(e=>({value:e.id,label:`${e.name} (${new Date(e.departure_date).toLocaleDateString("id-ID")})`}))]}),(0,r.createElement)($a.Select,{label:"Kantor Cabang",...l("branch_id"),options:[{value:"",label:"-- Pilih Cabang --"},...p.map(e=>({value:e.id,label:`${e.name} (${e.city})`}))]}),(0,r.createElement)($a.Select,{label:"Agen / Sponsor / Referensi",...l("sub_agent_id"),options:[{value:"",label:"-- Tanpa Agen (Langsung) --"},...d.map(e=>({value:e.id,label:e.name}))]}),(0,r.createElement)($a.Select,{label:"Status Pendaftaran",...l("status"),options:[{value:"lead",label:"Lead / Prospek (Belum Pasti)"},{value:"registered",label:"Terdaftar (Booking)"},{value:"active",label:"Aktif (Siap Berangkat/Lunas)"},{value:"completed",label:"Selesai (Sudah Pulang)"},{value:"cancelled",label:"Batal / Cancel"}]}))),(0,r.createElement)("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-4"},(0,r.createElement)($a.Button,{variant:"secondary",onClick:a,type:"button"},"Batal"),(0,r.createElement)($a.Button,{type:"submit",isLoading:h},e?"Simpan Perubahan":"Daftarkan Jamaah")))}function za({isOpen:e,onClose:t,jamaah:a,onSuccess:l}){const{api:s}=Ke(),{register:i,handleSubmit:o,formState:{errors:c},reset:m}=Ra(),[d,u]=(0,r.useState)(!1);return n().useEffect(()=>{e&&m({amount:"",payment_date:(new Date).toISOString().split("T")[0],payment_method:"transfer",description:""})},[e,a,m]),a?(0,r.createElement)(At,{isOpen:e,onClose:t,title:`Catat Pembayaran - ${a.full_name}`,maxWidth:"md"},(0,r.createElement)("form",{onSubmit:o(async e=>{if(a){u(!0);try{const r={...e,jamaah_id:a.id,booking_id:0};await s.post("/jamaah/payments",r),alert("Pembayaran berhasil dicatat."),l(),t()}catch(e){console.error(e),alert("Gagal mencatat pembayaran: "+(e.message||"Error Server"))}finally{u(!1)}}}),className:"space-y-4"},(0,r.createElement)("div",{className:"bg-blue-50 p-3 rounded text-sm text-blue-800 mb-4"},(0,r.createElement)("p",null,(0,r.createElement)("strong",null,"Status Saat Ini:")," ",a.payment_status||"Belum Bayar"),(0,r.createElement)("p",null,(0,r.createElement)("strong",null,"Total Terbayar:")," Rp ",parseInt(a.amount_paid||0).toLocaleString("id-ID"))),(0,r.createElement)($a.Input,{label:"Jumlah Pembayaran (Rp)",type:"number",...i("amount",{required:"Jumlah wajib diisi",min:{value:1e4,message:"Minimal Rp 10.000"}}),error:c.amount,placeholder:"Contoh: 5000000"}),(0,r.createElement)($a.Input,{label:"Tanggal Pembayaran",type:"date",...i("payment_date",{required:"Tanggal wajib diisi"}),error:c.payment_date}),(0,r.createElement)($a.Select,{label:"Metode Pembayaran",...i("payment_method"),options:[{value:"transfer",label:"Transfer Bank"},{value:"cash",label:"Tunai / Cash"},{value:"qris",label:"QRIS"},{value:"va",label:"Virtual Account"}]}),(0,r.createElement)($a.TextArea,{label:"Keterangan / Catatan",...i("description"),placeholder:"No. Ref Transfer / Berita Acara",rows:2}),(0,r.createElement)("div",{className:"flex justify-end space-x-3 pt-4 border-t mt-4"},(0,r.createElement)($a.Button,{variant:"secondary",onClick:t,type:"button"},"Batal"),(0,r.createElement)($a.Button,{type:"submit",isLoading:d},"Simpan Pembayaran")))):null}function Ka(){const{api:e}=Ke(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),[m,d]=(0,r.useState)(""),[u,p]=(0,r.useState)(!1),[g,h]=(0,r.useState)(null),f=async()=>{try{l(!0);const t=m?`/jamaah?search=${m}`:"/jamaah",r=await e.get(t);a(r)}catch(e){console.error("Failed to fetch jamaah",e)}finally{l(!1)}};return(0,r.useEffect)(()=>{const e=setTimeout(()=>{f()},500);return()=>clearTimeout(e)},[m]),n&&!m?(0,r.createElement)(dt,null):(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4"},(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Data Jamaah"),(0,r.createElement)("div",{className:"flex gap-2 w-full md:w-auto"},(0,r.createElement)("input",{type:"text",placeholder:"Cari nama / paspor...",className:"border rounded-lg px-4 py-2 w-full md:w-64 focus:ring-blue-500 focus:border-blue-500",value:m,onChange:e=>d(e.target.value)}),(0,r.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 whitespace-nowrap"},"+ Jamaah Baru"))),(0,r.createElement)("div",{className:"bg-white rounded-lg shadow overflow-x-auto"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Lengkap"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Dokumen"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status Bayar"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status Data"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,r.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm font-medium text-gray-900"},t.full_name),(0,r.createElement)("div",{className:"text-sm text-gray-500"},"L"===t.gender?"Laki-laki":"Perempuan"),(0,r.createElement)("div",{className:"text-xs text-gray-400 mt-1"},t.phone_number||"-")),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("div",{className:"text-sm text-gray-900"},t.passport_number||"Belum ada paspor"),(0,r.createElement)("div",{className:"text-xs text-gray-500"},"NIK: ",t.nik||"-")),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("lunas"===t.payment_status?"bg-green-100 text-green-800":"cicil"===t.payment_status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")},t.payment_status?t.payment_status.toUpperCase():"PENDING"),(0,r.createElement)("div",{className:"text-xs text-gray-500 mt-1"},"Paid: Rp ",parseInt(t.amount_paid||0).toLocaleString("id-ID"))),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},t.status)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},(0,r.createElement)("div",{className:"flex justify-end space-x-2"},(0,r.createElement)("button",{onClick:()=>(e=>{if(!e.phone_number)return void alert("Nomor telepon tidak tersedia");let t=e.phone_number.replace(/[^0-9]/g,"");t.startsWith("0")&&(t="62"+t.substring(1));let a="";const r=`Assalamu'alaikum Bpk/Ibu ${e.full_name}, `;if("lunas"===e.payment_status)a=`${r} terima kasih telah melunasi pembayaran Umrah. Berikut kami lampirkan info persiapan keberangkatan...`;else{const t=parseFloat(e.amount_paid||0);a=`${r} mohon informasinya untuk pelunasan sisa pembayaran sebesar Rp ${(parseFloat(e.total_price||3e7)-t).toLocaleString("id-ID")}. Terima kasih.`}const n=`https://wa.me/${t}?text=${encodeURIComponent(a)}`;window.open(n,"_blank")})(t),className:"text-green-600 hover:text-green-900 border border-green-200 p-1 rounded hover:bg-green-50",title:"Hubungi via WhatsApp"},(0,r.createElement)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},(0,r.createElement)("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.262.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"}))),(0,r.createElement)("button",{onClick:()=>(e=>{h(e),p(!0)})(t),className:"text-blue-600 hover:text-blue-900",title:"Catat Pembayaran"},"Bayar"),(0,r.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-indigo-600 hover:text-indigo-900",title:"Edit Data"},"Edit"),(0,r.createElement)("button",{onClick:()=>(async t=>{if(window.confirm("Apakah Anda yakin ingin menghapus data jamaah ini? Data keuangan terkait mungkin akan diarsipkan."))try{await e.delete(`/jamaah/${t}`),f()}catch(e){console.error("Failed to delete",e),alert("Gagal menghapus data")}})(t.id),className:"text-red-600 hover:text-red-900",title:"Hapus Data"},"Hapus"))))))),0===t.length&&(0,r.createElement)("div",{className:"p-6 text-center text-gray-500"},"Belum ada data jamaah.")),(0,r.createElement)(At,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Data Jamaah":"Registrasi Jamaah Baru",maxWidth:"4xl"},(0,r.createElement)(Ia,{initialData:o,onSubmit:async t=>{try{o?await e.put(`/jamaah/${o.id}`,t):await e.post("/jamaah",t),i(!1),c(null),f()}catch(e){console.error("Failed to save",e),alert("Gagal menyimpan data")}},onCancel:()=>i(!1)})),(0,r.createElement)(za,{isOpen:u,onClose:()=>p(!1),jamaah:g,onSuccess:()=>{p(!1),f()}}))}const Ha=Ye("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ua=Ye("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),qa=({initialData:e,onSuccess:t,onCancel:a})=>{const{api:n}=Ke(),[l,s]=(0,r.useState)(e||{name:"",category_id:"",airline_id:"",departure_date:"",duration_days:9,quota:45,itinerary_file:""}),[i,o]=(0,r.useState)(e?.hotels||[]),[c,m]=(0,r.useState)(e?.pricing_variants||[{type:"Quad",price:0},{type:"Triple",price:0},{type:"Double",price:0}]),[d,u]=(0,r.useState)([]),[p,g]=(0,r.useState)([]),[h,f]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{try{const[e,t,a]=await Promise.all([n.get("/hotels"),n.get("/airlines"),n.get("/categories")]);u(e.data||[]),g(t.data||[]),f(a.data||[])}catch(e){console.error("Failed to load master data",e)}})()},[]);const y=(e,t,a)=>{const r=[...i];if(r[e]={...r[e],[t]:a},"id"===t){const t=d.find(e=>e.id==a);t&&(r[e].city=t.city)}o(r)};return(0,r.createElement)("form",{onSubmit:async a=>{a.preventDefault();const r={...l,hotels:i,pricing_variants:c};try{e?.id?await n.put(`/packages/${e.id}`,r):await n.post("/packages",r),t()}catch(e){alert("Gagal menyimpan paket: "+e.message)}},className:"space-y-6"},(0,r.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border"},(0,r.createElement)("h3",{className:"font-semibold mb-4 text-gray-700"},"Informasi Paket"),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium mb-1"},"Nama Paket"),(0,r.createElement)("input",{type:"text",required:!0,className:"w-full border rounded p-2",value:l.name,onChange:e=>s({...l,name:e.target.value})})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium mb-1"},"Kategori"),(0,r.createElement)("select",{required:!0,className:"w-full border rounded p-2",value:l.category_id,onChange:e=>s({...l,category_id:e.target.value})},(0,r.createElement)("option",{value:""},"Pilih Kategori"),h.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium mb-1"},"Maskapai"),(0,r.createElement)("select",{required:!0,className:"w-full border rounded p-2",value:l.airline_id,onChange:e=>s({...l,airline_id:e.target.value})},(0,r.createElement)("option",{value:""},"Pilih Maskapai"),p.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.name," (",e.code,")")))),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium mb-1"},"Tanggal Keberangkatan"),(0,r.createElement)("input",{type:"date",required:!0,className:"w-full border rounded p-2",value:l.departure_date,onChange:e=>s({...l,departure_date:e.target.value})})),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-2"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium mb-1"},"Durasi (Hari)"),(0,r.createElement)("input",{type:"number",required:!0,className:"w-full border rounded p-2",value:l.duration_days,onChange:e=>s({...l,duration_days:e.target.value})})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium mb-1"},"Kuota"),(0,r.createElement)("input",{type:"number",required:!0,className:"w-full border rounded p-2",value:l.quota,onChange:e=>s({...l,quota:e.target.value})}))))),(0,r.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-4"},(0,r.createElement)("h3",{className:"font-semibold text-gray-700"},"Akomodasi Hotel"),(0,r.createElement)("button",{type:"button",onClick:()=>o([...i,{id:"",city:"",nights:0}]),className:"text-sm text-blue-600 flex items-center gap-1"},(0,r.createElement)(Ha,{size:16})," Tambah Hotel")),(0,r.createElement)("div",{className:"space-y-3"},i.map((e,t)=>(0,r.createElement)("div",{key:t,className:"flex gap-3 items-end bg-gray-50 p-3 rounded border"},(0,r.createElement)("div",{className:"flex-1"},(0,r.createElement)("label",{className:"text-xs text-gray-500"},"Pilih Hotel"),(0,r.createElement)("select",{className:"w-full border rounded p-2 text-sm",value:e.id,onChange:e=>y(t,"id",e.target.value)},(0,r.createElement)("option",{value:""},"- Pilih -"),d.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.name," (",e.city,")")))),(0,r.createElement)("div",{className:"w-24"},(0,r.createElement)("label",{className:"text-xs text-gray-500"},"Durasi (Malam)"),(0,r.createElement)("input",{type:"number",className:"w-full border rounded p-2 text-sm",value:e.nights,onChange:e=>y(t,"nights",e.target.value)})),(0,r.createElement)("button",{type:"button",onClick:()=>{return e=t,o(i.filter((t,a)=>a!==e));var e},className:"text-red-500 p-2 hover:bg-red-50 rounded"},(0,r.createElement)(Ua,{size:16})))),0===i.length&&(0,r.createElement)("p",{className:"text-sm text-gray-400 italic text-center"},"Belum ada hotel dipilih"))),(0,r.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border"},(0,r.createElement)("h3",{className:"font-semibold mb-4 text-gray-700"},"Varian Harga (Per Jamaah)"),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},c.map((e,t)=>(0,r.createElement)("div",{key:t,className:"bg-gray-50 p-3 rounded border"},(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-600 mb-1"},"Tipe ",e.type),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("span",{className:"absolute left-3 top-2 text-gray-500"},"Rp"),(0,r.createElement)("input",{type:"number",className:"w-full border rounded pl-8 p-2",value:e.price,onChange:e=>((e,t)=>{const a=[...c];a[e].price=t,m(a)})(t,e.target.value)})))))),(0,r.createElement)("div",{className:"flex justify-end gap-3 pt-4"},(0,r.createElement)("button",{type:"button",onClick:a,className:"px-6 py-2 border rounded-lg hover:bg-gray-50"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"Simpan Paket")))},Wa=Ye("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),Ja=Ye("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),Ga=Ye("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Ya=()=>{const{getPackages:e,deletePackage:t}=Ke(),[a,n]=(0,r.useState)([]),[l,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),[c,m]=(0,r.useState)(null),[d,u]=(0,r.useState)("active"),p=async()=>{s(!0);try{const t=await e({status:"all"!==d?d:""});n(t||[])}catch(e){console.error("Error fetching packages:",e)}finally{s(!1)}};return(0,r.useEffect)(()=>{p()},[d]),(0,r.createElement)("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen"},(0,r.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Manajemen Paket"),(0,r.createElement)("p",{className:"text-gray-500 text-sm mt-1"},"Atur jadwal keberangkatan dan harga paket.")),(0,r.createElement)("div",{className:"flex gap-3 w-full md:w-auto"},(0,r.createElement)("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none cursor-pointer",value:d,onChange:e=>u(e.target.value)},(0,r.createElement)("option",{value:"active"},"Paket Aktif"),(0,r.createElement)("option",{value:"full"},"Full Booked"),(0,r.createElement)("option",{value:"completed"},"Selesai"),(0,r.createElement)("option",{value:"all"},"Semua Status")),(0,r.createElement)("button",{onClick:()=>{m(null),o(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm flex items-center gap-2 transition transform active:scale-95"},(0,r.createElement)(Ha,{size:18})," ",(0,r.createElement)("span",null,"Buat Paket")))),l?(0,r.createElement)(dt,{text:"Memuat data paket..."}):(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs font-bold tracking-wider"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left"},"Nama Paket"),(0,r.createElement)("th",{className:"px-6 py-3 text-left"},"Keberangkatan"),(0,r.createElement)("th",{className:"px-6 py-3 text-left"},"Kategori"),(0,r.createElement)("th",{className:"px-6 py-3 text-left"},"Harga Mulai"),(0,r.createElement)("th",{className:"px-6 py-3 text-left"},"Status"),(0,r.createElement)("th",{className:"px-6 py-3 text-right"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200 text-sm"},0===a.length?(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-400 italic"},"Tidak ada paket yang ditemukan untuk filter ini.")):a.map(e=>(0,r.createElement)("tr",{key:e.id,className:"hover:bg-gray-50 transition-colors group"},(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"font-bold text-gray-900 text-base"},e.name),(0,r.createElement)("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1"},(0,r.createElement)(Wa,{size:12}),(()=>{try{const t="string"==typeof e.hotels?JSON.parse(e.hotels):e.hotels;return Array.isArray(t)&&t.length>0?`${t.length} Hotel`:"Tanpa Hotel"}catch(e){return"-"}})())),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("div",{className:"font-medium text-gray-900"},new Date(e.departure_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),(0,r.createElement)("div",{className:"text-xs text-blue-600 flex items-center gap-1 mt-0.5"},(0,r.createElement)(Ja,{size:12})," ",e.airline_name||"-")),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("span",{className:"px-2.5 py-0.5 inline-flex text-xs font-semibold rounded-full bg-blue-50 text-blue-700 border border-blue-100"},e.category_name||"Umum")),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap font-bold text-gray-700"},(e=>{if(!e||0===e.length)return"Belum ada harga";const t="string"==typeof e?JSON.parse(e):e;if(!Array.isArray(t))return"-";const a=t.map(e=>parseFloat(e.price));if(0===a.length)return"-";const r=Math.min(...a),n=Math.max(...a);return r===n?`Rp ${r.toLocaleString("id-ID")}`:`Rp ${r.toLocaleString("id-ID")} - ${n.toLocaleString("id-ID")}`})(e.pricing_variants)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("span",{className:"px-2.5 py-0.5 inline-flex text-xs font-semibold rounded-full border \n                                                    "+("active"===e.status?"bg-green-50 text-green-700 border-green-200":"full"===e.status?"bg-red-50 text-red-700 border-red-200":"bg-gray-100 text-gray-600 border-gray-200")},"active"===e.status?"Open":"full"===e.status?"Penuh":e.status)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right"},(0,r.createElement)("div",{className:"flex justify-end gap-2 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity"},(0,r.createElement)("button",{onClick:()=>(e=>{m(e),o(!0)})(e),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition",title:"Edit Paket"},(0,r.createElement)(Ga,{size:18})),(0,r.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Yakin hapus paket ini? Data yang dihapus tidak bisa dikembalikan."))try{await t(e),p()}catch(e){alert("Gagal menghapus: "+e.message)}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Hapus Paket"},(0,r.createElement)(Ua,{size:18})))))))))),(0,r.createElement)(At,{isOpen:i,onClose:()=>o(!1),title:c?"Edit Paket":"Buat Paket Baru"},i&&(0,r.createElement)(qa,{initialData:c,onSuccess:()=>{o(!1),p()},onCancel:()=>o(!1)})))},Qa=({initialData:e,closeModal:t})=>{const{createOrUpdate:a}=Ke(),[n,l]=(0,r.useState)(!1),[s,i]=(0,r.useState)({name:e?.name||"",phone:e?.phone||"",email:e?.email||"",address:e?.address||"",city:e?.city||"",status:e?.status||"active"}),o=e=>i({...s,[e.target.name]:e.target.value});return(0,r.createElement)("form",{onSubmit:async r=>{r.preventDefault(),l(!0);try{await a("sub_agents",s,e?.id),t()}catch(e){alert(e.message)}finally{l(!1)}},className:"space-y-4 p-2"},(0,r.createElement)(Fa,{label:"Nama Agen / Travel",name:"name",value:s.name,onChange:o,required:!0}),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)(Fa,{label:"No. Telepon",name:"phone",value:s.phone,onChange:o,required:!0}),(0,r.createElement)(Fa,{label:"Email",type:"email",name:"email",value:s.email,onChange:o})),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)(Fa,{label:"Kota Domisili",name:"city",value:s.city,onChange:o}),(0,r.createElement)(Va,{label:"Status",name:"status",value:s.status,onChange:o},(0,r.createElement)("option",{value:"active"},"Aktif"),(0,r.createElement)("option",{value:"inactive"},"Tidak Aktif"))),(0,r.createElement)(Fa,{label:"Alamat Lengkap",name:"address",value:s.address,onChange:o}),(0,r.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,r.createElement)(Ba,{type:"button",variant:"secondary",onClick:t},"Batal"),(0,r.createElement)(Ba,{type:"submit",disabled:n},n?"Menyimpan...":"Simpan")))},Xa=Ye("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Za=()=>{const{api:e}=Ke(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),m=async()=>{l(!0);try{const t=await e.get("/sub-agents");a(t.data||[])}catch(e){console.error(e)}finally{l(!1)}};return(0,r.useEffect)(()=>{m()},[]),(0,r.createElement)("div",{className:"p-6 space-y-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Data Sub Agent"),(0,r.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex gap-2 items-center"},(0,r.createElement)(Xa,{size:18})," Tambah Agent")),n?(0,r.createElement)(dt,null):(0,r.createElement)("div",{className:"bg-white rounded shadow overflow-hidden"},(0,r.createElement)("table",{className:"w-full text-left text-sm"},(0,r.createElement)("thead",{className:"bg-gray-50 border-b uppercase text-gray-500"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"p-4"},"Nama"),(0,r.createElement)("th",{className:"p-4"},"Kontak"),(0,r.createElement)("th",{className:"p-4"},"Status"),(0,r.createElement)("th",{className:"p-4 text-right"},"Aksi"))),(0,r.createElement)("tbody",{className:"divide-y"},t.map(t=>(0,r.createElement)("tr",{key:t.id},(0,r.createElement)("td",{className:"p-4 font-medium"},t.name),(0,r.createElement)("td",{className:"p-4"},t.phone," ",(0,r.createElement)("br",null),(0,r.createElement)("span",{className:"text-xs text-gray-400"},t.email)),(0,r.createElement)("td",{className:"p-4"},(0,r.createElement)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs"},t.status)),(0,r.createElement)("td",{className:"p-4 text-right flex justify-end gap-2"},(0,r.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-blue-600"},(0,r.createElement)(Ga,{size:16})),(0,r.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus agen ini?")&&(await e.delete(`/sub-agents/${t}`),m())})(t.id),className:"text-red-600"},(0,r.createElement)(Ua,{size:16})))))))),(0,r.createElement)(At,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Agent":"Tambah Agent"},(0,r.createElement)(Qa,{initialData:o,closeModal:()=>i(!1),onSuccess:()=>{i(!1),m()}})," "))},er={in:["Pembayaran Jamaah","Investasi","Komisi Masuk","Lainnya"],out:["Operasional Kantor","Gaji Karyawan","Vendor Hotel","Vendor Tiket","Marketing","Lainnya"]};function tr({onSubmit:e,onCancel:t,isLoading:a}){const{register:n,handleSubmit:l,watch:s,formState:{errors:i}}=Ra({defaultValues:{type:"out",transaction_date:(new Date).toISOString().split("T")[0],category:"",amount:"",description:""}}),o=s("type");return(0,r.createElement)("form",{onSubmit:l(e),className:"space-y-4"},(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("label",{className:"cursor-pointer border rounded-lg p-3 text-center "+("in"===o?"bg-green-50 border-green-500 text-green-700 font-bold":"hover:bg-gray-50")},(0,r.createElement)("input",{type:"radio",value:"in",...n("type"),className:"hidden"}),"Pemasukan (Debit)"),(0,r.createElement)("label",{className:"cursor-pointer border rounded-lg p-3 text-center "+("out"===o?"bg-red-50 border-red-500 text-red-700 font-bold":"hover:bg-gray-50")},(0,r.createElement)("input",{type:"radio",value:"out",...n("type"),className:"hidden"}),"Pengeluaran (Kredit)")),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)($a.Input,{label:"Tanggal Transaksi",type:"date",...n("transaction_date",{required:"Tanggal wajib diisi"}),error:i.transaction_date}),(0,r.createElement)($a.Input,{label:"Nominal (Rp)",type:"number",placeholder:"Contoh: 5000000",...n("amount",{required:"Nominal wajib diisi",min:1}),error:i.amount})),(0,r.createElement)($a.Select,{label:"Kategori",...n("category",{required:"Kategori wajib dipilih"}),options:er[o].map(e=>({value:e,label:e})),error:i.category}),(0,r.createElement)($a.TextArea,{label:"Keterangan / Deskripsi",placeholder:"Jelaskan detail transaksi ini...",...n("description",{required:"Deskripsi wajib diisi"}),error:i.description}),(0,r.createElement)("div",{className:"flex justify-end space-x-3 pt-4 border-t"},(0,r.createElement)($a.Button,{variant:"secondary",onClick:t,type:"button"},"Batal"),(0,r.createElement)($a.Button,{type:"submit",isLoading:a,variant:"in"===o?"primary":"danger"},"Simpan Transaksi")))}function ar(){const{api:e}=Ke(),[t,a]=(0,r.useState)({total_income:0,total_expense:0,net_balance:0}),[n,l]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,c]=(0,r.useState)(!1),[m,d]=(0,r.useState)("all"),u=async()=>{i(!0);try{const t=await e.get("/finance/summary");a(t);const r=await e.get("/finance/transactions");l(r)}catch(e){console.error("Error fetching finance data:",e)}finally{i(!1)}};(0,r.useEffect)(()=>{u()},[]);const p=n.filter(e=>"all"===m||e.type===m);return s?(0,r.createElement)(dt,null):(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Keuangan & Buku Besar"),(0,r.createElement)("p",{className:"text-gray-500 text-sm"},"Monitor arus kas masuk dan keluar perusahaan.")),(0,r.createElement)("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center shadow-sm"},(0,r.createElement)("span",{className:"mr-2 text-lg font-bold"},"+")," Catat Transaksi")),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,r.createElement)("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-green-500"},(0,r.createElement)("div",{className:"text-gray-500 text-sm font-medium"},"Total Pemasukan"),(0,r.createElement)("div",{className:"text-2xl font-bold text-gray-800 mt-1"},"Rp ",t.total_income.toLocaleString("id-ID"))),(0,r.createElement)("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-red-500"},(0,r.createElement)("div",{className:"text-gray-500 text-sm font-medium"},"Total Pengeluaran"),(0,r.createElement)("div",{className:"text-2xl font-bold text-gray-800 mt-1"},"Rp ",t.total_expense.toLocaleString("id-ID"))),(0,r.createElement)("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-blue-500"},(0,r.createElement)("div",{className:"text-gray-500 text-sm font-medium"},"Saldo Kas (Net)"),(0,r.createElement)("div",{className:"text-2xl font-bold mt-1 "+(t.net_balance>=0?"text-blue-600":"text-red-600")},"Rp ",t.net_balance.toLocaleString("id-ID")))),(0,r.createElement)("div",{className:"bg-white shadow rounded-lg overflow-hidden"},(0,r.createElement)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-50"},(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-900"},"Jurnal Transaksi"),(0,r.createElement)("div",{className:"flex space-x-2"},(0,r.createElement)("button",{onClick:()=>d("all"),className:"px-3 py-1 text-sm rounded-full "+("all"===m?"bg-gray-800 text-white":"bg-white border text-gray-600")},"Semua"),(0,r.createElement)("button",{onClick:()=>d("in"),className:"px-3 py-1 text-sm rounded-full "+("in"===m?"bg-green-600 text-white":"bg-white border text-gray-600")},"Masuk"),(0,r.createElement)("button",{onClick:()=>d("out"),className:"px-3 py-1 text-sm rounded-full "+("out"===m?"bg-red-600 text-white":"bg-white border text-gray-600")},"Keluar"))),(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tanggal"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kategori"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Deskripsi"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Debit (Masuk)"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Kredit (Keluar)"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},p.map(e=>(0,r.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},e.transaction_date),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium"},(0,r.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("in"===e.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},e.category)),(0,r.createElement)("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate"},e.description),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-green-600 font-medium"},"in"===e.type?`Rp ${parseFloat(e.amount).toLocaleString("id-ID")}`:"-"),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-red-600 font-medium"},"out"===e.type?`Rp ${parseFloat(e.amount).toLocaleString("id-ID")}`:"-"))),0===p.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"5",className:"px-6 py-10 text-center text-gray-500"},"Belum ada transaksi yang tercatat.")))))),(0,r.createElement)(At,{isOpen:o,onClose:()=>c(!1),title:"Catat Transaksi Baru"},(0,r.createElement)(tr,{onSubmit:async t=>{try{await e.post("/finance/transactions",t),c(!1),u(),alert("Transaksi berhasil disimpan")}catch(e){console.error(e),alert("Gagal menyimpan transaksi")}},onCancel:()=>c(!1)})))}const rr=[{id:"dashboard",label:"Dashboard"},{id:"packages",label:"Manajemen Paket"},{id:"jamaah",label:"Data Jamaah"},{id:"transactions",label:"Transaksi & Keuangan"},{id:"rooming",label:"Rooming List"},{id:"marketing",label:"Marketing & Leads"},{id:"hr",label:"HR & Karyawan"},{id:"settings",label:"Pengaturan Sistem"}];function nr({initialData:e,onSubmit:t,onCancel:a,isLoading:n}){const{register:l,handleSubmit:s,formState:{errors:i},setValue:o,watch:c}=Ra({defaultValues:{name:"",position:"",phone:"",email:"",salary:"",status:"active",access_permissions:[]}}),[m,d]=(0,r.useState)([]);return(0,r.useEffect)(()=>{e&&Object.keys(e).forEach(t=>{if("access_permissions"===t){const a=Array.isArray(e[t])?e[t]:[];d(a)}else o(t,e[t])})},[e,o]),(0,r.createElement)("form",{onSubmit:s(e=>{const a={...e,access_permissions:m};t(a)}),className:"space-y-6"},(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},(0,r.createElement)("div",{className:"space-y-4"},(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2"},"Informasi Pegawai"),(0,r.createElement)($a.Input,{label:"Nama Lengkap",...l("name",{required:"Nama wajib diisi"}),error:i.name}),(0,r.createElement)($a.Input,{label:"Posisi / Jabatan",...l("position",{required:"Posisi wajib diisi"}),error:i.position}),(0,r.createElement)($a.Input,{label:"Email",type:"email",...l("email",{required:"Email wajib diisi"}),error:i.email}),(0,r.createElement)($a.Input,{label:"Nomor Telepon",...l("phone"),error:i.phone}),(0,r.createElement)($a.Input,{label:"Gaji (Rp)",type:"number",...l("salary"),error:i.salary}),(0,r.createElement)($a.Select,{label:"Status Karyawan",...l("status"),options:[{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}]})),(0,r.createElement)("div",{className:"space-y-4"},(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2"},"Hak Akses Sistem"),(0,r.createElement)("p",{className:"text-sm text-gray-500 mb-4"},"Pilih fitur apa saja yang dapat diakses oleh karyawan ini."),(0,r.createElement)("div",{className:"grid grid-cols-1 gap-2 bg-gray-50 p-4 rounded-lg border"},rr.map(e=>(0,r.createElement)("label",{key:e.id,className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-100 p-2 rounded"},(0,r.createElement)("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500",checked:m.includes(e.id),onChange:()=>{return t=e.id,void d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}}),(0,r.createElement)("span",{className:"text-gray-700 font-medium"},e.label)))))),(0,r.createElement)("div",{className:"flex justify-end space-x-3 pt-4 border-t mt-6"},(0,r.createElement)($a.Button,{variant:"secondary",onClick:a,type:"button"},"Batal"),(0,r.createElement)($a.Button,{type:"submit",isLoading:n},e?"Simpan Perubahan":"Tambah Karyawan")))}function lr(){const{api:e}=Ke(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),[m,d]=(0,r.useState)(!1),u=async()=>{try{l(!0);const t=await e.get("/hr/employees");a(t)}catch(e){console.error("Failed to fetch employees",e)}finally{l(!1)}};return(0,r.useEffect)(()=>{u()},[]),n?(0,r.createElement)(dt,null):(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Manajemen SDM (HR)"),(0,r.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center"},"+ Tambah Karyawan")),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,r.createElement)(ut,{title:"Total Karyawan",value:t.length,color:"blue"}),(0,r.createElement)(ut,{title:"Karyawan Aktif",value:t.filter(e=>"active"===e.status).length,color:"green"}),(0,r.createElement)(ut,{title:"Total Gaji (Est)",value:`Rp ${t.reduce((e,t)=>e+parseFloat(t.salary||0),0).toLocaleString()}`,color:"yellow"})),(0,r.createElement)("div",{className:"bg-white rounded-lg shadow overflow-hidden"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama / Kontak"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Posisi"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Hak Akses"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,r.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm font-medium text-gray-900"},t.name),(0,r.createElement)("div",{className:"text-sm text-gray-500"},t.email),(0,r.createElement)("div",{className:"text-sm text-gray-500"},t.phone)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},t.position),(0,r.createElement)("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-xs"},(e=>{if(!e||0===e.length)return(0,r.createElement)("span",{className:"text-gray-400 text-xs"},"Tidak ada akses");const t=e.slice(0,3),a=e.length-3;return(0,r.createElement)("div",{className:"flex flex-wrap gap-1"},t.map(e=>(0,r.createElement)("span",{key:e,className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full capitalize"},e)),a>0&&(0,r.createElement)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full"},"+",a))})(t.access_permissions)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},"active"===t.status?"Aktif":"Non-Aktif")),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},(0,r.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-indigo-600 hover:text-indigo-900"},"Edit"),(0,r.createElement)("button",{onClick:()=>(async t=>{if(window.confirm("Hapus data karyawan ini?"))try{await e.delete(`/hr/employees/${t}`),u()}catch(e){console.error("Failed to delete",e)}})(t.id),className:"text-red-600 hover:text-red-900"},"Hapus")))))),0===t.length&&(0,r.createElement)("div",{className:"p-6 text-center text-gray-500"},"Belum ada data karyawan.")),(0,r.createElement)(At,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Data Karyawan":"Tambah Karyawan Baru",maxWidth:"2xl"},(0,r.createElement)(nr,{initialData:o,onSubmit:async t=>{d(!0);try{o?await e.put(`/hr/employees/${o.id}`,t):await e.post("/hr/employees",t),i(!1),c(null),u()}catch(e){console.error("Failed to save employee",e),alert("Gagal menyimpan data karyawan.")}finally{d(!1)}},onCancel:()=>i(!1),isLoading:m})))}function sr(){const{api:e}=Ke(),[t,a]=(0,r.useState)("categories");return(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Master Data"),(0,r.createElement)("div",{className:"flex border-b border-gray-200"},(0,r.createElement)("button",{className:"py-2 px-4 font-medium text-sm focus:outline-none "+("categories"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("categories")},"Kategori Paket"),(0,r.createElement)("button",{className:"py-2 px-4 font-medium text-sm focus:outline-none "+("hotels"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("hotels")},"Hotel"),(0,r.createElement)("button",{className:"py-2 px-4 font-medium text-sm focus:outline-none "+("airlines"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("airlines")},"Maskapai")),(0,r.createElement)("div",{className:"mt-6"},"categories"===t&&(0,r.createElement)(ir,{api:e}),"hotels"===t&&(0,r.createElement)("div",{className:"p-4 bg-gray-50 rounded border text-center text-gray-500"},"Modul Hotel (Placeholder)"),"airlines"===t&&(0,r.createElement)("div",{className:"p-4 bg-gray-50 rounded border text-center text-gray-500"},"Modul Maskapai (Placeholder)")))}function ir({api:e}){const[t,a]=(0,r.useState)("main"),[n,l]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1),[m,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null),g=async()=>{c(!0);try{const a=await e.get("/categories?parent_id=0");if(i(a),"main"===t)l(a);else{const t=(await e.get("/categories?all=true")).filter(e=>e.parent_id&&0!=e.parent_id);l(t)}}catch(e){console.error(e)}finally{c(!1)}};return(0,r.useEffect)(()=>{g()},[t]),(0,r.createElement)("div",{className:"space-y-4"},(0,r.createElement)("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg"},(0,r.createElement)("div",{className:"space-x-2"},(0,r.createElement)("button",{onClick:()=>a("main"),className:"px-3 py-1 rounded text-sm font-medium "+("main"===t?"bg-white shadow text-blue-600":"text-gray-600 hover:bg-gray-200")},"Kategori Utama"),(0,r.createElement)("button",{onClick:()=>a("sub"),className:"px-3 py-1 rounded text-sm font-medium "+("sub"===t?"bg-white shadow text-blue-600":"text-gray-600 hover:bg-gray-200")},"Sub Kategori")),(0,r.createElement)("button",{onClick:()=>{p(null),d(!0)},className:"bg-blue-600 text-white px-3 py-1.5 rounded hover:bg-blue-700 text-sm"},"+ Tambah ","main"===t?"Kategori Utama":"Sub Kategori")),o?(0,r.createElement)(dt,null):(0,r.createElement)("div",{className:"bg-white border rounded-lg overflow-hidden"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Kategori"),"sub"===t&&(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Induk (Main)"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Slug"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},n.map(a=>{const n=s.find(e=>e.id==a.parent_id);return(0,r.createElement)("tr",{key:a.id},(0,r.createElement)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900"},a.name),"sub"===t&&(0,r.createElement)("td",{className:"px-6 py-4 text-sm text-gray-500"},n?n.name:"-"),(0,r.createElement)("td",{className:"px-6 py-4 text-sm text-gray-500"},a.slug),(0,r.createElement)("td",{className:"px-6 py-4 text-right text-sm font-medium space-x-2"},(0,r.createElement)("button",{onClick:()=>{p(a),d(!0)},className:"text-indigo-600"},"Edit"),(0,r.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus kategori ini?")&&(await e.delete(`/categories/${t}`),g())})(a.id),className:"text-red-600"},"Hapus")))}),0===n.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"4",className:"px-6 py-4 text-center text-sm text-gray-500"},"Tidak ada data."))))),(0,r.createElement)(At,{isOpen:m,onClose:()=>d(!1),title:u?"Edit Kategori":"main"===t?"Tambah Kategori Utama":"Tambah Sub Kategori"},(0,r.createElement)(or,{api:e,initialData:u,isSub:"sub"===t,mainCategories:s,onSuccess:()=>{d(!1),g()},onCancel:()=>d(!1)})))}function or({api:e,initialData:t,isSub:a,mainCategories:n,onSuccess:l,onCancel:s}){const{register:i,handleSubmit:o,formState:{errors:c}}=Ra({defaultValues:t||{name:"",description:"",parent_id:a?"":0}}),[m,d]=(0,r.useState)(!1);return(0,r.createElement)("form",{onSubmit:o(async r=>{d(!0);try{a||(r.parent_id=0),t?await e.put(`/categories/${t.id}`,r):await e.post("/categories",r),l()}catch(e){alert("Error saving category")}finally{d(!1)}}),className:"space-y-4"},a&&(0,r.createElement)($a.Select,{label:"Kategori Utama (Induk)",...i("parent_id",{required:"Harap pilih kategori induk"}),options:n.map(e=>({value:e.id,label:e.name})),error:c.parent_id}),(0,r.createElement)($a.Input,{label:"Nama Kategori",...i("name",{required:"Nama wajib diisi"}),error:c.name}),(0,r.createElement)($a.TextArea,{label:"Deskripsi",...i("description")}),(0,r.createElement)("div",{className:"flex justify-end space-x-2 mt-4"},(0,r.createElement)($a.Button,{variant:"secondary",type:"button",onClick:s},"Batal"),(0,r.createElement)($a.Button,{type:"submit",isLoading:m},"Simpan")))}function cr(){const{api:e}=Ke(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),m=async()=>{l(!0);try{const t=await e.get("/inventory");a(t)}catch(e){console.error(e)}finally{l(!1)}};return(0,r.useEffect)(()=>{m()},[]),n?(0,r.createElement)(dt,null):(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Logistik & Perlengkapan"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"Atur stok koper, kain ihram, batik, dan buku panduan.")),(0,r.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"+ Tambah Barang")),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,r.createElement)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200"},(0,r.createElement)("h3",{className:"font-bold text-blue-800"},"Total Item Fisik"),(0,r.createElement)("p",{className:"text-2xl font-bold"},t.reduce((e,t)=>e+parseInt(t.stock_quantity),0)," ",(0,r.createElement)("span",{className:"text-sm font-normal"},"unit"))),(0,r.createElement)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200"},(0,r.createElement)("h3",{className:"font-bold text-orange-800"},"Perlu Restock"),(0,r.createElement)("p",{className:"text-2xl font-bold"},t.filter(e=>parseInt(e.stock_quantity)<10).length," ",(0,r.createElement)("span",{className:"text-sm font-normal"},"jenis barang")))),(0,r.createElement)("div",{className:"bg-white shadow rounded-lg overflow-hidden"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Barang"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tipe"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Stok Tersedia"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,r.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm font-medium text-gray-900"},t.name),(0,r.createElement)("div",{className:"text-xs text-gray-500"},t.description)),(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 capitalize"},t.type)),(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm font-bold "+(t.stock_quantity<10?"text-red-600":"text-green-600")},t.stock_quantity," ",t.unit)),(0,r.createElement)("td",{className:"px-6 py-4 text-right text-sm font-medium space-x-2"},(0,r.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-indigo-600 hover:text-indigo-900"},"Edit"),(0,r.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus barang ini dari sistem?")&&(await e.delete(`/inventory/${t}`),m())})(t.id),className:"text-red-600 hover:text-red-900"},"Hapus")))),0===t.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"4",className:"px-6 py-8 text-center text-gray-500"},"Belum ada data logistik."))))),(0,r.createElement)(At,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Stok Barang":"Tambah Barang Baru"},(0,r.createElement)(mr,{initialData:o,onSubmit:async t=>{try{o?await e.put(`/inventory/${o.id}`,t):await e.post("/inventory",t),i(!1),c(null),m()}catch(e){alert("Gagal menyimpan data")}},onCancel:()=>i(!1)})))}function mr({initialData:e,onSubmit:t,onCancel:a}){const{register:n,handleSubmit:l,formState:{errors:s}}=Ra({defaultValues:e||{name:"",stock_quantity:0,unit:"pcs",type:"equipment",description:""}});return(0,r.createElement)("form",{onSubmit:l(t),className:"space-y-4"},(0,r.createElement)($a.Input,{label:"Nama Barang",placeholder:"Contoh: Koper Fiber 24 Inch",...n("name",{required:"Nama barang wajib diisi"}),error:s.name}),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)($a.Input,{label:"Stok Awal",type:"number",...n("stock_quantity",{required:!0,min:0})}),(0,r.createElement)($a.Input,{label:"Satuan",placeholder:"pcs, set, lusin",...n("unit")})),(0,r.createElement)($a.Select,{label:"Tipe Barang",...n("type"),options:[{value:"equipment",label:"Perlengkapan (Koper/Ihram)"},{value:"souvenir",label:"Souvenir / Hadiah"},{value:"document",label:"Dokumen / ID Card"}]}),(0,r.createElement)($a.TextArea,{label:"Deskripsi / Catatan",...n("description")}),(0,r.createElement)("div",{className:"flex justify-end space-x-2 pt-4"},(0,r.createElement)($a.Button,{variant:"secondary",type:"button",onClick:a},"Batal"),(0,r.createElement)($a.Button,{type:"submit"},"Simpan")))}function dr(){const{api:e}=Ke(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),m=async()=>{l(!0);try{const t=await e.get("/branches");a(t)}catch(e){console.error(e)}finally{l(!1)}};return(0,r.useEffect)(()=>{m()},[]),n?(0,r.createElement)(dt,null):(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Kantor Cabang"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"Kelola lokasi operasional perusahaan.")),(0,r.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"+ Tambah Cabang")),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,r.createElement)(ut,{title:"Total Cabang",value:t.length,color:"blue"}),(0,r.createElement)(ut,{title:"Cabang Aktif",value:t.filter(e=>"active"===e.status).length,color:"green"}),(0,r.createElement)(ut,{title:"Kota Tercover",value:[...new Set(t.map(e=>e.city))].length,color:"purple"})),(0,r.createElement)("div",{className:"bg-white shadow rounded-lg overflow-hidden"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode & Nama"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lokasi"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kepala Cabang"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,r.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm font-bold text-gray-900"},t.code),(0,r.createElement)("div",{className:"text-sm text-gray-600"},t.name)),(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm text-gray-900"},t.city),(0,r.createElement)("div",{className:"text-xs text-gray-500 truncate max-w-xs"},t.address)),(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm text-gray-900"},t.head_of_branch||"-"),(0,r.createElement)("div",{className:"text-xs text-gray-500"},t.phone)),(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},"active"===t.status?"Buka":"Tutup")),(0,r.createElement)("td",{className:"px-6 py-4 text-right text-sm font-medium space-x-2"},(0,r.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-indigo-600 hover:text-indigo-900"},"Edit"),(0,r.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus data cabang ini?")&&(await e.delete(`/branches/${t}`),m())})(t.id),className:"text-red-600 hover:text-red-900"},"Hapus")))),0===t.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500"},"Belum ada data cabang."))))),(0,r.createElement)(At,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Cabang":"Buka Cabang Baru"},(0,r.createElement)(ur,{initialData:o,onSubmit:async t=>{try{o?await e.put(`/branches/${o.id}`,t):await e.post("/branches",t),i(!1),c(null),m()}catch(e){alert("Gagal menyimpan data cabang (Kode mungkin duplikat).")}},onCancel:()=>i(!1)})))}function ur({initialData:e,onSubmit:t,onCancel:a}){const{register:n,handleSubmit:l,formState:{errors:s}}=Ra({defaultValues:e||{code:"",name:"",city:"",address:"",head_of_branch:"",phone:"",status:"active"}});return(0,r.createElement)("form",{onSubmit:l(t),className:"space-y-4"},(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)($a.Input,{label:"Kode Cabang",placeholder:"Contoh: BANTEN-01",...n("code",{required:"Kode wajib diisi"}),error:s.code}),(0,r.createElement)($a.Input,{label:"Nama Cabang",placeholder:"Cabang Serang Pusat",...n("name",{required:"Nama wajib diisi"}),error:s.name})),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)($a.Input,{label:"Kota",...n("city",{required:"Kota wajib diisi"}),error:s.city}),(0,r.createElement)($a.Input,{label:"Kepala Cabang",...n("head_of_branch")})),(0,r.createElement)($a.Input,{label:"Nomor Telepon Kantor",...n("phone")}),(0,r.createElement)($a.TextArea,{label:"Alamat Lengkap",...n("address")}),(0,r.createElement)($a.Select,{label:"Status Operasional",...n("status"),options:[{value:"active",label:"Aktif / Buka"},{value:"inactive",label:"Non-Aktif / Tutup Sementara"}]}),(0,r.createElement)("div",{className:"flex justify-end space-x-2 pt-4"},(0,r.createElement)($a.Button,{variant:"secondary",type:"button",onClick:a},"Batal"),(0,r.createElement)($a.Button,{type:"submit"},"Simpan")))}function pr(){const{api:e}=Ke(),[t,a]=(0,r.useState)(null),[n,l]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,c]=(0,r.useState)(new Date),[m,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(""),[g,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=setInterval(()=>c(new Date),1e3);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{f(),y()},[]);const f=async()=>{try{const t=await e.get("/attendance/today");a(t);const r=await e.get("/attendance/history");l(r)}catch(e){console.error(e)}finally{i(!1)}},y=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{d({lat:e.coords.latitude,lng:e.coords.longitude}),p("")},e=>{console.error(e),p("Gagal mengambil lokasi. Pastikan GPS aktif dan izin diberikan.")},{enableHighAccuracy:!0}):p("Browser Anda tidak mendukung Geolocation.")},b=async t=>{if(!m)return alert("Sedang mencari lokasi GPS... Tunggu sebentar atau refresh halaman."),void y();h(!0);try{await e.post("/attendance/clock",{type:t,lat:m.lat,lng:m.lng}),alert("in"===t?"Selamat bekerja! Absen masuk berhasil.":"Terima kasih! Hati-hati di jalan."),f()}catch(e){alert(e.message||"Gagal melakukan presensi.")}finally{h(!1)}};if(s)return(0,r.createElement)(dt,null);const x="checked_in"===t?.status,v=t?.can_check_out;return(0,r.createElement)("div",{className:"max-w-md mx-auto space-y-6 pb-10"},(0,r.createElement)("div",{className:"text-center py-4"},(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Presensi Karyawan"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"PT. Travel Umrah Banten")),(0,r.createElement)("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-gray-100"},(0,r.createElement)("div",{className:"text-gray-500 text-sm font-medium mb-2"},o.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),(0,r.createElement)("div",{className:"text-5xl font-bold text-blue-600 tracking-tight font-mono mb-4"},o.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})),(0,r.createElement)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium "+(m?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},(0,r.createElement)("span",{className:"w-2 h-2 rounded-full mr-2 "+(m?"bg-green-500 animate-pulse":"bg-red-500")}),m?"GPS Terkunci Akurat":"Mencari GPS..."),u&&(0,r.createElement)("p",{className:"text-xs text-red-500 mt-2"},u)),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)("button",{onClick:()=>b("in"),disabled:x||g||!m,className:"p-6 rounded-xl shadow-md flex flex-col items-center justify-center transition-all transform active:scale-95 "+(x?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-br from-blue-500 to-blue-600 text-white hover:shadow-lg")},(0,r.createElement)("svg",{className:"w-10 h-10 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})),(0,r.createElement)("span",{className:"font-bold text-lg"},"Absen Masuk"),x&&(0,r.createElement)("span",{className:"text-xs mt-1"},t?.data?.check_in_time?.split(" ")[1])),(0,r.createElement)("button",{onClick:()=>b("out"),disabled:!x||!v||g||!m,className:"p-6 rounded-xl shadow-md flex flex-col items-center justify-center transition-all transform active:scale-95 "+(x&&v?"bg-gradient-to-br from-red-500 to-red-600 text-white hover:shadow-lg":"bg-gray-100 text-gray-400 cursor-not-allowed")},(0,r.createElement)("svg",{className:"w-10 h-10 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})),(0,r.createElement)("span",{className:"font-bold text-lg"},"Absen Pulang"),t?.data?.check_out_time&&(0,r.createElement)("span",{className:"text-xs mt-1"},t?.data?.check_out_time?.split(" ")[1]))),x&&t?.data&&(0,r.createElement)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200"},(0,r.createElement)("h3",{className:"text-sm font-bold text-gray-700 mb-2"},"Lokasi Anda Hari Ini"),(0,r.createElement)("div",{className:"aspect-video w-full bg-gray-200 rounded overflow-hidden relative"},(0,r.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",scrolling:"no",marginHeight:"0",marginWidth:"0",src:`https://maps.google.com/maps?q=${t.data.check_in_lat},${t.data.check_in_lng}&z=15&output=embed`})),(0,r.createElement)("div",{className:"mt-2 flex justify-between text-xs text-gray-500"},(0,r.createElement)("span",null,"Masuk: ",t.data.check_in_time),t.data.check_out_time&&(0,r.createElement)("span",null,"Pulang: ",t.data.check_out_time))),(0,r.createElement)("div",null,(0,r.createElement)("h3",{className:"text-lg font-bold text-gray-800 mb-3 px-2"},"Riwayat 30 Hari Terakhir"),(0,r.createElement)("div",{className:"space-y-3"},n.map(e=>(0,r.createElement)("div",{key:e.id,className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"font-bold text-gray-800"},new Date(e.date).toLocaleDateString("id-ID",{weekday:"short",day:"numeric",month:"short"})),(0,r.createElement)("div",{className:"text-xs text-gray-500 mt-1"},(0,r.createElement)("span",{className:"text-green-600 font-medium"},"IN: ",e.check_in_time?e.check_in_time.split(" ")[1]:"-"),(0,r.createElement)("span",{className:"mx-2"},"|"),(0,r.createElement)("span",{className:"text-red-600 font-medium"},"OUT: ",e.check_out_time?e.check_out_time.split(" ")[1]:"-"))),(0,r.createElement)("div",null,(0,r.createElement)("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase "+("present"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")},e.status)))),0===n.length&&(0,r.createElement)("p",{className:"text-center text-gray-500 py-4"},"Belum ada riwayat presensi."))))}const gr=({message:e})=>(0,r.createElement)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative my-4",role:"alert"},(0,r.createElement)("strong",{className:"font-bold"},"Error: "),(0,r.createElement)("span",{className:"block sm:inline"},e)),hr=()=>{const{logs:e,users:t,loadingLogs:a,error:n,fetchLogs:l}=Ke();return(0,r.useEffect)(()=>{l()},[l]),(0,r.createElement)("div",{className:"bg-white shadow-lg rounded-lg p-6 relative min-h-[300px]"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("h2",{className:"text-2xl font-semibold text-gray-800"},"Log Aktivitas")),n&&(0,r.createElement)(gr,{message:n}),a&&(0,r.createElement)(mt,null),!a&&!n&&(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Waktu"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pengguna"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Objek"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID Objek"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Detail"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},0===e.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500"},"Tidak ada log.")),e.map(e=>(0,r.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},(e=>{if(!e)return"-";try{const t=new Date(e);return isNaN(t.getTime())?"-":t.toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",timeZone:"UTC"})}catch(t){return e}})(e.created_at)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},(e=>{const a=t.find(t=>t.id==e);return a?a.full_name:"Sistem"})(e.user_id)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(e=>{const t=(e||"pending").replace(/_/g," "),a=t.toLowerCase().replace(/ /g,"_").replace(/[^a-z0-9_]/g,"");return(0,r.createElement)("span",{className:`status-badge ${a}`},t)})(e.action)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},e.object_type),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},e.object_id),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 truncate max-w-xs"},e.details)))))))},fr=Ye("bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]),yr=Ye("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),br=Ye("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),xr=()=>{const{api:e}=Ke(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(""),[s,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(""),[m,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[g,h]=(0,r.useState)(!1),[f,y]=(0,r.useState)({number:"",type:"Quad",guests:[]});(0,r.useEffect)(()=>{(async()=>{try{const t=await e.get("/packages?status=active");a(t.data||[])}catch(e){console.error("Gagal load paket",e)}})()},[]),(0,r.useEffect)(()=>{if(!n)return i([]),void c("");const e=t.find(e=>e.id==n);e&&e.hotels?i(e.hotels):i([])},[n,t]);const b=async()=>{if(o){p(!0);try{const t=await e.get(`/rooming/${o}`);d(t.data)}catch(e){console.error(e),e.response&&404!==e.response.status&&alert("Gagal memuat data rooming.")}finally{p(!1)}}};return(0,r.useEffect)(()=>{o?b():d(null)},[o]),(0,r.createElement)("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen"},(0,r.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2"},(0,r.createElement)(fr,{className:"text-blue-600"})," Rooming List"),(0,r.createElement)("p",{className:"text-gray-500 text-sm"},"Manajemen pembagian kamar hotel jamaah")),(0,r.createElement)("div",{className:"flex items-center gap-2 bg-gray-100 p-1 rounded-lg"},(0,r.createElement)("select",{className:"bg-transparent border-none focus:ring-0 text-sm font-medium text-gray-700 py-2 px-3 cursor-pointer",value:n,onChange:e=>{l(e.target.value),c("")}},(0,r.createElement)("option",{value:""},"-- 1. Pilih Paket --"),t.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.name))),(0,r.createElement)(yr,{size:16,className:"text-gray-400"}),(0,r.createElement)("select",{className:"bg-transparent border-none focus:ring-0 text-sm font-medium text-gray-700 py-2 px-3 cursor-pointer",value:o,onChange:e=>c(e.target.value),disabled:!n},(0,r.createElement)("option",{value:""},"-- 2. Pilih Hotel --"),s.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.hotel_name," (",e.city,")"))))),o?u?(0,r.createElement)(dt,null):m?(0,r.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},(0,r.createElement)("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border flex flex-col h-[calc(100vh-200px)] sticky top-6"},(0,r.createElement)("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center rounded-t-xl"},(0,r.createElement)("h3",{className:"font-bold text-gray-700 flex items-center gap-2"},(0,r.createElement)(Ze,{size:18})," Belum Dapat Kamar"),(0,r.createElement)("span",{className:"bg-red-100 text-red-600 px-2 py-0.5 rounded-full text-xs font-bold"},m.unassigned.length)),(0,r.createElement)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2"},0===m.unassigned.length&&(0,r.createElement)("div",{className:"text-center py-10 text-gray-400 text-sm italic"},(0,r.createElement)(br,{size:32,className:"mx-auto mb-2 text-green-400"}),"Semua jamaah sudah dapat kamar!"),m.unassigned.map(e=>(0,r.createElement)("div",{key:e.booking_id,className:"p-3 border rounded-lg hover:bg-blue-50 cursor-pointer flex justify-between items-center group transition-colors"},(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"font-medium text-sm text-gray-800"},e.full_name),(0,r.createElement)("div",{className:"flex gap-2 mt-1"},(0,r.createElement)("span",{className:"text-[10px] px-1.5 py-0.5 rounded "+("L"===e.gender?"bg-blue-100 text-blue-600":"bg-pink-100 text-pink-600")},"L"===e.gender?"Pria":"Wanita"),(0,r.createElement)("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded border"},"Req: ",e.selected_room_type))),(0,r.createElement)("button",{onClick:()=>{y(t=>({...t,guests:[e.booking_id]})),h(!0)},className:"opacity-0 group-hover:opacity-100 bg-blue-600 text-white p-1.5 rounded-md shadow hover:bg-blue-700 transition-all",title:"Buat Kamar Baru dengan Jamaah ini"},(0,r.createElement)(Ha,{size:14}))))),(0,r.createElement)("div",{className:"p-4 border-t bg-gray-50 rounded-b-xl"},(0,r.createElement)("button",{onClick:()=>h(!0),className:"w-full bg-blue-600 text-white py-2.5 rounded-lg text-sm font-medium hover:bg-blue-700 flex justify-center items-center gap-2 shadow-sm"},(0,r.createElement)(Ha,{size:16})," Buat Kamar Baru"))),(0,r.createElement)("div",{className:"lg:col-span-2 space-y-4"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("h3",{className:"font-bold text-gray-700"},"Daftar Kamar Terisi (",m.rooms.length,")")),0===m.rooms.length&&(0,r.createElement)("div",{className:"p-12 text-center text-gray-400 bg-white rounded-xl border border-dashed"},"Belum ada kamar yang dibuat untuk hotel ini.",(0,r.createElement)("br",null),'Klik tombol "Buat Kamar Baru" di panel kiri.'),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},m.rooms.map(t=>(0,r.createElement)("div",{key:t.id,className:"bg-white border rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow"},(0,r.createElement)("div",{className:"bg-gray-800 text-white p-3 flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("h4",{className:"font-bold text-lg"},"Kamar ",t.room_number),(0,r.createElement)("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded text-gray-200"},t.room_type," (",t.guests.length," Org)")),(0,r.createElement)("button",{onClick:()=>(async t=>{if(confirm("Hapus kamar ini? Penghuni akan kembali ke status 'Belum Dapat Kamar'."))try{await e.delete(`/rooming/room/${t}`),b()}catch(e){alert("Gagal menghapus kamar")}})(t.id),className:"text-gray-400 hover:text-red-400 p-1 rounded hover:bg-gray-700 transition-colors"},(0,r.createElement)(Ua,{size:18}))),(0,r.createElement)("div",{className:"p-3 space-y-2 bg-white min-h-[100px]"},t.guests.map((e,t)=>(0,r.createElement)("div",{key:e.guest_id,className:"flex items-center gap-3 text-sm border-b border-gray-50 pb-2 last:border-0 last:pb-0"},(0,r.createElement)("span",{className:"text-xs text-gray-400 w-4"},t+1,"."),(0,r.createElement)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white "+("L"===e.gender?"bg-blue-500":"bg-pink-500")},e.gender),(0,r.createElement)("span",{className:"text-gray-700 font-medium"},e.full_name))),0===t.guests.length&&(0,r.createElement)("div",{className:"h-full flex items-center justify-center text-xs text-red-400 bg-red-50 rounded py-4"},"Kamar Kosong"))))))):null:(0,r.createElement)("div",{className:"text-center py-20 bg-white rounded-xl border border-dashed border-gray-300"},(0,r.createElement)(fr,{size:48,className:"mx-auto mb-4 text-gray-300"}),(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-500"},"Silakan pilih Paket dan Hotel terlebih dahulu"),(0,r.createElement)("p",{className:"text-sm text-gray-400"},"Data kamar dan jamaah akan muncul di sini.")),g&&m&&(0,r.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},(0,r.createElement)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in duration-200"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("h2",{className:"text-xl font-bold text-gray-800"},"Setup Kamar Baru"),(0,r.createElement)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600"},"‚úï")),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4 mb-6"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium mb-1.5 text-gray-700"},"Nomor Kamar"),(0,r.createElement)("input",{autoFocus:!0,type:"text",className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Cth: 101, 205",value:f.number,onChange:e=>y({...f,number:e.target.value})})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium mb-1.5 text-gray-700"},"Tipe Kamar"),(0,r.createElement)("select",{className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none",value:f.type,onChange:e=>y({...f,type:e.target.value})},(0,r.createElement)("option",{value:"Quad"},"Quad (Isi 4)"),(0,r.createElement)("option",{value:"Triple"},"Triple (Isi 3)"),(0,r.createElement)("option",{value:"Double"},"Double (Isi 2)")))),(0,r.createElement)("div",{className:"mb-6"},(0,r.createElement)("div",{className:"flex justify-between items-end mb-2"},(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Pilih Jamaah (",f.guests.length," terpilih)"),(0,r.createElement)("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded"},"Klik nama untuk memilih")),(0,r.createElement)("div",{className:"border border-gray-200 rounded-xl p-3 max-h-60 overflow-y-auto grid grid-cols-1 sm:grid-cols-2 gap-2 bg-gray-50"},0===m.unassigned.length&&(0,r.createElement)("p",{className:"col-span-2 text-center text-gray-400 py-4"},"Tidak ada jamaah tersisa."),m.unassigned.map(e=>{const t=f.guests.includes(e.booking_id);return(0,r.createElement)("div",{key:e.booking_id,onClick:()=>(e=>{const t=f.guests;if(t.includes(e))y({...f,guests:t.filter(t=>t!==e)});else{const a={Quad:4,Triple:3,Double:2};if(t.length>=a[f.type])return void alert(`Maksimal ${a[f.type]} orang untuk tipe kamar ${f.type}`);y({...f,guests:[...t,e]})}})(e.booking_id),className:"p-2.5 rounded-lg cursor-pointer border transition-all flex items-center gap-3 "+(t?"bg-blue-600 border-blue-600 text-white shadow-md transform scale-[1.02]":"bg-white border-gray-200 text-gray-600 hover:border-blue-300")},t?(0,r.createElement)(br,{size:18,className:"text-white"}):(0,r.createElement)("div",{className:"w-[18px] h-[18px] rounded-full border border-gray-300"}),(0,r.createElement)("div",{className:"truncate text-sm font-medium"},e.full_name,(0,r.createElement)("span",{className:"ml-1 text-xs opacity-70 font-normal"},"(",e.gender,")")))}))),(0,r.createElement)("div",{className:"flex justify-end gap-3 pt-4 border-t"},(0,r.createElement)("button",{onClick:()=>h(!1),className:"px-5 py-2.5 text-gray-600 hover:bg-gray-100 rounded-lg font-medium transition-colors"},"Batal"),(0,r.createElement)("button",{onClick:async t=>{if(t.preventDefault(),0!==f.guests.length)try{await e.post(`/rooming/${o}`,{room_number:f.number,room_type:f.type,booking_ids:f.guests}),h(!1),y({number:"",type:"Quad",guests:[]}),b()}catch(t){alert("Gagal membuat kamar.")}else alert("Pilih minimal 1 jamaah untuk masuk kamar ini.")},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium shadow-lg shadow-blue-200 transition-all transform active:scale-95"},"Simpan Kamar")))))};function vr(){return(0,r.createElement)(Ie,null,(0,r.createElement)(He,null,(0,r.createElement)(Le,null,(0,r.createElement)(Er,null))))}function Er(){const{user:e,loading:t,login:a,logout:n}=$e(),l=G(),[s,i]=(0,r.useState)(!1);if(t)return(0,r.createElement)("div",{className:"flex items-center justify-center h-screen bg-gray-100"},(0,r.createElement)("div",{className:"text-center"},(0,r.createElement)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.createElement)("p",{className:"text-gray-500 font-medium"},"Memuat Sistem...")));if(!e)return(0,r.createElement)(wr,{onLogin:a});const o=[{path:"/",label:"Dashboard",icon:(0,r.createElement)(Qe,{size:20})},{path:"/packages",label:"Paket Umrah",icon:(0,r.createElement)(Xe,{size:20})},{path:"/jamaah",label:"Data Jamaah",icon:(0,r.createElement)(Ze,{size:20})},{path:"/rooming",label:"Rooming List",icon:(0,r.createElement)(et,{size:20})},{path:"/inventory",label:"Logistik",icon:(0,r.createElement)(tt,{size:20})},{path:"/branches",label:"Cabang",icon:(0,r.createElement)(at,{size:20})},{path:"/attendance",label:"Presensi",icon:(0,r.createElement)(rt,{size:20})},{path:"/finance",label:"Keuangan",icon:(0,r.createElement)(nt,{size:20})},{path:"/hr",label:"HR & Karyawan",icon:(0,r.createElement)(lt,{size:20})},{path:"/agents",label:"Agen & Mitra",icon:(0,r.createElement)(st,{size:20})},{path:"/master",label:"Master Data",icon:(0,r.createElement)(it,{size:20})},{path:"/logs",label:"Activity Logs",icon:(0,r.createElement)(ot,{size:20})}];return(0,r.createElement)("div",{className:"flex h-screen bg-gray-100 overflow-hidden"},s&&(0,r.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>i(!1)}),(0,r.createElement)("aside",{className:`\n                fixed lg:static inset-y-0 left-0 z-30 w-64 bg-gray-900 text-white flex flex-col transition-transform duration-300 ease-in-out\n                ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}\n            `},(0,r.createElement)("div",{className:"p-6 border-b border-gray-800 flex items-center justify-center space-x-3"},(0,r.createElement)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg"},(0,r.createElement)("span",{className:"font-bold text-xl text-white"},"U")),(0,r.createElement)("div",{className:"leading-tight"},(0,r.createElement)("h1",{className:"font-bold text-lg tracking-wide"},"UMRAH"),(0,r.createElement)("span",{className:"text-xs text-gray-400 uppercase tracking-wider"},"Manager Pro"))),(0,r.createElement)("nav",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 custom-scrollbar"},o.map(e=>{const t=l.pathname===e.path;return(0,r.createElement)(Re,{key:e.path,to:e.path,onClick:()=>i(!1),className:`\n                                    flex items-center px-4 py-3 rounded-xl transition-all duration-200 group\n                                    ${t?"bg-blue-600 text-white shadow-lg shadow-blue-900/50":"text-gray-400 hover:bg-gray-800 hover:text-white"}\n                                `},(0,r.createElement)("span",{className:"mr-3 transition-colors "+(t?"text-white":"text-gray-500 group-hover:text-white")},e.icon),(0,r.createElement)("span",{className:"font-medium text-sm tracking-wide"},e.label),t&&(0,r.createElement)("span",{className:"ml-auto w-1.5 h-1.5 bg-white rounded-full shadow-glow"}))})),(0,r.createElement)("div",{className:"p-4 bg-gray-950 border-t border-gray-800"},(0,r.createElement)("div",{className:"flex items-center mb-4 px-2"},(0,r.createElement)("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-sm font-bold text-white border-2 border-gray-600"},e.user_display_name?e.user_display_name.charAt(0).toUpperCase():"U"),(0,r.createElement)("div",{className:"ml-3 overflow-hidden"},(0,r.createElement)("p",{className:"text-sm font-semibold text-white truncate"},e.user_display_name),(0,r.createElement)("p",{className:"text-xs text-gray-500 truncate"},e.user_email))),(0,r.createElement)("button",{onClick:()=>{n(),window.location.href="/wp-login.php?action=logout"},className:"w-full flex items-center justify-center px-4 py-2.5 border border-red-900/30 rounded-lg shadow-sm text-sm font-medium text-red-400 bg-red-900/10 hover:bg-red-600 hover:text-white transition-all duration-200 group"},(0,r.createElement)(ct,{size:16,className:"mr-2 group-hover:animate-pulse"}),"Keluar Sistem"))),(0,r.createElement)("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden"},(0,r.createElement)("header",{className:"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between shadow-sm z-10"},(0,r.createElement)("div",{className:"flex items-center space-x-3"},(0,r.createElement)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold"},"U"),(0,r.createElement)("span",{className:"font-bold text-gray-800"},"Umrah Manager")),(0,r.createElement)("button",{onClick:()=>i(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg focus:outline-none"},(0,r.createElement)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})))),(0,r.createElement)("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8 relative"},(0,r.createElement)("div",{className:"max-w-7xl mx-auto"},(0,r.createElement)(de,null,(0,r.createElement)(ce,{path:"/",element:(0,r.createElement)(jt,null)}),(0,r.createElement)(ce,{path:"/packages",element:(0,r.createElement)(Ya,null)}),(0,r.createElement)(ce,{path:"/jamaah",element:(0,r.createElement)(Ka,null)}),(0,r.createElement)(ce,{path:"/rooming",element:(0,r.createElement)(xr,null)}),(0,r.createElement)(ce,{path:"/inventory",element:(0,r.createElement)(cr,null)}),(0,r.createElement)(ce,{path:"/branches",element:(0,r.createElement)(dr,null)}),(0,r.createElement)(ce,{path:"/attendance",element:(0,r.createElement)(pr,null)}),(0,r.createElement)(ce,{path:"/finance",element:(0,r.createElement)(ar,null)}),(0,r.createElement)(ce,{path:"/hr",element:(0,r.createElement)(lr,null)}),(0,r.createElement)(ce,{path:"/agents",element:(0,r.createElement)(Za,null)}),(0,r.createElement)(ce,{path:"/master",element:(0,r.createElement)(sr,null)}),(0,r.createElement)(ce,{path:"/logs",element:(0,r.createElement)(hr,null)}))))))}function wr({onLogin:e}){const[t,a]=(0,r.useState)(""),[n,l]=(0,r.useState)(""),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)("");return(0,r.createElement)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8"},(0,r.createElement)("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-xl border border-gray-100"},(0,r.createElement)("div",{className:"text-center"},(0,r.createElement)("div",{className:"mx-auto h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mb-4"},(0,r.createElement)("span",{className:"text-3xl font-bold text-blue-600"},"U")),(0,r.createElement)("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight"},"Umrah Manager"),(0,r.createElement)("p",{className:"mt-2 text-sm text-gray-500"},"Silakan masuk untuk mengakses dashboard")),(0,r.createElement)("form",{className:"mt-8 space-y-6",onSubmit:async a=>{a.preventDefault(),i(!0),c("");try{await e(t,n)}catch(e){c("Login Gagal. Periksa username dan password Anda.")}finally{i(!1)}}},o&&(0,r.createElement)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md"},(0,r.createElement)("div",{className:"flex"},(0,r.createElement)("div",{className:"flex-shrink-0"},(0,r.createElement)("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},(0,r.createElement)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))),(0,r.createElement)("div",{className:"ml-3"},(0,r.createElement)("p",{className:"text-sm text-red-700"},o)))),(0,r.createElement)("div",{className:"rounded-md shadow-sm -space-y-px"},(0,r.createElement)("div",null,(0,r.createElement)("label",{htmlFor:"username",className:"sr-only"},"Username / Email"),(0,r.createElement)("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Username atau Email",value:t,onChange:e=>a(e.target.value)})),(0,r.createElement)("div",null,(0,r.createElement)("label",{htmlFor:"password",className:"sr-only"},"Password"),(0,r.createElement)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:e=>l(e.target.value)}))),(0,r.createElement)("div",null,(0,r.createElement)("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 "+(s?"opacity-75 cursor-not-allowed":"")},s?(0,r.createElement)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,r.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})):(0,r.createElement)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3"},(0,r.createElement)("svg",{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},(0,r.createElement)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}))),s?"Memproses...":"Masuk ke Sistem")))))}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("umh-admin-app");e&&(0,l.H)(e).render((0,r.createElement)(n().StrictMode,null,(0,r.createElement)(vr,null)))})})();
(()=>{"use strict";var e={338:(e,t,a)=>{var l=a(795);t.H=l.createRoot,l.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const l=window.React;var r=a.n(l),n=a(338);const s=window.umh_wp_data||{},c=s.user||null,m=s.nonce||null,i=s.api_url||"/wp-json/umh/v1",o=(0,l.createContext)(),d=({children:e})=>{const[t,a]=(0,l.useState)(c),r={currentUser:t,setCurrentUser:a,nonce:m,apiUrl:i,adminUrl:s.adminUrl,printUrl:s.printUrl,isWpAdmin:s.is_wp_admin||!1};return(0,l.createElement)(o.Provider,{value:r},e)},u=()=>(0,l.useContext)(o),p=(0,l.createContext)(),g=()=>(0,l.useContext)(p),b=({children:e})=>{const{token:t}=u(),[a,r]=(0,l.useState)(!1),n=async(e,a="GET",l=null,n=!1)=>{r(!0);try{const r={Authorization:`Bearer ${t}`};n||(r["Content-Type"]="application/json");const s={method:a,headers:r};l&&(s.body=n?l:JSON.stringify(l));const c=await fetch(`/wp-json/umh/v1${e}`,s),m=await c.json();if(!c.ok)throw new Error(m.message||"Terjadi kesalahan server");return m}catch(e){throw console.error("API Error:",e),e}finally{r(!1)}};return(0,l.createElement)(p.Provider,{value:{loading:a,apiCall:n,getMasterData:e=>n(`/master-data?type=${e}`),createMasterData:e=>n("/master-data","POST",e),deleteMasterData:e=>n(`/master-data/${e}`,"DELETE"),getCategories:()=>n("/categories"),createCategory:e=>n("/categories","POST",e),deleteCategory:e=>n(`/categories/${e}`,"DELETE"),getPackages:e=>n(`/packages?${new URLSearchParams(e)}`),createPackage:e=>n("/packages","POST",e),updatePackage:(e,t)=>n(`/packages/${e}`,"PUT",t),deletePackage:e=>n(`/packages/${e}`,"DELETE"),getJamaah:e=>n(`/jamaah?${new URLSearchParams(e)}`),createJamaah:e=>n("/jamaah","POST",e),updateJamaah:(e,t)=>n(`/jamaah/${e}`,"PUT",t),deleteJamaah:e=>n(`/jamaah/${e}`,"DELETE"),getCashflow:e=>n(`/finance/cashflow?${new URLSearchParams(e)}`),createCashflow:e=>n("/finance/cashflow","POST",e),createPayment:e=>n("/finance/payment","POST",e),getDashboardStats:()=>n("/stats")}},e)},x=({size:e="md",color:t="blue"})=>(0,l.createElement)("svg",{className:`animate-spin ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[e]} ${{blue:"text-blue-600",white:"text-white",gray:"text-gray-600"}[t]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,l.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),h=({text:e="Memuat data..."})=>(0,l.createElement)("div",{className:"flex flex-col items-center justify-center p-10 h-64 w-full"},(0,l.createElement)(x,{size:"lg",color:"blue"}),(0,l.createElement)("p",{className:"mt-4 text-gray-500 font-medium animate-pulse"},e)),y=({title:e,value:t,icon:a,color:r})=>{const n={blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",indigo:"bg-indigo-500",red:"bg-red-500",gray:"bg-gray-500"}[r]||"bg-blue-500";return(0,l.createElement)("div",{className:"bg-white overflow-hidden shadow rounded-lg"},(0,l.createElement)("div",{className:"p-5"},(0,l.createElement)("div",{className:"flex items-center"},(0,l.createElement)("div",{className:"flex-shrink-0"},(0,l.createElement)("div",{className:`rounded-md p-3 ${n} text-white flex items-center justify-center h-12 w-12`},(0,l.createElement)("span",{className:"text-2xl leading-none"},a))),(0,l.createElement)("div",{className:"ml-5 w-0 flex-1"},(0,l.createElement)("dl",null,(0,l.createElement)("dt",{className:"text-sm font-medium text-gray-500 truncate uppercase"},e),(0,l.createElement)("dd",null,(0,l.createElement)("div",{className:"text-lg font-bold text-gray-900"},t)))))))};var f={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},E=l.createContext&&l.createContext(f),v=["attr","size","title"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},N.apply(this,arguments)}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach(function(t){var l,r,n,s;l=e,r=t,n=a[t],(r="symbol"==typeof(s=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in l?Object.defineProperty(l,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _(e){return e&&e.map((e,t)=>l.createElement(e.tag,k({key:t},e.attr),_(e.child)))}function C(e){return t=>l.createElement(S,N({attr:k({},e.attr)},t),_(e.child))}function S(e){var t=t=>{var a,{attr:r,size:n,title:s}=e,c=function(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,v),m=n||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),l.createElement("svg",N({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:a,style:k(k({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),s&&l.createElement("title",null,s),e.children)};return void 0!==E?l.createElement(E.Consumer,null,e=>t(e)):t(f)}function P(e){return C({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function D(e){return C({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function z(e){return C({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(e)}function M(e){return C({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function j(e){return C({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function L(e){return C({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(e)}function T(e){return C({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function O(e){return C({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function A(e){return C({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function B(e){return C({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function K(e){return C({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function H(e){return C({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(e)}function I(e){return C({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h608c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM80.55 341.27c6.28 6.84 15.1 10.72 24.33 10.71l130.54-.18a65.62 65.62 0 0 0 29.64-7.12l290.96-147.65c26.74-13.57 50.71-32.94 67.02-58.31 18.31-28.48 20.3-49.09 13.07-63.65-7.21-14.57-24.74-25.27-58.25-27.45-29.85-1.94-59.54 5.92-86.28 19.48l-98.51 49.99-218.7-82.06a17.799 17.799 0 0 0-18-1.11L90.62 67.29c-10.67 5.41-13.25 19.65-5.17 28.53l156.22 98.1-103.21 52.38-72.35-36.47a17.804 17.804 0 0 0-16.07.02L9.91 230.22c-10.44 5.3-13.19 19.12-5.57 28.08l76.21 82.97z"},child:[]}]})(e)}function J(e){return C({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function V(e){return C({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function U(e){return C({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function $(e){return C({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function R(e){return C({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function q(e){return C({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function F(e){return C({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function W(e){return C({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}const G=()=>{const{getDashboardStats:e,apiCall:t,loading:a}=g(),{currentUser:r}=u(),[n,s]=(0,l.useState)(null),[c,m]=(0,l.useState)(""),[i,o]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{e().then(e=>s(e)).catch(console.error)},[]),a||!n)return(0,l.createElement)(h,{text:"Menyiapkan Dashboard..."});const d=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e);return(0,l.createElement)("div",{className:"p-6 space-y-8 bg-gray-50 min-h-screen font-sans"},(0,l.createElement)("div",{className:"flex justify-between items-end"},(0,l.createElement)("div",null,(0,l.createElement)("h1",{className:"text-3xl font-extrabold text-gray-900"},"Dashboard"),(0,l.createElement)("p",{className:"text-gray-500 mt-1"},"Selamat datang, ",(0,l.createElement)("span",{className:"font-semibold text-blue-600"},r?.full_name),"!"))),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5"},(0,l.createElement)(y,{title:"Total Jamaah",value:n.cards.total_jamaah,icon:(0,l.createElement)(U,null),color:"blue"}),(0,l.createElement)(y,{title:"Jamaah Bulan Ini",value:n.cards.new_jamaah_month,icon:(0,l.createElement)(T,null),color:"green"}),(0,l.createElement)(y,{title:"Total Pemasukan",value:d(n.cards.revenue),icon:(0,l.createElement)(K,null),color:"yellow"}),(0,l.createElement)(y,{title:"Saldo Kas",value:d(n.cards.profit),icon:(0,l.createElement)(W,null),color:"indigo"})),(0,l.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},(0,l.createElement)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},(0,l.createElement)("div",{className:"p-5 border-b border-gray-100 flex items-center gap-2"},(0,l.createElement)(I,{className:"text-blue-500"}),(0,l.createElement)("h3",{className:"font-bold text-gray-800"},"Jadwal Keberangkatan Terdekat")),(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full text-sm text-left"},(0,l.createElement)("thead",{className:"bg-gray-50 text-gray-500"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"p-4 font-medium"},"Nama Paket"),(0,l.createElement)("th",{className:"p-4 font-medium"},"Maskapai"),(0,l.createElement)("th",{className:"p-4 font-medium"},"Tanggal"),(0,l.createElement)("th",{className:"p-4 font-medium text-center"},"Jamaah"))),(0,l.createElement)("tbody",{className:"divide-y"},n.upcoming?.map((e,t)=>(0,l.createElement)("tr",{key:t,className:"hover:bg-gray-50 transition"},(0,l.createElement)("td",{className:"p-4 font-medium text-gray-900"},e.name),(0,l.createElement)("td",{className:"p-4 text-gray-600"},e.airline_name),(0,l.createElement)("td",{className:"p-4 text-blue-600 font-medium"},e.departure_date),(0,l.createElement)("td",{className:"p-4 text-center"},(0,l.createElement)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-bold"},e.jamaah_count)))))))),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 flex flex-col"},(0,l.createElement)("div",{className:"p-5 border-b border-gray-100 bg-gradient-to-r from-blue-600 to-blue-700 rounded-t-xl"},(0,l.createElement)("h3",{className:"font-bold text-white"},"Laporan Kinerja Harian"),(0,l.createElement)("p",{className:"text-blue-100 text-xs mt-1"},"Wajib diisi sebelum pulang.")),(0,l.createElement)("div",{className:"p-5 flex-1"},(0,l.createElement)("form",{onSubmit:async e=>{if(e.preventDefault(),c.trim()){o(!0);try{await t("/reports","POST",{user_id:r?.id,content:c}),alert("Laporan kerja berhasil dikirim!"),m("")}catch(e){alert("Gagal: "+e.message)}finally{o(!1)}}},className:"flex flex-col h-full"},(0,l.createElement)("textarea",{className:"w-full p-3 rounded-lg border border-gray-300 text-sm flex-1 mb-4 resize-none",rows:"6",placeholder:"Tuliskan hasil pekerjaan hari ini...",value:c,onChange:e=>m(e.target.value),required:!0}),(0,l.createElement)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white font-bold py-2.5 rounded-lg shadow-md disabled:bg-gray-400"},"Kirim Laporan"))))))},Y=({isOpen:e,onClose:t,title:a,children:r,size:n="md",noPadding:s=!1})=>((0,l.useEffect)(()=>{const a=e=>{"Escape"===e.key&&t()};return e&&window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,t]),e?(0,l.createElement)("div",{className:"fixed inset-0 z-50 overflow-y-auto"},(0,l.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,l.createElement)("div",{className:"flex items-center justify-center min-h-screen p-4"},(0,l.createElement)("div",{className:`relative bg-white rounded-xl shadow-2xl w-full transform transition-all ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[n]}`,onClick:e=>e.stopPropagation()},(0,l.createElement)("div",{className:"flex justify-between items-center p-5 border-b border-gray-100"},(0,l.createElement)("h3",{className:"text-xl font-bold text-gray-800"},a),(0,l.createElement)("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50"},(0,l.createElement)(J,null))),(0,l.createElement)("div",{className:s?"":"p-6"},r)))):null),Q=()=>{const{getCashflow:e,createCashflow:t,createPayment:a,getJamaah:r}=g(),[n,s]=(0,l.useState)("cashflow"),[c,m]=(0,l.useState)([]),[i,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!1),[p,b]=(0,l.useState)({month:"",year:(new Date).getFullYear()}),[x,y]=(0,l.useState)({}),[f,E]=(0,l.useState)([]);(0,l.useEffect)(()=>{v()},[n,p]);const v=async()=>{o(!0);try{if("cashflow"===n){const t=await e(p);m(t||[])}else{const t=await e({category:"Pembayaran Jamaah",...p});m(t||[])}}catch(e){console.error("Fetch finance error:",e)}finally{o(!1)}};return(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800 mb-6"},"Manajemen Keuangan"),(0,l.createElement)("div",{className:"flex space-x-4 mb-6"},(0,l.createElement)("button",{onClick:()=>s("cashflow"),className:"px-6 py-3 rounded-lg font-bold transition "+("cashflow"===n?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50")},"Arus Kas (Operasional)"),(0,l.createElement)("button",{onClick:()=>s("payment"),className:"px-6 py-3 rounded-lg font-bold transition "+("payment"===n?"bg-green-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50")},"Pembayaran Jamaah")),(0,l.createElement)("div",{className:"flex justify-between items-center mb-4"},(0,l.createElement)("div",{className:"flex space-x-2"},(0,l.createElement)("select",{className:"border border-gray-300 p-2 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:p.month,onChange:e=>b({...p,month:e.target.value})},(0,l.createElement)("option",{value:""},"Semua Bulan"),[...Array(12)].map((e,t)=>(0,l.createElement)("option",{key:t+1,value:t+1},new Date(0,t).toLocaleString("id-ID",{month:"long"}))))),(0,l.createElement)("button",{onClick:()=>"cashflow"===n?u(!0):(async()=>{y({jamaah_id:"",amount:0,date:"",notes:""}),u(!0);try{const e=await r({limit:100});E(e||[])}catch(e){console.error("Gagal load jamaah:",e)}})(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-lg shadow-sm font-medium transition flex items-center gap-2"},(0,l.createElement)("span",null,"+")," ","cashflow"===n?"Input Kas":"Input Pembayaran")),i?(0,l.createElement)(h,null):(0,l.createElement)("div",{className:"bg-white shadow rounded-lg overflow-hidden border border-gray-200"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Tanggal"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Keterangan"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Tipe"),(0,l.createElement)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider"},"Nominal"))),(0,l.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},0===c.length?(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"4",className:"px-6 py-10 text-center text-gray-400"},"Belum ada data transaksi.")):c.map((e,t)=>(0,l.createElement)("tr",{key:t,className:"hover:bg-gray-50 transition"},(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},new Date(e.transaction_date||e.payment_date).toLocaleDateString("id-ID")),(0,l.createElement)("td",{className:"px-6 py-4 text-sm text-gray-900"},e.description||e.notes||`Pembayaran Jamaah #${e.jamaah_id}`),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,l.createElement)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("in"===e.type||"payment"===n?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},"payment"===n?"Pemasukan":"in"===e.type?"Kas Masuk":"Kas Keluar")),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-bold text-gray-800"},"out"===e.type&&"cashflow"===n?"-":"+"," Rp ",parseInt(e.amount).toLocaleString("id-ID"))))))),(0,l.createElement)(Y,{isOpen:d,onClose:()=>u(!1),title:"cashflow"===n?"Input Kas Operasional":"Input Pembayaran Jamaah"},"cashflow"===n?(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{await t(x),alert("Data kas berhasil disimpan!"),u(!1),v()}catch(e){alert(e.message)}},className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Tipe Transaksi"),(0,l.createElement)("select",{className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:e=>y({...x,type:e.target.value}),required:!0},(0,l.createElement)("option",{value:""},"-- Pilih Tipe --"),(0,l.createElement)("option",{value:"in"},"Pemasukan (Kas Masuk)"),(0,l.createElement)("option",{value:"out"},"Pengeluaran (Kas Keluar)"))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nominal (Rp)"),(0,l.createElement)("input",{type:"number",className:"w-full border border-gray-300 p-2 rounded-lg",onChange:e=>y({...x,amount:e.target.value}),required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal"),(0,l.createElement)("input",{type:"date",className:"w-full border border-gray-300 p-2 rounded-lg",onChange:e=>y({...x,transaction_date:e.target.value}),required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Keterangan"),(0,l.createElement)("textarea",{className:"w-full border border-gray-300 p-2 rounded-lg",rows:"3",onChange:e=>y({...x,description:e.target.value}),required:!0,placeholder:"Contoh: Biaya listrik, Beli ATK, dll"})),(0,l.createElement)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700 shadow-md"},"Simpan Data")):(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{await a(x),alert("Pembayaran berhasil disimpan!"),u(!1),v()}catch(e){alert(e.message)}},className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Pilih Jamaah"),(0,l.createElement)("select",{className:"w-full border border-gray-300 p-2 rounded-lg",onChange:e=>y({...x,jamaah_id:e.target.value}),required:!0},(0,l.createElement)("option",{value:""},"-- Cari Jamaah --"),f.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.full_name," - ",e.package_name)))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nominal Pembayaran (Rp)"),(0,l.createElement)("input",{type:"number",className:"w-full border border-gray-300 p-2 rounded-lg",onChange:e=>y({...x,amount:e.target.value}),required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Bayar"),(0,l.createElement)("input",{type:"date",className:"w-full border border-gray-300 p-2 rounded-lg",onChange:e=>y({...x,payment_date:e.target.value}),required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Catatan"),(0,l.createElement)("textarea",{className:"w-full border border-gray-300 p-2 rounded-lg",rows:"3",onChange:e=>y({...x,notes:e.target.value}),placeholder:"Contoh: Pelunasan tahap 1, DP, dll"})),(0,l.createElement)("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded-lg font-bold hover:bg-green-700 shadow-md"},"Simpan Pembayaran"))))},X=({label:e,type:t="text",className:a="",...r})=>(0,l.createElement)("div",{className:"w-full"},e&&(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e),(0,l.createElement)("input",{type:t,className:`w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm ${a}`,...r})),Z=({label:e,children:t,className:a="",...r})=>(0,l.createElement)("div",{className:"w-full"},e&&(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e),(0,l.createElement)("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm bg-white ${a}`,...r},t)),ee=({label:e,className:t="",...a})=>(0,l.createElement)("div",{className:"w-full"},e&&(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e),(0,l.createElement)("textarea",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm resize-none ${t}`,...a})),te=({children:e,className:t="",type:a="button",...r})=>(0,l.createElement)("button",{type:a,className:`px-4 py-2 rounded-lg font-bold shadow-sm transition focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${t}`,...r},e),ae=({initialData:e,onSuccess:t,onCancel:a})=>{const{apiCall:r}=g(),[n,s]=(0,l.useState)(!1),[c,m]=(0,l.useState)(e||{name:"",contact:"",source:"wa",status:"new",notes:""}),i=e=>{m({...c,[e.target.name]:e.target.value})};return(0,l.createElement)("form",{onSubmit:async a=>{a.preventDefault(),s(!0);try{e?.id?await r(`/leads/${e.id}`,"PUT",c):await r("/leads","POST",c),t()}catch(e){alert(e.message)}finally{s(!1)}},className:"space-y-4"},(0,l.createElement)(X,{label:"Nama Calon Jamaah",name:"name",value:c.name,onChange:i,required:!0}),(0,l.createElement)(X,{label:"Kontak (WA/HP)",name:"contact",value:c.contact,onChange:i,required:!0}),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)(Z,{label:"Sumber",name:"source",value:c.source,onChange:i},(0,l.createElement)("option",{value:"wa"},"WhatsApp"),(0,l.createElement)("option",{value:"ig"},"Instagram"),(0,l.createElement)("option",{value:"fb"},"Facebook"),(0,l.createElement)("option",{value:"tiktok"},"TikTok"),(0,l.createElement)("option",{value:"offline"},"Offline / Walk-in")),(0,l.createElement)(Z,{label:"Status",name:"status",value:c.status,onChange:i},(0,l.createElement)("option",{value:"new"},"Baru Dihubungi"),(0,l.createElement)("option",{value:"prospect"},"Prospek"),(0,l.createElement)("option",{value:"closing"},"Closing (Jadi Jamaah)"),(0,l.createElement)("option",{value:"lost"},"Lost (Batal)"))),(0,l.createElement)(ee,{label:"Catatan",name:"notes",value:c.notes,onChange:i,rows:3}),(0,l.createElement)("div",{className:"flex justify-end gap-2 pt-2"},(0,l.createElement)(te,{onClick:a,className:"bg-gray-200 text-gray-700"},"Batal"),(0,l.createElement)(te,{type:"submit",className:"bg-blue-600 text-white"},"Simpan")))},le=()=>{const{apiCall:e}=g(),[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!0),[s,c]=(0,l.useState)(!1),[m,i]=(0,l.useState)(null),o=async()=>{n(!0);try{const t=await e("/leads");a(t||[])}catch(e){console.error(e)}finally{n(!1)}};(0,l.useEffect)(()=>{o()},[]);const d=e=>{switch(e){case"closing":return"bg-green-100 text-green-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Marketing Leads"),(0,l.createElement)("button",{onClick:()=>{i(null),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 shadow"},"+ Tambah Lead")),r?(0,l.createElement)(h,null):(0,l.createElement)("div",{className:"bg-white rounded-xl shadow overflow-hidden"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kontak"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Sumber"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),(0,l.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,l.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,l.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap font-medium"},t.name),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},t.contact),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap flex items-center gap-2 text-sm capitalize"},(e=>{switch(e){case"wa":return(0,l.createElement)(M,{className:"text-green-500"});case"ig":return(0,l.createElement)(D,{className:"text-pink-500"});case"fb":return(0,l.createElement)(P,{className:"text-blue-600"});case"tiktok":return(0,l.createElement)(z,{className:"text-black"});default:return(0,l.createElement)($,{className:"text-gray-500"})}})(t.source)," ",t.source),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,l.createElement)("span",{className:`px-2 py-1 rounded-full text-xs font-bold capitalize ${d(t.status)}`},t.status)),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},(0,l.createElement)("button",{onClick:()=>(e=>{i(e),c(!0)})(t),className:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit"),(0,l.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus data lead ini?")&&(await e(`/leads/${t}`,"DELETE"),o())})(t.id),className:"text-red-600 hover:text-red-900"},"Hapus"))))))),(0,l.createElement)(Y,{isOpen:s,onClose:()=>c(!1),title:m?"Edit Lead":"Tambah Lead Baru"},(0,l.createElement)(ae,{initialData:m,onSuccess:()=>{c(!1),o()},onCancel:()=>c(!1)})))},re=({message:e})=>(0,l.createElement)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative my-4",role:"alert"},(0,l.createElement)("strong",{className:"font-bold"},"Error: "),(0,l.createElement)("span",{className:"block sm:inline"},e)),ne=({data:e,onSuccess:t})=>{const a=g(),{data:r,loading:n}=a,[s,c]=(0,l.useState)({full_name:"",email:"",password:"",role:"marketing_staff"}),[m,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(null),u=Boolean(e&&e.id);(0,l.useEffect)(()=>{u&&e&&c({full_name:e.full_name||"",email:e.email||"",role:e.role||"marketing_staff",password:""})},[e,u]);const p=e=>{const{name:t,value:a}=e.target;c(e=>({...e,[t]:a}))},b=r.roles&&r.roles.length>0?r.roles:[{role_key:"marketing_staff",display_name:"Marketing Staff"},{role_key:"finance_staff",display_name:"Finance Staff"},{role_key:"hr_staff",display_name:"HR Staff"},{role_key:"admin_staff",display_name:"Admin Staff"}];return(0,l.createElement)("form",{onSubmit:async l=>{l.preventDefault(),d(null),i(!0);const r={...s};u&&(r.id=e.id,r.password||delete r.password);try{await a.createOrUpdate("users",r,u?e.id:null),t()}catch(e){d(e.message||"Gagal menyimpan data.")}finally{i(!1)}},className:"space-y-4"},o&&(0,l.createElement)(re,{message:o}),(0,l.createElement)(X,{label:"Nama Lengkap",id:"full_name",name:"full_name",type:"text",value:s.full_name,onChange:p,required:!0}),(0,l.createElement)(X,{label:"Email",id:"email",name:"email",type:"email",value:s.email,onChange:p,required:!0,disabled:u}),(0,l.createElement)(X,{label:u?"Password (Kosongkan jika tidak diubah)":"Password",id:"password",name:"password",type:"password",value:s.password,onChange:p,required:!u}),(0,l.createElement)(Z,{label:"Role / Jabatan",id:"role",name:"role",value:s.role,onChange:p,required:!0},(0,l.createElement)("option",{value:"",disabled:!0},"Pilih Role"),b.map(e=>(0,l.createElement)("option",{key:e.role_key||e.id,value:e.role_key||e.name},e.display_name||e.name))),(0,l.createElement)("div",{className:"pt-2 flex justify-end"},(0,l.createElement)("button",{type:"submit",disabled:m||n,className:"px-4 py-2 font-semibold text-white bg-blue-600 rounded-lg shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed"},m?"Menyimpan...":u?"Update Staff":"Tambah Staff")))},se=()=>{const{getEmployees:e}=g(),[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),s=()=>e().then(e=>a(e||[]));return(0,l.useEffect)(()=>{s()},[]),(0,l.createElement)("div",{className:"p-6 bg-gray-50 min-h-screen"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,l.createElement)("h1",{className:"text-2xl font-bold"},"Data Pegawai"),(0,l.createElement)("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 shadow"},(0,l.createElement)(R,null)," Tambah Karyawan")),(0,l.createElement)("div",{className:"bg-white shadow rounded overflow-hidden"},(0,l.createElement)("table",{className:"w-full text-left"},(0,l.createElement)("thead",{className:"bg-gray-50 border-b"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"p-4"},"Nama"),(0,l.createElement)("th",{className:"p-4"},"Email"),(0,l.createElement)("th",{className:"p-4"},"Role"),(0,l.createElement)("th",{className:"p-4"},"HP"))),(0,l.createElement)("tbody",null,t.map(e=>(0,l.createElement)("tr",{key:e.id,className:"border-b hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-4"},e.full_name||e.display_name),(0,l.createElement)("td",{className:"p-4 text-gray-600"},e.email),(0,l.createElement)("td",{className:"p-4"},(0,l.createElement)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs uppercase"},e.role)),(0,l.createElement)("td",{className:"p-4"},e.phone||"-")))))),(0,l.createElement)(Y,{isOpen:r,onClose:()=>n(!1),title:"Tambah Karyawan"},(0,l.createElement)(ne,{onSuccess:()=>{n(!1),s()}})))},ce=({initialData:e,onSuccess:t,onCancel:a})=>{const{createJamaah:r,updateJamaah:n,getPackages:s}=g(),[c,m]=(0,l.useState)([]),[i,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)([]),[p,b]=(0,l.useState)({full_name:"",package_id:"",selected_room_type:"",package_price:0,gender:"L",birth_date:"",age:"",passport_number:"",passport_issued:"",passport_expiry:"",phone_number:"",address_details:{detail:"",city:"",province:""},document_status:{ktp:!1,passport:!1,kk:!1,meningitis:!1},files:{ktp:"",passport:"",kk:"",meningitis:""},pic_id:""});(0,l.useEffect)(()=>{s({status:"active"}).then(e=>m(e||[])).catch(e=>console.error("Gagal load paket:",e)),e&&b({...e,address_details:e.address_details||{detail:"",city:"",province:""},document_status:e.document_status||{ktp:!1,passport:!1,kk:!1,meningitis:!1},age:x(e.birth_date)})},[e]),(0,l.useEffect)(()=>{if(p.package_id&&c.length>0){const e=c.find(e=>e.id==p.package_id);if(e){const t="string"==typeof e.pricing_variants?JSON.parse(e.pricing_variants):e.pricing_variants;u(t||[])}}},[p.package_id,c]),(0,l.useEffect)(()=>{if(p.selected_room_type&&d.length>0){const e=d.find(e=>e.type===p.selected_room_type);e&&b(t=>({...t,package_price:e.price}))}},[p.selected_room_type,d]);const x=e=>{if(!e)return"";const t=new Date,a=new Date(e);let l=t.getFullYear()-a.getFullYear();const r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&l--,l},h=e=>{const{name:t,value:a}=e.target;if(t.startsWith("addr_")){const e=t.replace("addr_","");b(t=>({...t,address_details:{...t.address_details,[e]:a}}))}else b("birth_date"===t?e=>({...e,birth_date:a,age:x(a)}):e=>({...e,[t]:a}))};return(0,l.createElement)("form",{onSubmit:async a=>{a.preventDefault(),o(!0);try{e?.id?await n(e.id,p):await r(p),t()}catch(e){alert("Gagal menyimpan: "+e.message)}finally{o(!1)}},className:"bg-white p-6 rounded-xl shadow-lg space-y-6 h-full overflow-y-auto"},(0,l.createElement)("div",{className:"flex justify-between items-center border-b pb-3"},(0,l.createElement)("h3",{className:"text-xl font-bold text-gray-800"},e?"Edit Data Jamaah":"Input Jamaah Baru"),(0,l.createElement)("button",{type:"button",onClick:a,className:"text-gray-400 hover:text-gray-600 transition"},"✕")),(0,l.createElement)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100"},(0,l.createElement)("h4",{className:"text-blue-800 font-bold mb-3 text-sm uppercase tracking-wide"},"1. Detail Paket & Kamar"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)(Z,{label:"Pilih Paket Keberangkatan",name:"package_id",value:p.package_id,onChange:h,required:!0},(0,l.createElement)("option",{value:""},"-- Cari Paket --"),c.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name," (",e.departure_date,")"))),(0,l.createElement)("div",null,(0,l.createElement)(Z,{label:"Tipe Kamar (Varian)",name:"selected_room_type",value:p.selected_room_type,onChange:h,required:!0,disabled:!p.package_id},(0,l.createElement)("option",{value:""},"-- Pilih Tipe Kamar --"),d.map((e,t)=>(0,l.createElement)("option",{key:t,value:e.type},e.type," - Rp ",parseInt(e.price).toLocaleString("id-ID")))),p.package_price>0&&(0,l.createElement)("div",{className:"mt-2 p-2 bg-white rounded border border-green-200 flex justify-between items-center"},(0,l.createElement)("span",{className:"text-xs text-gray-500"},"Harga Deal:"),(0,l.createElement)("span",{className:"text-sm font-bold text-green-700"},"Rp ",parseInt(p.package_price).toLocaleString("id-ID")))))),(0,l.createElement)("div",{className:"space-y-4 border-t pt-4"},(0,l.createElement)("h4",{className:"text-gray-800 font-bold text-sm uppercase tracking-wide"},"2. Data Diri Jamaah"),(0,l.createElement)(X,{label:"Nama Lengkap (Sesuai Paspor)",name:"full_name",value:p.full_name,onChange:h,required:!0,placeholder:"Contoh: MUHAMMAD ABDULLAH"}),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)(Z,{label:"Jenis Kelamin",name:"gender",value:p.gender,onChange:h},(0,l.createElement)("option",{value:"L"},"Laki-laki"),(0,l.createElement)("option",{value:"P"},"Perempuan")),(0,l.createElement)("div",{className:"flex gap-2 items-end"},(0,l.createElement)("div",{className:"w-2/3"},(0,l.createElement)(X,{label:"Tanggal Lahir",type:"date",name:"birth_date",value:p.birth_date,onChange:h,required:!0})),(0,l.createElement)("div",{className:"w-1/3"},(0,l.createElement)(X,{label:"Umur",value:p.age?`${p.age} Thn`:"",readOnly:!0,className:"bg-gray-100 text-center font-bold text-gray-600"})))),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)(X,{label:"No. WhatsApp",name:"phone_number",value:p.phone_number,onChange:h,required:!0,placeholder:"0812xxx"}),(0,l.createElement)(X,{label:"Kota Asal",name:"addr_city",value:p.address_details.city,onChange:h,placeholder:"Contoh: Serang"})),(0,l.createElement)(ee,{label:"Alamat Lengkap (KTP)",name:"addr_detail",value:p.address_details.detail,onChange:h,rows:2,placeholder:"Nama Jalan, RT/RW, Kelurahan, Kecamatan..."})),(0,l.createElement)("div",{className:"space-y-4 border-t pt-4"},(0,l.createElement)("h4",{className:"text-gray-800 font-bold text-sm uppercase tracking-wide"},"3. Data Paspor"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,l.createElement)(X,{label:"Nomor Paspor",name:"passport_number",value:p.passport_number,onChange:h,placeholder:"X000000"}),(0,l.createElement)(X,{label:"Tanggal Issued",type:"date",name:"passport_issued",value:p.passport_issued,onChange:h}),(0,l.createElement)("div",null,(0,l.createElement)(X,{label:"Tanggal Expired",type:"date",name:"passport_expiry",value:p.passport_expiry,onChange:h}),(e=>{if(!e)return null;const t=new Date,a=new Date(e)-t,r=Math.ceil(a/864e5);return r<0?(0,l.createElement)("span",{className:"text-red-600 text-xs block mt-1 font-medium"},"⚠️ Paspor Sudah Kedaluwarsa!"):r<180?(0,l.createElement)("span",{className:"text-red-600 text-xs block mt-1 font-medium"},"⚠️ Paspor akan expired ","<"," 6 bulan. Segera perpanjang."):null})(p.passport_expiry)))),(0,l.createElement)("div",{className:"bg-gray-50 p-4 rounded border border-gray-200"},(0,l.createElement)("h4",{className:"text-gray-800 font-bold mb-3 text-sm uppercase tracking-wide"},"4. Kelengkapan Dokumen"),(0,l.createElement)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},["ktp","kk","passport","meningitis"].map(e=>(0,l.createElement)("div",{key:e,className:"flex flex-col items-center justify-center p-3 border-2 border-dashed border-gray-300 rounded-lg bg-white hover:border-blue-400 transition cursor-pointer"},(0,l.createElement)("p",{className:"text-xs font-bold uppercase mb-2 text-gray-600"},e),p.document_status[e]?(0,l.createElement)("div",{className:"text-green-600 flex flex-col items-center animate-pulse"},(0,l.createElement)("span",{className:"text-2xl mb-1"},"✅"),(0,l.createElement)("span",{className:"text-[10px] font-bold"},"TERUPLOAD"),(0,l.createElement)("button",{type:"button",className:"text-blue-500 text-[10px] flex items-center gap-1 mt-1 hover:underline"},(0,l.createElement)(A,null)," Lihat")):(0,l.createElement)("div",{className:"text-gray-400 flex flex-col items-center"},(0,l.createElement)(V,{className:"text-xl mb-1"}),(0,l.createElement)("span",{className:"text-[10px]"},"Belum Ada"),(0,l.createElement)("span",{className:"text-[10px] text-blue-500 mt-1"},"Klik Upload")))))),(0,l.createElement)("div",{className:"flex justify-end gap-3 pt-4 border-t sticky bottom-0 bg-white"},(0,l.createElement)("button",{type:"button",onClick:a,className:"px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium transition"},"Batal"),(0,l.createElement)("button",{type:"submit",disabled:i,className:"px-6 py-2.5 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-bold shadow-md transition flex items-center gap-2 disabled:opacity-70"},i?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,l.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Menyimpan..."):"Simpan Data Jamaah")))},me=()=>{const{getJamaahList:e,deleteJamaah:t,getPackages:a,loading:r}=g(),[n,s]=(0,l.useState)([]),[c,m]=(0,l.useState)([]),[i,o]=(0,l.useState)({search:"",package_id:"",payment_status:"",month:""}),[d,u]=(0,l.useState)(!1),[p,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{x()},[]),(0,l.useEffect)(()=>{const e=setTimeout(()=>{y()},500);return()=>clearTimeout(e)},[i]);const x=async()=>{try{const e=await a({status:"active"});m(e||[]),y()}catch(e){console.error(e)}},y=async()=>{try{const t=await e(i);s(t||[])}catch(e){console.error(e)}},f=()=>{u(!1),b(null),y()};return(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Data Jamaah"),(0,l.createElement)("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition shadow"},"+ Input Jamaah Baru")),(0,l.createElement)("div",{className:"bg-white p-4 rounded shadow mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},(0,l.createElement)("input",{type:"text",placeholder:"Cari Nama / No Paspor...",className:"border p-2 rounded w-full",value:i.search,onChange:e=>o({...i,search:e.target.value})}),(0,l.createElement)("select",{className:"border p-2 rounded w-full",value:i.package_id,onChange:e=>o({...i,package_id:e.target.value})},(0,l.createElement)("option",{value:""},"Semua Paket"),c.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name))),(0,l.createElement)("select",{className:"border p-2 rounded w-full",value:i.payment_status,onChange:e=>o({...i,payment_status:e.target.value})},(0,l.createElement)("option",{value:""},"Status Pembayaran"),(0,l.createElement)("option",{value:"lunas"},"Lunas"),(0,l.createElement)("option",{value:"partial"},"Belum Lunas (Partial)"),(0,l.createElement)("option",{value:"unpaid"},"Belum Bayar")),(0,l.createElement)("input",{type:"month",className:"border p-2 rounded w-full",value:i.month,onChange:e=>o({...i,month:e.target.value})})),r&&0===n.length?(0,l.createElement)(h,null):(0,l.createElement)("div",{className:"bg-white rounded-lg shadow overflow-x-auto"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama / Umur"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Paket / Keberangkatan"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status Dokumen"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Pembayaran"),(0,l.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,l.createElement)("tbody",{className:"divide-y divide-gray-200"},0===n.length?(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500"},"Tidak ada data jamaah.")):n.map(e=>{return(0,l.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"px-6 py-4"},(0,l.createElement)("div",{className:"text-sm font-medium text-gray-900"},e.full_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},"L"===e.gender?"Laki-laki":"Perempuan"," • ",e.age," Tahun"),(0,l.createElement)("div",{className:"text-xs text-blue-500 mt-1"},e.phone_number)),(0,l.createElement)("td",{className:"px-6 py-4"},(0,l.createElement)("div",{className:"text-sm text-gray-900 font-semibold"},e.package_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},"Kamar: ",e.selected_room_type),(0,l.createElement)("div",{className:"text-xs text-gray-500"},"PIC: ",e.pic_name||"-")),(0,l.createElement)("td",{className:"px-6 py-4"},(0,l.createElement)("div",{className:"flex space-x-1"},(0,l.createElement)("span",{title:"KTP",className:"w-3 h-3 rounded-full "+(e.document_status?.ktp?"bg-green-500":"bg-gray-300")}),(0,l.createElement)("span",{title:"KK",className:"w-3 h-3 rounded-full "+(e.document_status?.kk?"bg-green-500":"bg-gray-300")}),(0,l.createElement)("span",{title:"Paspor",className:"w-3 h-3 rounded-full "+(e.document_status?.passport?"bg-green-500":"bg-gray-300")}),(0,l.createElement)("span",{title:"Meningitis",className:"w-3 h-3 rounded-full "+(e.document_status?.meningitis?"bg-green-500":"bg-gray-300")})),(0,l.createElement)("div",{className:"text-xs text-gray-500 mt-1"},"Kit: ",(0,l.createElement)("span",{className:"capitalize font-bold "+("sent"===e.kit_status?"text-green-600":"text-yellow-600")},e.kit_status))),(0,l.createElement)("td",{className:"px-6 py-4"},(0,l.createElement)("div",{className:"text-xs inline-flex px-2 py-1 rounded-full font-bold "+("lunas"===e.payment_status?"bg-green-100 text-green-800":"partial"===e.payment_status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")},"lunas"===e.payment_status?"LUNAS":"partial"===e.payment_status?"CICILAN":"BELUM BAYAR"),e.remaining_payment>0&&(0,l.createElement)("div",{className:"text-xs text-red-500 mt-1"},"Sisa: ",(a=e.remaining_payment,new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(a)))),(0,l.createElement)("td",{className:"px-6 py-4 text-right text-sm font-medium space-x-2"},(0,l.createElement)("button",{onClick:()=>(b(e),void u(!0)),className:"text-blue-600 hover:text-blue-900"},"Edit"),(0,l.createElement)("button",{onClick:()=>(async e=>{if(confirm("Yakin hapus data jamaah ini?"))try{await t(e),y()}catch(e){alert(e.message)}})(e.id),className:"text-red-600 hover:text-red-900"},"Hapus")));var a})))),d&&(0,l.createElement)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 overflow-y-auto"},(0,l.createElement)("div",{className:"bg-white rounded-lg w-full max-w-5xl max-h-full overflow-y-auto my-8"},(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)(ce,{initialData:p,onSuccess:f,onCancel:f})))))},ie=({initialData:e,onSuccess:t,onCancel:a})=>{const{createPackage:r,updatePackage:n,getMasterData:s,getCategories:c}=g(),[m,i]=(0,l.useState)(!0),[o,d]=(0,l.useState)([]),[u,p]=(0,l.useState)([]),[b,x]=(0,l.useState)([]),[y,f]=(0,l.useState)({name:"",category_id:"",sub_category_id:"",departure_date:"",airline_id:"",status:"active",itinerary_file:"",hotels:[],pricing_variants:[{type:"Quad",price:0,currency:"IDR"}]});(0,l.useEffect)(()=>{Promise.all([s("airline"),s("hotel"),c()]).then(([t,a,l])=>{d(t||[]),p(a||[]),x(l||[]),i(!1),e&&f({...e,hotels:Array.isArray(e.hotels)?e.hotels:JSON.parse(e.hotels||"[]"),pricing_variants:Array.isArray(e.pricing_variants)?e.pricing_variants:JSON.parse(e.pricing_variants||"[]")})}).catch(e=>{console.error(e),i(!1)})},[e]);const E=(e,t,a)=>{const l=[...y.pricing_variants];l[e][t]=a,f(e=>({...e,pricing_variants:l}))};if(m)return(0,l.createElement)(h,{text:"Memuat Data..."});const v=b.filter(e=>0==e.parent_id),N=b.filter(e=>e.parent_id==y.category_id);return(0,l.createElement)("form",{onSubmit:async a=>{a.preventDefault();try{e?.id?await n(e.id,y):await r(y),t()}catch(e){alert(e.message)}},className:"bg-white p-6 rounded shadow-lg h-[80vh] overflow-y-auto"},(0,l.createElement)("h2",{className:"text-xl font-bold mb-4 border-b pb-2"},e?"Edit Paket":"Paket Baru"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},(0,l.createElement)("div",{className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Nama Paket"),(0,l.createElement)("input",{className:"w-full border p-2 rounded",name:"name",value:y.name,onChange:e=>f({...y,name:e.target.value}),required:!0})),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-2"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Kategori"),(0,l.createElement)("select",{className:"w-full border p-2 rounded",value:y.category_id,onChange:e=>f({...y,category_id:e.target.value}),required:!0},(0,l.createElement)("option",{value:""},"Pilih..."),v.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Sub Kategori"),(0,l.createElement)("select",{className:"w-full border p-2 rounded",value:y.sub_category_id,onChange:e=>f({...y,sub_category_id:e.target.value})},(0,l.createElement)("option",{value:""},"Opsional..."),N.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name))))),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-2"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Tanggal"),(0,l.createElement)("input",{type:"date",className:"w-full border p-2 rounded",value:y.departure_date,onChange:e=>f({...y,departure_date:e.target.value}),required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Maskapai"),(0,l.createElement)("select",{className:"w-full border p-2 rounded",value:y.airline_id,onChange:e=>f({...y,airline_id:e.target.value}),required:!0},(0,l.createElement)("option",{value:""},"Pilih..."),o.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name))))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Link Itinerary"),(0,l.createElement)("input",{type:"text",className:"w-full border p-2 rounded",value:y.itinerary_file,onChange:e=>f({...y,itinerary_file:e.target.value}),placeholder:"URL File..."}))),(0,l.createElement)("div",{className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"font-bold block mb-2 text-sm"},"Hotel (Bisa pilih lebih dari 1)"),(0,l.createElement)("div",{className:"h-32 overflow-y-auto border p-2 rounded bg-gray-50"},u.map(e=>(0,l.createElement)("label",{key:e.id,className:"flex items-center space-x-2 p-1 hover:bg-white cursor-pointer"},(0,l.createElement)("input",{type:"checkbox",checked:y.hotels.includes(parseInt(e.id)),onChange:()=>(e=>{const t=parseInt(e);f(e=>{const a=e.hotels.includes(t)?e.hotels.filter(e=>e!==t):[...e.hotels,t];return{...e,hotels:a}})})(e.id)}),(0,l.createElement)("span",{className:"text-sm"},e.name))))),(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"flex justify-between items-center mb-2"},(0,l.createElement)("label",{className:"font-bold text-sm"},"Varian Harga Kamar (Dinamis)"),(0,l.createElement)("button",{type:"button",onClick:()=>{f(e=>({...e,pricing_variants:[...e.pricing_variants,{type:"",price:0,currency:"IDR"}]}))},className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded"},"+ Tambah")),(0,l.createElement)("div",{className:"space-y-2 max-h-40 overflow-y-auto"},y.pricing_variants.map((e,t)=>(0,l.createElement)("div",{key:t,className:"flex space-x-2 items-center"},(0,l.createElement)("input",{placeholder:"Tipe (Quad/Quint)",className:"border p-1 rounded w-1/3 text-sm",list:"roomTypes",value:e.type,onChange:e=>E(t,"type",e.target.value)}),(0,l.createElement)("input",{type:"number",placeholder:"Harga",className:"border p-1 rounded flex-1 text-sm",value:e.price,onChange:e=>E(t,"price",e.target.value)}),(0,l.createElement)("button",{type:"button",onClick:()=>(e=>{const t=y.pricing_variants.filter((t,a)=>a!==e);f(e=>({...e,pricing_variants:t}))})(t),className:"text-red-500 text-xs bg-red-50 p-1 rounded"},"Hapus"))),(0,l.createElement)("datalist",{id:"roomTypes"},(0,l.createElement)("option",{value:"Quint"}),(0,l.createElement)("option",{value:"Quad"}),(0,l.createElement)("option",{value:"Triple"}),(0,l.createElement)("option",{value:"Double"})))))),(0,l.createElement)("div",{className:"mt-6 flex justify-end space-x-2 border-t pt-4"},(0,l.createElement)("button",{type:"button",onClick:a,className:"px-4 py-2 bg-gray-200 rounded text-gray-700"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},"Simpan Paket")))},oe=()=>{const{getPackages:e,deletePackage:t}=g(),[a,r]=(0,l.useState)([]),[n,s]=(0,l.useState)(!0),[c,m]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),[d,u]=(0,l.useState)("active"),p=async()=>{s(!0);try{const t=await e({status:"all"!==d?d:""});r(t||[])}catch(e){console.error("Error fetching packages:",e)}finally{s(!1)}};return(0,l.useEffect)(()=>{p()},[d]),(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Manajemen Paket"),(0,l.createElement)("p",{className:"text-gray-500 text-sm mt-1"},"Kelola jadwal, harga, dan varian paket umroh.")),(0,l.createElement)("div",{className:"flex gap-3"},(0,l.createElement)("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:d,onChange:e=>u(e.target.value)},(0,l.createElement)("option",{value:"active"},"Paket Aktif"),(0,l.createElement)("option",{value:"full"},"Full Booked"),(0,l.createElement)("option",{value:"completed"},"Selesai"),(0,l.createElement)("option",{value:"all"},"Semua Status")),(0,l.createElement)("button",{onClick:()=>{o(null),m(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg font-medium shadow-sm flex items-center gap-2 transition"},(0,l.createElement)("span",null,"+")," Buat Paket"))),n?(0,l.createElement)(h,{text:"Memuat data paket..."}):(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Nama Paket"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Tgl Berangkat"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Kategori"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Harga Mulai"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Status"),(0,l.createElement)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,l.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},0===a.length?(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-400"},"Tidak ada paket yang ditemukan.")):a.map(e=>(0,l.createElement)("tr",{key:e.id,className:"hover:bg-gray-50 transition"},(0,l.createElement)("td",{className:"px-6 py-4"},(0,l.createElement)("div",{className:"text-sm font-bold text-gray-900"},e.name),(0,l.createElement)("div",{className:"text-xs text-gray-500 mt-1"},(()=>{try{const t="string"==typeof e.hotels?JSON.parse(e.hotels):e.hotels;return Array.isArray(t)&&t.length>0?`🏨 ${t.length} Hotel Terpilih`:"Belum ada hotel"}catch(e){return"-"}})())),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,l.createElement)("div",{className:"text-sm text-gray-900 font-medium"},new Date(e.departure_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),(0,l.createElement)("div",{className:"text-xs text-blue-600"},"✈️ ",e.airline_name||"Maskapai -")),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,l.createElement)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-50 text-blue-800"},e.category_name||"Umum")),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-700"},(e=>{if(!e||0===e.length)return"Belum ada harga";const t="string"==typeof e?JSON.parse(e):e;if(!Array.isArray(t))return"Format Data Salah";const a=t.map(e=>parseFloat(e.price)),l=Math.min(...a),r=Math.max(...a);return l===r?`Rp ${l.toLocaleString("id-ID")}`:`Rp ${l.toLocaleString("id-ID")} - ${r.toLocaleString("id-ID")}`})(e.pricing_variants)),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,l.createElement)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full \n                                                    "+("active"===e.status?"bg-green-100 text-green-800":"full"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800")},"active"===e.status?"Open":"full"===e.status?"Penuh":e.status)),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},(0,l.createElement)("button",{onClick:()=>(e=>{o(e),m(!0)})(e),className:"text-indigo-600 hover:text-indigo-900 mr-3 font-medium"},"Edit"),(0,l.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus paket ini? Data yang dihapus tidak bisa dikembalikan."))try{await t(e),p()}catch(e){alert("Gagal menghapus: "+e.message)}})(e.id),className:"text-red-600 hover:text-red-900 font-medium"},"Hapus")))))))),(0,l.createElement)(Y,{isOpen:c,onClose:()=>m(!1),title:i?"Edit Paket":"Tambah Paket Baru"},c&&(0,l.createElement)(ie,{initialData:i,onSuccess:()=>{m(!1),p()},onCancel:()=>m(!1)})))},de=({initialData:e,closeModal:t})=>{const{createOrUpdate:a}=g(),[r,n]=(0,l.useState)(!1),[s,c]=(0,l.useState)({name:e?.name||"",phone:e?.phone||"",email:e?.email||"",address:e?.address||"",city:e?.city||"",status:e?.status||"active"}),m=e=>c({...s,[e.target.name]:e.target.value});return(0,l.createElement)("form",{onSubmit:async l=>{l.preventDefault(),n(!0);try{await a("sub_agents",s,e?.id),t()}catch(e){alert(e.message)}finally{n(!1)}},className:"space-y-4 p-2"},(0,l.createElement)(X,{label:"Nama Agen / Travel",name:"name",value:s.name,onChange:m,required:!0}),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)(X,{label:"No. Telepon",name:"phone",value:s.phone,onChange:m,required:!0}),(0,l.createElement)(X,{label:"Email",type:"email",name:"email",value:s.email,onChange:m})),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)(X,{label:"Kota Domisili",name:"city",value:s.city,onChange:m}),(0,l.createElement)(Z,{label:"Status",name:"status",value:s.status,onChange:m},(0,l.createElement)("option",{value:"active"},"Aktif"),(0,l.createElement)("option",{value:"inactive"},"Tidak Aktif"))),(0,l.createElement)(X,{label:"Alamat Lengkap",name:"address",value:s.address,onChange:m}),(0,l.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,l.createElement)(te,{type:"button",variant:"secondary",onClick:t},"Batal"),(0,l.createElement)(te,{type:"submit",disabled:r},r?"Menyimpan...":"Simpan")))},ue=()=>{const{apiCall:e}=g(),[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!0),[s,c]=(0,l.useState)(!1),[m,i]=(0,l.useState)(null),o=async()=>{n(!0);try{const t=await e("/sub-agents");a(t||[])}catch(e){console.error(e)}finally{n(!1)}};return(0,l.useEffect)(()=>{o()},[]),(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Manajemen Sub Agent"),(0,l.createElement)("button",{onClick:()=>{i(null),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 shadow"},"+ Tambah Sub Agent")),r?(0,l.createElement)(h,null):(0,l.createElement)("div",{className:"bg-white rounded-xl shadow overflow-hidden"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-gray-500"},"Nama"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-gray-500"},"Kontak"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-gray-500"},"Lokasi"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-gray-500"},"Status"),(0,l.createElement)("th",{className:"px-6 py-3 text-right text-xs font-bold uppercase text-gray-500"},"Aksi"))),(0,l.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,l.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"px-6 py-4 font-medium text-gray-900"},t.name),(0,l.createElement)("td",{className:"px-6 py-4 text-sm text-gray-600"},(0,l.createElement)("div",null,t.phone),(0,l.createElement)("div",{className:"text-xs text-gray-400"},t.email)),(0,l.createElement)("td",{className:"px-6 py-4 text-sm text-gray-600"},t.address_details?.city||"-",", ",t.address_details?.province||"-"),(0,l.createElement)("td",{className:"px-6 py-4"},(0,l.createElement)("span",{className:"px-2 py-1 text-xs rounded-full font-bold "+("active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},"active"===t.status?"Aktif":"Non-Aktif")),(0,l.createElement)("td",{className:"px-6 py-4 text-right"},(0,l.createElement)("button",{onClick:()=>{i(t),c(!0)},className:"text-indigo-600 mr-3"},"Edit"),(0,l.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus sub agent ini?")&&(await e(`/sub-agents/${t}`,"DELETE"),o())})(t.id),className:"text-red-600"},"Hapus"))))))),(0,l.createElement)(Y,{isOpen:s,onClose:()=>c(!1),title:m?"Edit Sub Agent":"Tambah Sub Agent"},(0,l.createElement)(de,{initialData:m,onSuccess:()=>{c(!1),o()},onCancel:()=>c(!1)})))},pe=()=>{const{getMasterData:e,createMasterData:t,deleteMasterData:a,getCategories:r,createCategory:n,deleteCategory:s,loading:c}=g(),[m,i]=(0,l.useState)("airline"),[o,d]=(0,l.useState)([]),[u,p]=(0,l.useState)(!1),[b,x]=(0,l.useState)({name:"",parent_id:0,details:""});(0,l.useEffect)(()=>{y()},[m]);const y=async()=>{try{let t;t="category"===m?await r():await e(m),d(t||[])}catch(e){console.error("Error fetching data",e)}},f="category"===m?o.filter(e=>0==e.parent_id):[];return(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Data Master"),(0,l.createElement)("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 shadow"},"+ Tambah Data")),(0,l.createElement)("div",{className:"flex space-x-2 mb-6 border-b"},["airline","hotel","category"].map(e=>(0,l.createElement)("button",{key:e,onClick:()=>i(e),className:"px-4 py-2 font-medium capitalize "+(m===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700")},"airline"===e?"Maskapai":"hotel"===e?"Hotel":"Kategori"))),c?(0,l.createElement)(h,null):(0,l.createElement)("div",{className:"bg-white rounded-lg shadow overflow-hidden"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"category"===m?"Induk (Parent)":"Detail"),(0,l.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,l.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},o.map(e=>(0,l.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},e.name),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},"category"===m?0!=e.parent_id?(0,l.createElement)("span",{className:"text-gray-600"},"Sub dari: ",o.find(t=>t.id==e.parent_id)?.name):(0,l.createElement)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full"},"UTAMA"):e.details||"-"),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm"},(0,l.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Hapus data ini?"))try{"category"===m?await s(e):await a(e),y()}catch(e){alert("Gagal menghapus: "+e.message)}})(e.id),className:"text-red-600 hover:text-red-900"},"Hapus"))))))),(0,l.createElement)(Y,{isOpen:u,onClose:()=>p(!1),title:`Tambah ${m}`},(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{"category"===m?await n({name:b.name,parent_id:b.parent_id}):await t({name:b.name,type:m,details:b.details}),p(!1),x({name:"",parent_id:0,details:""}),y()}catch(e){alert("Gagal menyimpan: "+e.message)}},className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Nama"),(0,l.createElement)("input",{type:"text",required:!0,value:b.name,onChange:e=>x({...b,name:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})),"category"===m&&(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Kategori Induk"),(0,l.createElement)("select",{value:b.parent_id,onChange:e=>x({...b,parent_id:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"},(0,l.createElement)("option",{value:"0"},"-- Tidak Ada (Kategori Utama) --"),f.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name)))),"category"!==m&&(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Detail (Alamat/Kode)"),(0,l.createElement)("textarea",{value:b.details,onChange:e=>x({...b,details:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",rows:"3"})),(0,l.createElement)("div",{className:"flex justify-end pt-4"},(0,l.createElement)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Simpan")))))},ge=()=>{const{currentUser:e}=u(),[t,a]=(0,l.useState)("dashboard"),r=[{id:"dashboard",label:"Dashboard",icon:(0,l.createElement)(B,null),roles:["owner","administrator","admin_staff","finance_staff","marketing_staff"]},{id:"packages",label:"Paket Umroh",icon:(0,l.createElement)(j,null),roles:["owner","administrator","admin_staff","marketing_staff"]},{id:"jamaah",label:"Data Jemaah",icon:(0,l.createElement)(F,null),roles:["owner","administrator","admin_staff","marketing_staff","finance_staff"]},{id:"finance",label:"Keuangan",icon:(0,l.createElement)(H,null),roles:["owner","administrator","finance_staff","admin_staff"]},{id:"marketing",label:"Marketing Leads",icon:(0,l.createElement)(L,null),roles:["owner","administrator","admin_staff","marketing_staff"]},{id:"sub_agents",label:"Sub Agen",icon:(0,l.createElement)(q,null),roles:["owner","administrator","admin_staff","marketing_staff"]},{id:"hr",label:"Manajemen HR",icon:(0,l.createElement)(F,null),roles:["owner","administrator"]},{id:"master",label:"Data Master",icon:(0,l.createElement)(O,null),roles:["owner","administrator","admin_staff"]}],n=e?.role||"";return(0,l.createElement)("div",{className:"flex h-screen bg-gray-100 font-sans"},(0,l.createElement)("aside",{className:"w-64 bg-white shadow-xl z-20 flex flex-col fixed h-full md:relative hidden md:flex"},(0,l.createElement)("div",{className:"p-6 border-b flex flex-col items-start"},(0,l.createElement)("h1",{className:"text-2xl font-extrabold text-blue-600 tracking-tight"},"UmrohMgr"),(0,l.createElement)("div",{className:"mt-4 w-full"},(0,l.createElement)("p",{className:"text-sm font-medium text-gray-900 truncate"},e?.full_name||"Pengguna"),(0,l.createElement)("span",{className:"mt-1 inline-block px-2 py-0.5 text-xs font-bold text-blue-800 bg-blue-100 rounded-full uppercase"},n.replace(/_/g," ")))),(0,l.createElement)("nav",{className:"flex-1 overflow-y-auto py-4 space-y-1"},r.map(e=>e.roles.includes(n)&&(0,l.createElement)("button",{key:e.id,onClick:()=>a(e.id),className:"w-full flex items-center px-6 py-3 text-sm font-medium transition-all duration-200 \n                                    "+(t===e.id?"bg-blue-50 text-blue-700 border-r-4 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900")},(0,l.createElement)("span",{className:"mr-3 text-lg "+(t===e.id?"text-blue-600":"text-gray-400")},e.icon),e.label))),(0,l.createElement)("div",{className:"p-4 border-t bg-gray-50"},(0,l.createElement)("p",{className:"text-xs text-center text-gray-400"},"© ",(new Date).getFullYear()," JF Banten v1.1"))),(0,l.createElement)("main",{className:"flex-1 overflow-y-auto bg-gray-50 w-full p-4 md:p-0"},(()=>{switch(t){case"dashboard":default:return(0,l.createElement)(G,null);case"packages":return(0,l.createElement)(oe,null);case"jamaah":return(0,l.createElement)(me,null);case"finance":return(0,l.createElement)(Q,null);case"marketing":return(0,l.createElement)(le,null);case"sub_agents":return(0,l.createElement)(ue,null);case"hr":return(0,l.createElement)(se,null);case"master":return(0,l.createElement)(pe,null)}})()))},be=()=>(0,l.createElement)(d,null,(0,l.createElement)(b,null,(0,l.createElement)(ge,null)));document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("umh-admin-app");e&&(0,n.H)(e).render((0,l.createElement)(r().StrictMode,null,(0,l.createElement)(be,null)))})})();
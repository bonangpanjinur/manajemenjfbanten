(()=>{"use strict";var e={338:(e,t,a)=>{var r=a(795);t.H=r.createRoot,r.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};a.r(r),a.d(r,{A:()=>_t});const n=window.React;var l=a.n(n),s=a(338),i="popstate";function o(e={}){return function(e,t,a,r={}){let{window:n=document.defaultView,v5Compat:l=!1}=r,s=n.history,o="POP",m=null,g=h();function h(){return(s.state||{idx:null}).idx}function f(){o="POP";let e=h(),t=null==e?null:e-g;g=e,m&&m({action:o,location:y.location,delta:t})}function b(e){return function(e,t=!1){let a="http://localhost";"undefined"!=typeof window&&(a="null"!==window.location.origin?window.location.origin:window.location.href),c(a,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:p(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}(e)}null==g&&(g=0,s.replaceState({...s.state,idx:g},""));let y={get action(){return o},get location(){return e(n,s)},listen(e){if(m)throw new Error("A history only accepts one active listener");return n.addEventListener(i,f),m=e,()=>{n.removeEventListener(i,f),m=null}},createHref:e=>t(n,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=u(y.location,e,t);a&&a(r,e),g=h()+1;let i=d(r,g),c=y.createHref(r);try{s.pushState(i,"",c)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;n.location.assign(c)}l&&m&&m({action:o,location:y.location,delta:1})},replace:function(e,t){o="REPLACE";let r=u(y.location,e,t);a&&a(r,e),g=h();let n=d(r,g),i=y.createHref(r);s.replaceState(n,"",i),l&&m&&m({action:o,location:y.location,delta:0})},go:e=>s.go(e)};return y}(function(e,t){let{pathname:a="/",search:r="",hash:n=""}=g(e.location.hash.substring(1));return a.startsWith("/")||a.startsWith(".")||(a="/"+a),u("",{pathname:a,search:r,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let a=e.document.querySelector("base"),r="";if(a&&a.getAttribute("href")){let t=e.location.href,a=t.indexOf("#");r=-1===a?t:t.slice(0,a)}return r+"#"+("string"==typeof t?t:p(t))},function(e,t){m("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},e)}function c(e,t){if(!1===e||null==e)throw new Error(t)}function m(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,a=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?g(t):t,state:a,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function p({pathname:e="/",search:t="",hash:a=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),a&&"#"!==a&&(e+="#"===a.charAt(0)?a:"#"+a),e}function g(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function h(e,t,a="/"){return function(e,t,a,r){let n=A(("string"==typeof t?g(t):t).pathname||"/",a);if(null==n)return null;let l=f(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(l);let s=null;for(let e=0;null==s&&e<l.length;++e){let t=j(n);s=C(l[e],t,r)}return s}(e,t,a,!1)}function f(e,t=[],a=[],r="",n=!1){let l=(e,l,s=n,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:l,route:e};if(o.relativePath.startsWith("/")){if(!o.relativePath.startsWith(r)&&s)return;c(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length)}let m=R([r,o.relativePath]),d=a.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),f(e.children,t,d,m,s)),(null!=e.path||e.index)&&t.push({path:m,score:S(m,e.index),routesMeta:d})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let a of b(e.path))l(e,t,!0,a);else l(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[a,...r]=t,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(0===r.length)return n?[l,""]:[l];let s=b(r.join("/")),i=[];return i.push(...s.map(e=>""===e?l:[l,e].join("/"))),n&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}new WeakMap;var y=/^:[\w-]+$/,x=3,E=2,v=1,w=10,N=-2,k=e=>"*"===e;function S(e,t){let a=e.split("/"),r=a.length;return a.some(k)&&(r+=N),t&&(r+=E),a.filter(e=>!k(e)).reduce((e,t)=>e+(y.test(t)?x:""===t?v:w),r)}function C(e,t,a=!1){let{routesMeta:r}=e,n={},l="/",s=[];for(let e=0;e<r.length;++e){let i=r[e],o=e===r.length-1,c="/"===l?t:t.slice(l.length)||"/",m=_({path:i.relativePath,caseSensitive:i.caseSensitive,end:o},c),d=i.route;if(!m&&o&&a&&!r[r.length-1].route.index&&(m=_({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},c)),!m)return null;Object.assign(n,m.params),s.push({params:n,pathname:R([l,m.pathname]),pathnameBase:F(R([l,m.pathnameBase])),route:d}),"/"!==m.pathnameBase&&(l=R([l,m.pathnameBase]))}return s}function _(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=function(e,t=!1,a=!0){m("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(r.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let l=n[0],s=l.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:a},r)=>{if("*"===t){let e=i[r]||"";s=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const n=i[r];return e[t]=a&&!n?void 0:(n||"").replace(/%2F/g,"/"),e},{}),pathname:l,pathnameBase:s,pattern:e}}function j(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&"/"!==r?null:e.slice(a)||"/"}var P=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}function M(e,t,a,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function L(e,t,a,r=!1){let n;"string"==typeof e?n=g(e):(n={...e},c(!n.pathname||!n.pathname.includes("?"),M("?","pathname","search",n)),c(!n.pathname||!n.pathname.includes("#"),M("#","pathname","hash",n)),c(!n.search||!n.search.includes("#"),M("#","search","hash",n)));let l,s=""===e||""===n.pathname,i=s?"/":n.pathname;if(null==i)l=a;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}l=e>=0?t[e]:"/"}let o=function(e,t="/"){let a,{pathname:r,search:n="",hash:l=""}="string"==typeof e?g(e):e;if(r)if(s=r,P.test(s))a=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),m(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${r}`)}a=r.startsWith("/")?D(r.substring(1),"/"):D(r,t)}else a=t;var s;return{pathname:a,search:O(n),hash:$(l)}}(n,l),d=i&&"/"!==i&&i.endsWith("/"),u=(s||"."===i)&&a.endsWith("/");return o.pathname.endsWith("/")||!d&&!u||(o.pathname+="/"),o}var R=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function z(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}Symbol("Uninstrumented"),Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var V=["POST","PUT","PATCH","DELETE"],B=(new Set(V),["GET",...V]);new Set(B),Symbol("ResetLoaderData");var I=n.createContext(null);I.displayName="DataRouter";var H=n.createContext(null);H.displayName="DataRouterState";n.createContext(!1);var K=n.createContext({isTransitioning:!1});K.displayName="ViewTransition",n.createContext(new Map).displayName="Fetchers",n.createContext(null).displayName="Await";var U=n.createContext(null);U.displayName="Navigation";var q=n.createContext(null);q.displayName="Location";var W=n.createContext({outlet:null,matches:[],isDataRoute:!1});W.displayName="Route";var J=n.createContext(null);function G(){return null!=n.useContext(q)}function Q(){return c(G(),"useLocation() may be used only in the context of a <Router> component."),n.useContext(q).location}J.displayName="RouteError";var Y="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(e){n.useContext(U).static||n.useLayoutEffect(e)}function X(){let{isDataRoute:e}=n.useContext(W);return e?function(){let{router:e}=function(e){let t=n.useContext(I);return c(t,se(e)),t}("useNavigate"),t=ie("useNavigate"),a=n.useRef(!1);return Z(()=>{a.current=!0}),n.useCallback(async(r,n={})=>{m(a.current,Y),a.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...n}))},[e,t])}():function(){c(G(),"useNavigate() may be used only in the context of a <Router> component.");let e=n.useContext(I),{basename:t,navigator:a}=n.useContext(U),{matches:r}=n.useContext(W),{pathname:l}=Q(),s=JSON.stringify(T(r)),i=n.useRef(!1);return Z(()=>{i.current=!0}),n.useCallback((r,n={})=>{if(m(i.current,Y),!i.current)return;if("number"==typeof r)return void a.go(r);let o=L(r,JSON.parse(s),l,"path"===n.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:R([t,o.pathname])),(n.replace?a.replace:a.push)(o,n.state,n)},[t,a,s,l,e])}()}function ee(e,{relative:t}={}){let{matches:a}=n.useContext(W),{pathname:r}=Q(),l=JSON.stringify(T(a));return n.useMemo(()=>L(e,JSON.parse(l),r,"path"===t),[e,l,r,t])}function te(e,t,a,r,l){c(G(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=n.useContext(U),{matches:i}=n.useContext(W),o=i[i.length-1],d=o?o.params:{},u=o?o.pathname:"/",p=o?o.pathnameBase:"/",f=o&&o.route;{let e=f&&f.path||"";ce(u,!f||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let b,y=Q();if(t){let e="string"==typeof t?g(t):t;c("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),b=e}else b=y;let x=b.pathname||"/",E=x;if("/"!==p){let e=p.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=h(e,{pathname:E});m(f||null!=v,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),m(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=function(e,t=[],a=null,r=null){if(null==e){if(!a)return null;if(a.errors)e=a.matches;else{if(0!==t.length||a.initialized||!(a.matches.length>0))return null;e=a.matches}}let l=e,s=a?.errors;if(null!=s){let e=l.findIndex(e=>e.route.id&&void 0!==s?.[e.route.id]);c(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),l=l.slice(0,Math.min(l.length,e+1))}let i=!1,o=-1;if(a)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(o=e),t.route.id){let{loaderData:e,errors:r}=a,n=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||n){i=!0,l=o>=0?l.slice(0,o+1):[l[0]];break}}}let m=a&&r?(e,t)=>{r(e,{location:a.location,params:a.matches?.[0]?.params??{},errorInfo:t})}:void 0;return l.reduceRight((e,r,c)=>{let d,u=!1,p=null,g=null;a&&(d=s&&r.route.id?s[r.route.id]:void 0,p=r.route.errorElement||re,i&&(o<0&&0===c?(ce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,g=null):o===c&&(u=!0,g=r.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,c+1)),f=()=>{let t;return t=d?p:u?g:r.route.Component?n.createElement(r.route.Component,null):r.route.element?r.route.element:e,n.createElement(le,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=a},children:t})};return a&&(r.route.ErrorBoundary||r.route.errorElement||0===c)?n.createElement(ne,{location:a.location,revalidation:a.revalidation,component:p,error:d,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0},onError:m}):f()},null)}(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:R([p,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:R([p,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),i,a,r,l);return t&&w?n.createElement(q.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},w):w}function ae(){let e=function(){let e=n.useContext(J),t=function(e){let t=n.useContext(H);return c(t,se(e)),t}("useRouteError"),a=ie("useRouteError");return void 0!==e?e:t.errors?.[a]}(),t=z(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=n.createElement(n.Fragment,null,n.createElement("p",null,"üíø Hey developer üëã"),n.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",n.createElement("code",{style:s},"ErrorBoundary")," or"," ",n.createElement("code",{style:s},"errorElement")," prop on your route.")),n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),a?n.createElement("pre",{style:l},a):null,i)}n.createContext(null);var re=n.createElement(ae,null),ne=class extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?n.createElement(W.Provider,{value:this.props.routeContext},n.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function le({routeContext:e,match:t,children:a}){let r=n.useContext(I);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),n.createElement(W.Provider,{value:e},a)}function se(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ie(e){let t=function(e){let t=n.useContext(W);return c(t,se(e)),t}(e),a=t.matches[t.matches.length-1];return c(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}var oe={};function ce(e,t,a){t||oe[e]||(oe[e]=!0,m(!1,a))}function me({to:e,replace:t,state:a,relative:r}){c(G(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=n.useContext(U);m(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=n.useContext(W),{pathname:i}=Q(),o=X(),d=L(e,T(s),i,"path"===r),u=JSON.stringify(d);return n.useEffect(()=>{o(JSON.parse(u),{replace:t,state:a,relative:r})},[o,u,r,t,a]),null}function de(e){c(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ue({basename:e="/",children:t=null,location:a,navigationType:r="POP",navigator:l,static:s=!1}){c(!G(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),o=n.useMemo(()=>({basename:i,navigator:l,static:s,future:{}}),[i,l,s]);"string"==typeof a&&(a=g(a));let{pathname:d="/",search:u="",hash:p="",state:h=null,key:f="default"}=a,b=n.useMemo(()=>{let e=A(d,i);return null==e?null:{location:{pathname:e,search:u,hash:p,state:h,key:f},navigationType:r}},[i,d,u,p,h,f,r]);return m(null!=b,`<Router basename="${i}"> is not able to match the URL "${d}${u}${p}" because it does not start with the basename, so the <Router> won't render anything.`),null==b?null:n.createElement(U.Provider,{value:o},n.createElement(q.Provider,{children:t,value:b}))}function pe({children:e,location:t}){return te(ge(e),t)}function ge(e,t=[]){let a=[];return n.Children.forEach(e,(e,r)=>{if(!n.isValidElement(e))return;let l=[...t,r];if(e.type===n.Fragment)return void a.push.apply(a,ge(e.props.children,l));c(e.type===de,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),c(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ge(e.props.children,l)),a.push(s)}),a}n.memo(function({routes:e,future:t,state:a,unstable_onError:r}){return te(e,void 0,a,r,t)}),n.Component;var he="get",fe="application/x-www-form-urlencoded";function be(e){return null!=e&&"string"==typeof e.tagName}var ye=null,xe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ee(e){return null==e||xe.has(e)?e:(m(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fe}"`),null)}function ve(e,t){if(!1===e||null==e)throw new Error(t)}function we(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function Ne(e,t,a,r,n,l){let s=(e,t)=>!a[t]||e.route.id!==a[t].route.id,i=(e,t)=>a[t].pathname!==e.pathname||a[t].route.path?.endsWith("*")&&a[t].params["*"]!==e.params["*"];return"assets"===l?t.filter((e,t)=>s(e,t)||i(e,t)):"data"===l?t.filter((t,l)=>{let o=r.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(s(t,l)||i(t,l))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function ke(e,t,{includeHydrateFallback:a}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let n=[r.module];return r.clientActionModule&&(n=n.concat(r.clientActionModule)),r.clientLoaderModule&&(n=n.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(n=n.concat(r.hydrateFallbackModule)),r.imports&&(n=n.concat(r.imports)),n}).flat(1),[...new Set(r)];var r}function Se(){let e=n.useContext(I);return ve(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ce(){let e=n.useContext(H);return ve(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis,Symbol("SingleFetchRedirect");var _e=n.createContext(void 0);function je(){let e=n.useContext(_e);return ve(e,"You must render this element inside a <HydratedRouter> element"),e}function Ae(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function Pe({page:e,...t}){let{router:a}=Se(),r=n.useMemo(()=>h(a.routes,e,a.basename),[a.routes,e,a.basename]);return r?n.createElement(Me,{page:e,matches:r,...t}):null}function De(e){let{manifest:t,routeModules:a}=je(),[r,l]=n.useState([]);return n.useEffect(()=>{let r=!1;return async function(e,t,a){return function(e,t){let a=new Set,r=new Set(t);return e.reduce((e,n)=>{if(t&&(null==(l=n)||"string"!=typeof l.page)&&"script"===n.as&&n.href&&r.has(n.href))return e;var l;let s=JSON.stringify(function(e){let t={},a=Object.keys(e).sort();for(let r of a)t[r]=e[r];return t}(n));return a.has(s)||(a.add(s),e.push({key:s,link:n})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,a);return e.links?e.links():[]}return[]}))).flat(1).filter(we).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,a).then(e=>{r||l(e)}),()=>{r=!0}},[e,t,a]),r}function Me({page:e,matches:t,...a}){let r=Q(),{manifest:l,routeModules:s}=je(),{basename:i}=Se(),{loaderData:o,matches:c}=Ce(),m=n.useMemo(()=>Ne(e,t,c,l,r,"data"),[e,t,c,l,r]),d=n.useMemo(()=>Ne(e,t,c,l,r,"assets"),[e,t,c,l,r]),u=n.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let a=new Set,n=!1;if(t.forEach(e=>{let t=l.routes[e.route.id];t&&t.hasLoader&&(!m.some(t=>t.route.id===e.route.id)&&e.route.id in o&&s[e.route.id]?.shouldRevalidate||t.hasClientLoader?n=!0:a.add(e.route.id))}),0===a.size)return[];let c=function(e,t,a){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${a}`:t&&"/"===A(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}(e,i,"data");return n&&a.size>0&&c.searchParams.set("_routes",t.filter(e=>a.has(e.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[i,o,r,l,m,t,e,s]),p=n.useMemo(()=>ke(d,l),[d,l]),g=De(d);return n.createElement(n.Fragment,null,u.map(e=>n.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),p.map(e=>n.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),g.map(({key:e,link:t})=>n.createElement("link",{key:e,nonce:a.nonce,...t})))}_e.displayName="FrameworkContext";function Te(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}n.Component;var Le="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Le&&(window.__reactRouterVersion="7.9.6")}catch(e){}function Re({basename:e,children:t,window:a}){let r=n.useRef();null==r.current&&(r.current=o({window:a,v5Compat:!0}));let l=r.current,[s,i]=n.useState({action:l.action,location:l.location}),c=n.useCallback(e=>{n.startTransition(()=>i(e))},[i]);return n.useLayoutEffect(()=>l.listen(c),[l,c]),n.createElement(ue,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:l})}var Fe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=n.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:r,reloadDocument:l,replace:s,state:i,target:o,to:d,preventScrollReset:u,viewTransition:g,...h},f){let b,{basename:y}=n.useContext(U),x="string"==typeof d&&Fe.test(d),E=!1;if("string"==typeof d&&x&&(b=d,Le))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),a=A(t.pathname,y);t.origin===e.origin&&null!=a?d=a+t.search+t.hash:E=!0}catch(e){m(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=function(e,{relative:t}={}){c(G(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=n.useContext(U),{hash:l,pathname:s,search:i}=ee(e,{relative:t}),o=s;return"/"!==a&&(o="/"===s?a:R([a,s])),r.createHref({pathname:o,search:i,hash:l})}(d,{relative:r}),[w,N,k]=function(e,t){let a=n.useContext(_e),[r,l]=n.useState(!1),[s,i]=n.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:m,onMouseLeave:d,onTouchStart:u}=t,p=n.useRef(null);n.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),n.useEffect(()=>{if(r){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[r]);let g=()=>{l(!0)},h=()=>{l(!1),i(!1)};return a?"intent"!==e?[s,p,{}]:[s,p,{onFocus:Ae(o,g),onBlur:Ae(c,h),onMouseEnter:Ae(m,g),onMouseLeave:Ae(d,h),onTouchStart:Ae(u,g)}]:[!1,p,{}]}(a,h),S=function(e,{target:t,replace:a,state:r,preventScrollReset:l,relative:s,viewTransition:i}={}){let o=X(),c=Q(),m=ee(e,{relative:s});return n.useCallback(n=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(n,t)){n.preventDefault();let t=void 0!==a?a:p(c)===p(m);o(e,{replace:t,state:r,preventScrollReset:l,relative:s,viewTransition:i})}},[c,o,m,a,r,t,e,l,s,i])}(d,{replace:s,state:i,target:o,preventScrollReset:u,relative:r,viewTransition:g}),C=n.createElement("a",{...h,...k,href:b||v,onClick:E||l?e:function(t){e&&e(t),t.defaultPrevented||S(t)},ref:Te(f,N),target:o,"data-discover":x||"render"!==t?void 0:"true"});return w&&!x?n.createElement(n.Fragment,null,C,n.createElement(Pe,{page:v})):C});Oe.displayName="Link";var $e=n.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:r=!1,style:l,to:s,viewTransition:i,children:o,...m},d){let u=ee(s,{relative:m.relative}),p=Q(),g=n.useContext(H),{navigator:h,basename:f}=n.useContext(U),b=null!=g&&function(e,{relative:t}={}){let a=n.useContext(K);c(null!=a,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ze("useViewTransitionState"),l=ee(e,{relative:t});if(!a.isTransitioning)return!1;let s=A(a.currentLocation.pathname,r)||a.currentLocation.pathname,i=A(a.nextLocation.pathname,r)||a.nextLocation.pathname;return null!=_(l.pathname,i)||null!=_(l.pathname,s)}(u)&&!0===i,y=h.encodeLocation?h.encodeLocation(u).pathname:u.pathname,x=p.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(x=x.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase()),E&&f&&(E=A(E,f)||E);const v="/"!==y&&y.endsWith("/")?y.length-1:y.length;let w,N=x===y||!r&&x.startsWith(y)&&"/"===x.charAt(v),k=null!=E&&(E===y||!r&&E.startsWith(y)&&"/"===E.charAt(y.length)),S={isActive:N,isPending:k,isTransitioning:b},C=N?e:void 0;w="function"==typeof a?a(S):[a,N?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let j="function"==typeof l?l(S):l;return n.createElement(Oe,{...m,"aria-current":C,className:w,ref:d,style:j,to:s,viewTransition:i},"function"==typeof o?o(S):o)});function ze(e){let t=n.useContext(I);return c(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}$e.displayName="NavLink",n.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:l,state:s,method:i=he,action:o,onSubmit:m,relative:d,preventScrollReset:u,viewTransition:g,...h},f)=>{let b=function(){let{router:e}=ze("useSubmit"),{basename:t}=n.useContext(U),a=ie("useRouteId");return n.useCallback(async(r,n={})=>{let{action:l,method:s,encType:i,formData:o,body:c}=function(e,t){let a,r,n,l,s;if(be(i=e)&&"form"===i.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?A(s,t):null,a=e.getAttribute("method")||he,n=Ee(e.getAttribute("enctype"))||fe,l=new FormData(e)}else if(function(e){return be(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return be(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||s.getAttribute("action");if(r=i?A(i,t):null,a=e.getAttribute("formmethod")||s.getAttribute("method")||he,n=Ee(e.getAttribute("formenctype"))||Ee(s.getAttribute("enctype"))||fe,l=new FormData(s,e),!function(){if(null===ye)try{new FormData(document.createElement("form"),0),ye=!1}catch(e){ye=!0}return ye}()){let{name:t,type:a,value:r}=e;if("image"===a){let e=t?`${t}.`:"";l.append(`${e}x`,"0"),l.append(`${e}y`,"0")}else t&&l.append(t,r)}}else{if(be(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=he,r=null,n=fe,s=e}var i;return l&&"text/plain"===n&&(s=l,l=void 0),{action:r,method:a.toLowerCase(),encType:n,formData:l,body:s}}(r,t);if(!1===n.navigate){let t=n.fetcherKey||Be();await e.fetch(t,a,n.action||l,{preventScrollReset:n.preventScrollReset,formData:o,body:c,formMethod:n.method||s,formEncType:n.encType||i,flushSync:n.flushSync})}else await e.navigate(n.action||l,{preventScrollReset:n.preventScrollReset,formData:o,body:c,formMethod:n.method||s,formEncType:n.encType||i,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,a])}(),y=function(e,{relative:t}={}){let{basename:a}=n.useContext(U),r=n.useContext(W);c(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),s={...ee(e||".",{relative:t})},i=Q();if(null==e){s.search=i.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let a=e.toString();s.search=a?`?${a}`:""}}return e&&"."!==e||!l.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),"/"!==a&&(s.pathname="/"===s.pathname?a:R([a,s.pathname])),p(s)}(o,{relative:d}),x="get"===i.toLowerCase()?"get":"post",E="string"==typeof o&&Fe.test(o);return n.createElement("form",{ref:f,method:x,action:y,onSubmit:r?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,n=r?.getAttribute("formmethod")||i;b(r||e.currentTarget,{fetcherKey:t,method:n,navigate:a,replace:l,state:s,relative:d,preventScrollReset:u,viewTransition:g})},...h,"data-discover":E||"render"!==e?void 0:"true"})}).displayName="Form";var Ve=0,Be=()=>`__${String(++Ve)}__`;const Ie=(0,n.createContext)(),He=()=>(0,n.useContext)(Ie),Ke=({children:e})=>{const t=window.umh_wp_data||{},[a,r]=(0,n.useState)(t.user||null),[l,s]=(0,n.useState)(t.nonce||""),[i,o]=(0,n.useState)(localStorage.getItem("umh_token")||""),[c,m]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t.nonce?console.log("‚úÖ UMH: Terhubung sebagai",t.user?.name):console.warn("‚ö†Ô∏è UMH: Nonce tidak ditemukan. Pastikan plugin aktif.")},[]),(0,n.createElement)(Ie.Provider,{value:{currentUser:a,nonce:l,token:i,login:(e,t)=>{r(e),o(t),localStorage.setItem("umh_token",t)},logout:()=>{r(null),o(""),localStorage.removeItem("umh_token")},loading:c,isAdmin:t.is_wp_admin,urls:{admin:t.adminUrl,print:t.printUrl}}},e)},Ue=(0,n.createContext)(),qe=()=>(0,n.useContext)(Ue),We=({children:e})=>{const{token:t,nonce:a}=He(),[r,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)(null),o=async(e,r="GET",n=null,s=!1)=>{l(!0),i(null);try{const l={"X-WP-Nonce":a,Accept:"application/json"};t&&(l.Authorization=`Bearer ${t}`),s||(l["Content-Type"]="application/json");const i={method:r,headers:l};n&&(i.body=s?n:JSON.stringify(n));const o=await fetch(`/wp-json/umh/v1${e}`,i),c=await o.text();let m;try{m=JSON.parse(c)}catch(e){console.error("‚ùå Non-JSON Response:",c);const t=c.includes("<")?"Server Error (Cek Console Browser)":c;throw new Error(`Terjadi kesalahan server: ${t}`)}if(!o.ok)throw new Error(m.message||m.code||"Gagal memproses permintaan");return m}catch(e){throw console.error("API Error:",e),i(e.message),e}finally{l(!1)}},c={get:e=>o(e,"GET"),post:(e,t)=>o(e,"POST",t),put:(e,t)=>o(e,"PUT",t),delete:e=>o(e,"DELETE")};return(0,n.createElement)(Ue.Provider,{value:{loading:r,error:s,apiCall:o,api:c,getPackages:e=>o(`/packages?${new URLSearchParams(e)}`),deletePackage:e=>o(`/packages/${e}`,"DELETE"),createJamaah:e=>o("/jamaah","POST",e),updateJamaah:(e,t)=>o(`/jamaah/${e}`,"PUT",t),getJamaahList:e=>o(`/jamaah?${new URLSearchParams(e)}`),createPayment:e=>o("/finance/payments","POST",e),createCashTransaction:e=>o("/finance/cash-flow","POST",e),createOrUpdate:(e,t,a=null)=>a?o(`/${e}/${a}`,"PUT",t):o(`/${e}`,"POST",t),getDashboardStats:()=>o("/stats/dashboard"),fetchLogs:()=>o("/logs")}},e)},Je=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ge=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),Qe=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ze=(0,n.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:l="",children:s,iconNode:i,...o},c)=>(0,n.createElement)("svg",{ref:c,...Ye,width:t,height:t,stroke:e,strokeWidth:r?24*Number(a)/Number(t):a,className:Ge("lucide",l),...!s&&!Qe(o)&&{"aria-hidden":"true"},...o},[...i.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(s)?s:[s]])),Xe=(e,t)=>{const a=(0,n.forwardRef)(({className:a,...r},l)=>{return(0,n.createElement)(Ze,{ref:l,iconNode:t,className:Ge(`lucide-${s=Je(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...r});var s});return a.displayName=Je(e),a},et=Xe("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),tt=Xe("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),at=Xe("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),rt=Xe("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),nt=Xe("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),lt=Xe("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),st=Xe("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),it=Xe("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),ot=Xe("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ct=Xe("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),mt="owner",dt="admin",ut="staff",pt="branch",gt="agent",ht="jamaah",ft=[{label:"Dashboard",path:"/",icon:"Home",roles:[mt,dt,ut,pt,gt]},{label:"Data Master",path:"/master-data",icon:"Database",roles:[mt,dt]},{label:"Manajemen Paket",path:"/packages",icon:"Package",roles:[mt,dt,ut,pt]},{label:"Data Jemaah",path:"/jamaah",icon:"Users",roles:[mt,dt,ut,pt,gt]},{label:"Transaksi & Keuangan",path:"/finance",icon:"DollarSign",roles:[mt,dt,pt]},{label:"Manifest & Keberangkatan",path:"/manifest",icon:"Plane",roles:[mt,dt,ut]},{label:"Keagenan",path:"/sub-agents",icon:"Briefcase",roles:[mt,dt,pt]},{label:"Portal Jemaah",path:"/portal",icon:"Smartphone",roles:[ht]}],bt=({name:e,size:t=20,className:a})=>{const r={Home:et,Database:tt,Package:at,Users:rt,DollarSign:nt,Plane:lt,Briefcase:st,Smartphone:it,Settings:ot,LogOut:ct}[e]||et;return(0,n.createElement)(r,{size:t,className:a})},yt=({isOpen:e,toggleSidebar:t})=>{const{user:a,logout:r}=He(),l=ft.filter(e=>!e.roles||e.roles.includes(a?.role||"jamaah"));return(0,n.createElement)(n.Fragment,null,e&&(0,n.createElement)("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:t}),(0,n.createElement)("aside",{className:`fixed top-0 left-0 z-40 h-screen transition-transform duration-300 bg-white border-r border-gray-200 \n        ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0 w-64 shadow-xl flex flex-col`},(0,n.createElement)("div",{className:"h-16 flex items-center justify-center border-b border-gray-100 px-6 bg-white"},(0,n.createElement)("div",{className:"flex items-center gap-3"},(0,n.createElement)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-700 flex items-center justify-center text-white font-bold text-lg shadow-emerald-200 shadow-lg"},"JF"),(0,n.createElement)("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-600 to-amber-500"},"JFBanten"))),(0,n.createElement)("div",{className:"p-4 border-b border-gray-50 bg-emerald-50/30"},(0,n.createElement)("div",{className:"flex items-center gap-3"},(0,n.createElement)("div",{className:"w-10 h-10 rounded-full bg-emerald-100 border-2 border-white shadow-sm flex items-center justify-center text-emerald-700 font-bold"},a?.name?.charAt(0)||"U"),(0,n.createElement)("div",{className:"flex-1 min-w-0"},(0,n.createElement)("p",{className:"text-sm font-semibold text-gray-900 truncate"},a?.name||"Guest"),(0,n.createElement)("p",{className:"text-xs text-emerald-600 capitalize font-medium"},a?.role||"Pengunjung")))),(0,n.createElement)("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto custom-scrollbar"},l.map((e,a)=>(0,n.createElement)($e,{key:a,to:e.path,onClick:()=>window.innerWidth<1024&&t(),className:({isActive:e})=>"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group\n                "+(e?"bg-emerald-50 text-emerald-700 shadow-sm translate-x-1":"text-gray-600 hover:bg-gray-50 hover:text-gray-900")},(0,n.createElement)(bt,{name:e.icon,className:({isActive:e})=>e?"text-emerald-600":"text-gray-400 group-hover:text-gray-600"}),e.label))),(0,n.createElement)("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50"},(0,n.createElement)("button",{onClick:r,className:"flex items-center justify-center gap-2 w-full px-4 py-2 text-sm font-medium text-red-600 bg-white border border-red-100 rounded-lg hover:bg-red-50 hover:border-red-200 transition-all shadow-sm"},(0,n.createElement)(ct,{size:18}),(0,n.createElement)("span",null,"Keluar Aplikasi")),(0,n.createElement)("p",{className:"mt-3 text-[10px] text-center text-gray-400 uppercase tracking-wider"},"v2.0.0 ¬© 2024 JFBanten"))))},xt=Xe("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Et=Xe("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),vt=Xe("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),wt=({toggleSidebar:e})=>{const{user:t}=He();return(0,n.createElement)("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm/50 backdrop-blur-md bg-white/90"},(0,n.createElement)("div",{className:"px-4 h-16 flex items-center justify-between lg:justify-end gap-4"},(0,n.createElement)("button",{onClick:e,className:"p-2 -ml-2 text-gray-600 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-500"},(0,n.createElement)(xt,{size:24})),(0,n.createElement)("div",{className:"hidden md:flex flex-1 max-w-xl mx-4 relative"},(0,n.createElement)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},(0,n.createElement)(Et,{size:18,className:"text-gray-400"})),(0,n.createElement)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-lg leading-5 bg-gray-50 text-gray-900 placeholder-gray-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm transition-all",placeholder:"Cari data jemaah, invoice, atau manifest..."})),(0,n.createElement)("div",{className:"flex items-center gap-3"},(0,n.createElement)("button",{className:"relative p-2 text-gray-500 hover:text-emerald-600 transition-colors rounded-full hover:bg-emerald-50"},(0,n.createElement)(vt,{size:20}),(0,n.createElement)("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white"})),(0,n.createElement)("div",{className:"h-6 w-px bg-gray-200 hidden sm:block"}),(0,n.createElement)("div",{className:"hidden sm:flex flex-col items-end mr-2"},(0,n.createElement)("span",{className:"text-sm font-semibold text-gray-800 leading-none"},t?.name),(0,n.createElement)("span",{className:"text-[10px] text-gray-500 uppercase tracking-wide mt-1"},t?.role)))))},Nt=({size:e="md",color:t="blue"})=>(0,n.createElement)("svg",{className:`animate-spin ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[e]} ${{blue:"text-blue-600",white:"text-white",gray:"text-gray-600"}[t]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,n.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),kt=({text:e="Memuat data..."})=>(0,n.createElement)("div",{className:"flex flex-col items-center justify-center p-10 h-64 w-full"},(0,n.createElement)(Nt,{size:"lg",color:"blue"}),(0,n.createElement)("p",{className:"mt-4 text-gray-500 font-medium animate-pulse"},e)),St=({children:e,allowedRoles:t})=>{const{user:a,isAuthenticated:r,loading:l}=He(),s=Q();return l?(0,n.createElement)(kt,{fullScreen:!0}):r&&a?t&&t.length>0&&!t.includes(a.role)?"jemaah"===a.role?(0,n.createElement)(me,{to:"/portal",replace:!0}):"agen"===a.role?(0,n.createElement)(me,{to:"/dashboard-agen",replace:!0}):(0,n.createElement)(me,{to:"/",replace:!0}):e:(0,n.createElement)(me,{to:"/login",state:{from:s},replace:!0})},Ct=Xe("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),_t=({message:e})=>e?(0,n.createElement)("div",{className:"flex items-center p-4 mb-4 text-red-800 rounded-lg bg-red-50 border border-red-200 animate-fade-in"},(0,n.createElement)(Ct,{className:"flex-shrink-0 w-5 h-5 mr-3"}),(0,n.createElement)("span",{className:"sr-only"},"Error"),(0,n.createElement)("div",{className:"text-sm font-medium"},e)):null,jt=()=>{const[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),{login:l,loading:s,error:i}=He(),o=X(),c=Q(),m=c.state?.from?.pathname||"/";return(0,n.createElement)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4"},(0,n.createElement)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg overflow-hidden"},(0,n.createElement)("div",{className:"bg-green-600 p-6 text-center"},(0,n.createElement)("h2",{className:"text-white text-2xl font-bold"},"JF Banten Travel"),(0,n.createElement)("p",{className:"text-green-100 mt-2"},"Sistem Manajemen Umrah & Haji")),(0,n.createElement)("div",{className:"p-8"},i&&(0,n.createElement)(_t,{message:i}),(0,n.createElement)("form",{onSubmit:async t=>{t.preventDefault(),await l(e,a)&&o(m,{replace:!0})},className:"space-y-6"},(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Username / Email"),(0,n.createElement)("input",{type:"text",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"Masukkan username anda",value:e,onChange:e=>t(e.target.value)})),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Password"),(0,n.createElement)("input",{type:"password",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",value:a,onChange:e=>r(e.target.value)})),(0,n.createElement)("button",{type:"submit",disabled:s,className:"w-full bg-green-600 text-white py-2.5 rounded-lg font-semibold hover:bg-green-700 transition duration-200 disabled:opacity-70 flex justify-center items-center"},s?(0,n.createElement)(kt,{size:"small",color:"white"}):"Masuk Sistem")),(0,n.createElement)("div",{className:"mt-6 text-center text-sm text-gray-500"},"Lupa password? Hubungi Admin Pusat."))))},At=({title:e,value:t,icon:a,color:r})=>{const l={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",yellow:"from-yellow-400 to-yellow-500",indigo:"from-indigo-500 to-indigo-600",red:"from-red-500 to-red-600",gray:"from-gray-500 to-gray-600"}[r]||"from-blue-500 to-blue-600";return(0,n.createElement)("div",{className:"bg-white overflow-hidden shadow-sm hover:shadow-md transition-shadow rounded-xl border border-gray-100"},(0,n.createElement)("div",{className:"p-5"},(0,n.createElement)("div",{className:"flex items-center justify-between"},(0,n.createElement)("div",{className:"flex-1 min-w-0"},(0,n.createElement)("p",{className:"text-sm font-medium text-gray-500 truncate uppercase tracking-wider"},e),(0,n.createElement)("div",{className:"mt-1 text-2xl font-extrabold text-gray-900"},t)),(0,n.createElement)("div",{className:`flex-shrink-0 rounded-lg p-3 bg-gradient-to-br ${l} text-white shadow-lg transform transition-transform hover:scale-105`},(0,n.createElement)("span",{className:"text-xl"},a)))))},Pt=Xe("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Dt=Xe("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var Mt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tt=n.createContext&&n.createContext(Mt),Lt=["attr","size","title"];function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Rt.apply(this,arguments)}function Ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Ot(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(a),!0).forEach(function(t){var r,n,l,s;r=e,n=t,l=a[t],(n="symbol"==typeof(s=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n))?s:s+"")in r?Object.defineProperty(r,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function $t(e){return e&&e.map((e,t)=>n.createElement(e.tag,Ot({key:t},e.attr),$t(e.child)))}function zt(e){return t=>n.createElement(Vt,Rt({attr:Ot({},e.attr)},t),$t(e.child))}function Vt(e){var t=t=>{var a,{attr:r,size:l,title:s}=e,i=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,Lt),o=l||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),n.createElement("svg",Rt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,i,{className:a,style:Ot(Ot({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&n.createElement("title",null,s),e.children)};return void 0!==Tt?n.createElement(Tt.Consumer,null,e=>t(e)):t(Mt)}function Bt(e){return zt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function It(e){return zt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function Ht(e){return zt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Kt(e){return zt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Ut(e){return zt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const qt=()=>{const{user:e}=He(),{get:t}=qe(),[a,r]=(0,n.useState)(null),[l,s]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[c,m]=(0,n.useState)(null);if((0,n.useEffect)(()=>{(async()=>{try{o(!0);const e=await t("/agent/dashboard-stats");e.success&&r(e.data);const a=await t("/agent/recent-leads");a.success&&s(a.data)}catch(e){console.error("Agent Dashboard Error:",e),m("Gagal memuat data dashboard. Pastikan anda terhubung ke server.")}finally{o(!1)}})()},[t]),i)return(0,n.createElement)(kt,null);if(c)return(0,n.createElement)(_t,{message:c});const d=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e||0);return(0,n.createElement)("div",{className:"space-y-6"},(0,n.createElement)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden"},(0,n.createElement)("div",{className:"relative z-10"},(0,n.createElement)("h1",{className:"text-2xl font-bold mb-2"},"Selamat Datang, ",e?.name||"Partner","!"),(0,n.createElement)("p",{className:"opacity-90 text-blue-100"},"Pantau performa dan komisi anda hari ini."),(0,n.createElement)("div",{className:"mt-6 flex flex-wrap gap-3"},(0,n.createElement)("button",{className:"bg-white text-blue-700 px-5 py-2.5 rounded-lg font-bold text-sm flex items-center gap-2 shadow hover:bg-gray-100 transition transform hover:-translate-y-0.5"},(0,n.createElement)(Kt,null)," Input Jemaah Baru"),(0,n.createElement)("button",{className:"bg-blue-900 bg-opacity-40 text-white border border-white border-opacity-30 px-5 py-2.5 rounded-lg font-medium text-sm flex items-center gap-2 hover:bg-opacity-60 transition backdrop-blur-sm"},(0,n.createElement)(It,null)," Link Referral"))),(0,n.createElement)("div",{className:"absolute -right-10 -bottom-10 w-48 h-48 bg-white opacity-10 rounded-full blur-2xl"}),(0,n.createElement)("div",{className:"absolute top-10 right-20 w-20 h-20 bg-blue-400 opacity-20 rounded-full blur-xl"})),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},(0,n.createElement)(At,{title:"Jemaah Closing",value:a?.totalJamaah||0,icon:(0,n.createElement)(Ut,null),color:"bg-green-500"}),(0,n.createElement)(At,{title:"Komisi Pending",value:d(a?.komisiPending),icon:(0,n.createElement)(Bt,null),color:"bg-yellow-500"}),(0,n.createElement)(At,{title:"Komisi Cair",value:d(a?.komisiCair),icon:(0,n.createElement)(Bt,null),color:"bg-blue-500"}),(0,n.createElement)(At,{title:"Prospek Baru",value:a?.potensiLeads||0,icon:(0,n.createElement)(Kt,null),color:"bg-purple-500"})),(0,n.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},(0,n.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,n.createElement)("h3",{className:"font-bold text-gray-800 text-lg"},"Jemaah Terbaru Anda"),(0,n.createElement)("button",{className:"text-blue-600 text-sm font-medium hover:underline"},"Lihat Semua")),(0,n.createElement)("div",{className:"overflow-x-auto"},(0,n.createElement)("table",{className:"w-full"},(0,n.createElement)("thead",null,(0,n.createElement)("tr",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-100"},(0,n.createElement)("th",{className:"pb-3 pl-2"},"Nama Jemaah"),(0,n.createElement)("th",{className:"pb-3"},"Paket"),(0,n.createElement)("th",{className:"pb-3"},"Tanggal Input"),(0,n.createElement)("th",{className:"pb-3"},"Status"),(0,n.createElement)("th",{className:"pb-3 text-right pr-2"},"Aksi"))),(0,n.createElement)("tbody",{className:"divide-y divide-gray-50"},l.length>0?l.map(e=>(0,n.createElement)("tr",{key:e.id,className:"text-sm text-gray-700 hover:bg-gray-50 transition"},(0,n.createElement)("td",{className:"py-3 pl-2 font-medium text-gray-900"},e.name),(0,n.createElement)("td",{className:"py-3"},e.paket_name||(0,n.createElement)("span",{className:"text-gray-400 italic"},"Belum pilih paket")),(0,n.createElement)("td",{className:"py-3 text-gray-500"},new Date(e.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),(0,n.createElement)("td",{className:"py-3"},(0,n.createElement)("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold inline-block\n                        "+(["paid","booked","departed"].includes(e.status)?"bg-green-100 text-green-700":["new","prospect"].includes(e.status)?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700")},e.status?e.status.replace(/_/g," ").toUpperCase():"NEW")),(0,n.createElement)("td",{className:"py-3 text-right pr-2"},(0,n.createElement)("button",{className:"text-gray-400 hover:text-blue-600 font-medium transition"},"Detail")))):(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"5",className:"py-8 text-center text-gray-400"},"Belum ada data jemaah. Silakan input jemaah pertama anda.")))))))},Wt=Xe("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Jt=Xe("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Gt=Xe("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Qt=Xe("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Yt=Xe("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Zt=Xe("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Xt=()=>{const{user:e}=He();return(0,n.createElement)("div",{className:"min-h-screen bg-gray-50 pb-20 max-w-md mx-auto shadow-2xl overflow-hidden border-x border-gray-100 relative"},(0,n.createElement)("div",{className:"bg-emerald-600 text-white p-6 rounded-b-3xl shadow-lg relative overflow-hidden"},(0,n.createElement)("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/arabesque.png')]"}),(0,n.createElement)("div",{className:"relative z-10"},(0,n.createElement)("div",{className:"flex justify-between items-center mb-4"},(0,n.createElement)("div",null,(0,n.createElement)("p",{className:"text-emerald-100 text-sm"},"Ahlan Wa Sahlan,"),(0,n.createElement)("h1",{className:"text-2xl font-bold"},e?.name||"Hamba Allah")),(0,n.createElement)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm"},(0,n.createElement)(Wt,{size:20}))),(0,n.createElement)("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-4 rounded-xl mt-4"},(0,n.createElement)("div",{className:"flex items-center gap-3 mb-2"},(0,n.createElement)("div",{className:"bg-amber-400 text-amber-900 p-1.5 rounded-lg"},(0,n.createElement)(Jt,{size:16})),(0,n.createElement)("span",{className:"text-sm font-medium"},"Hitung Mundur")),(0,n.createElement)("h2",{className:"text-3xl font-bold text-center my-2"},"24 ",(0,n.createElement)("span",{className:"text-base font-normal"},"Hari Lagi")),(0,n.createElement)("div",{className:"text-center text-xs text-emerald-100 bg-emerald-800/30 py-1 rounded-full"},"Keberangkatan: ","15 Oktober 2024")))),(0,n.createElement)("div",{className:"grid grid-cols-4 gap-4 p-6 -mt-2"},[{icon:Gt,label:"Dokumen",color:"blue"},{icon:Qt,label:"Itinerary",color:"amber"},{icon:Yt,label:"Doa",color:"emerald"},{icon:Zt,label:"Jadwal",color:"purple"}].map((e,t)=>(0,n.createElement)("button",{key:t,className:"flex flex-col items-center gap-2 group"},(0,n.createElement)("div",{className:`w-14 h-14 rounded-2xl bg-${e.color}-100 text-${e.color}-600 flex items-center justify-center shadow-sm group-active:scale-95 transition-transform`},(0,n.createElement)(e.icon,{size:24})),(0,n.createElement)("span",{className:"text-xs font-medium text-gray-600"},e.label)))),(0,n.createElement)("div",{className:"px-6 space-y-4"},(0,n.createElement)("h3",{className:"font-bold text-gray-800"},"Detail Perjalanan"),(0,n.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4 items-center"},(0,n.createElement)("div",{className:"bg-gray-100 p-3 rounded-lg"},(0,n.createElement)(Qt,{className:"text-gray-600",size:20})),(0,n.createElement)("div",{className:"flex-1"},(0,n.createElement)("p",{className:"text-xs text-gray-400"},"Hotel Mekkah"),(0,n.createElement)("p",{className:"font-semibold text-gray-800"},"Zam Zam Tower"))),(0,n.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4 items-center"},(0,n.createElement)("div",{className:"bg-gray-100 p-3 rounded-lg"},(0,n.createElement)(Qt,{className:"text-gray-600",size:20})),(0,n.createElement)("div",{className:"flex-1"},(0,n.createElement)("p",{className:"text-xs text-gray-400"},"Hotel Madinah"),(0,n.createElement)("p",{className:"font-semibold text-gray-800"},"Ruve Al Madinah"))),(0,n.createElement)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 p-4 rounded-xl shadow-lg text-white mt-6"},(0,n.createElement)("div",{className:"flex items-start gap-3"},(0,n.createElement)(Yt,{className:"mt-1 opacity-80",size:20}),(0,n.createElement)("div",null,(0,n.createElement)("h4",{className:"font-bold text-sm mb-1"},"Doa Safar"),(0,n.createElement)("p",{className:"text-xs opacity-90 italic"},'"Subhanalladzi sakhara lana hadza..."'),(0,n.createElement)("button",{className:"mt-3 text-xs bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-lg transition"},"Baca Lengkap"))))),(0,n.createElement)("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 py-3 px-6 flex justify-around items-center max-w-md mx-auto right-0 shadow-[0_-5px_15px_rgba(0,0,0,0.05)]"},(0,n.createElement)("button",{className:"flex flex-col items-center gap-1 text-emerald-600"},(0,n.createElement)(Qt,{size:22,fill:"currentColor",className:"opacity-20"}),(0,n.createElement)("span",{className:"text-[10px] font-bold"},"Home")),(0,n.createElement)("button",{className:"flex flex-col items-center gap-1 text-gray-400"},(0,n.createElement)(Yt,{size:22}),(0,n.createElement)("span",{className:"text-[10px]"},"Panduan")),(0,n.createElement)("button",{className:"flex flex-col items-center gap-1 text-gray-400"},(0,n.createElement)(Wt,{size:22}),(0,n.createElement)("span",{className:"text-[10px]"},"Profil"))))},ea=()=>{const{user:e}=He();if(e?.role===ht)return(0,n.createElement)(Xt,null);if(e?.role===gt)return(0,n.createElement)(qt,null);const t=[{label:"Total Jemaah Aktif",value:"1,240",icon:rt,color:"emerald",trend:"+12%"},{label:"Pendapatan Bulan Ini",value:"Rp 4.2M",icon:nt,color:"amber",trend:"+8%"},{label:"Keberangkatan Next",value:"15 Okt",icon:lt,color:"blue",sub:"45 Pax"},{label:"Sisa Kuota Paket",value:"12",icon:Ct,color:"red",sub:"Paket Hemat"}],a=e?.role===ut?t.filter(e=>e.icon!==nt):t;return(0,n.createElement)("div",{className:"p-6 space-y-8 animate-fade-in-up"},(0,n.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},(0,n.createElement)("div",null,(0,n.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Assalamu'alaikum, ",e?.name),(0,n.createElement)("p",{className:"text-gray-500 mt-1"},"Berikut ringkasan operasional travel hari ini.")),(0,n.createElement)("div",{className:"flex gap-2"},(0,n.createElement)("button",{className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg shadow-lg shadow-emerald-200 transition-all text-sm font-medium flex items-center gap-2"},(0,n.createElement)(rt,{size:16})," Daftar Jemaah Baru"))),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},a.map((e,t)=>(0,n.createElement)("div",{key:t,className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative overflow-hidden group"},(0,n.createElement)("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity bg-${e.color}-500 rounded-bl-3xl`},(0,n.createElement)(e.icon,{size:40})),(0,n.createElement)("div",{className:"flex items-center gap-4"},(0,n.createElement)("div",{className:`p-3 rounded-xl bg-${e.color}-50 text-${e.color}-600`},(0,n.createElement)(e.icon,{size:24})),(0,n.createElement)("div",null,(0,n.createElement)("p",{className:"text-sm text-gray-500 font-medium"},e.label),(0,n.createElement)("h3",{className:"text-2xl font-bold text-gray-800"},e.value))),(e.trend||e.sub)&&(0,n.createElement)("div",{className:"mt-4 flex items-center text-sm"},e.trend?(0,n.createElement)("span",{className:"text-emerald-600 flex items-center font-medium bg-emerald-50 px-2 py-0.5 rounded-full"},(0,n.createElement)(Pt,{size:14,className:"mr-1"})," ",e.trend):(0,n.createElement)("span",{className:"text-gray-400"},e.sub),(0,n.createElement)("span",{className:"ml-2 text-gray-400 text-xs"},"vs bulan lalu"))))),(0,n.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},(0,n.createElement)("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},(0,n.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,n.createElement)("h3",{className:"font-bold text-gray-800"},"Pendaftaran Jemaah Terbaru"),(0,n.createElement)("button",{className:"text-sm text-emerald-600 font-medium hover:underline"},"Lihat Semua")),(0,n.createElement)("div",{className:"overflow-x-auto"},(0,n.createElement)("table",{className:"w-full text-sm text-left"},(0,n.createElement)("thead",{className:"bg-gray-50 text-gray-500 font-medium"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"px-4 py-3 rounded-l-lg"},"Nama Jemaah"),(0,n.createElement)("th",{className:"px-4 py-3"},"Paket"),(0,n.createElement)("th",{className:"px-4 py-3"},"Cabang/Agen"),(0,n.createElement)("th",{className:"px-4 py-3 rounded-r-lg"},"Status"))),(0,n.createElement)("tbody",{className:"divide-y divide-gray-50"},[1,2,3,4,5].map(e=>(0,n.createElement)("tr",{key:e,className:"hover:bg-gray-50 transition-colors"},(0,n.createElement)("td",{className:"px-4 py-3 font-medium text-gray-800"},"Abdullah Bin Fulan",(0,n.createElement)("div",{className:"text-xs text-gray-400 font-normal"},"REG-202400",e)),(0,n.createElement)("td",{className:"px-4 py-3"},"Umrah Ramadhan (Quad)"),(0,n.createElement)("td",{className:"px-4 py-3"},"Cabang Serang"),(0,n.createElement)("td",{className:"px-4 py-3"},(0,n.createElement)("span",{className:"bg-amber-50 text-amber-700 px-2 py-1 rounded-md text-xs font-semibold"},"Menunggu DP")))))))),(0,n.createElement)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},(0,n.createElement)("h3",{className:"font-bold text-gray-800 mb-4"},"Tugas Pending"),(0,n.createElement)("div",{className:"space-y-4"},(0,n.createElement)("div",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-xl border border-red-100"},(0,n.createElement)(Ct,{size:20,className:"text-red-500 mt-0.5"}),(0,n.createElement)("div",null,(0,n.createElement)("h4",{className:"font-semibold text-red-800 text-sm"},"Visa Expired"),(0,n.createElement)("p",{className:"text-xs text-red-600 mt-1"},"3 Paspor jemaah expired bulan depan. Segera hubungi."))),(0,n.createElement)("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-xl border border-blue-100"},(0,n.createElement)(Dt,{size:20,className:"text-blue-500 mt-0.5"}),(0,n.createElement)("div",null,(0,n.createElement)("h4",{className:"font-semibold text-blue-800 text-sm"},"Manifest Final"),(0,n.createElement)("p",{className:"text-xs text-blue-600 mt-1"},"Finalisasi manifest keberangkatan tgl 15.")))))))},ta=Xe("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),aa=Xe("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),ra=Xe("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),na=Xe("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),la=Xe("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),sa=({isOpen:e,onClose:t,title:a,children:r,size:l="md",noPadding:s=!1})=>((0,n.useEffect)(()=>{const a=e=>{"Escape"===e.key&&t()};return e&&window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,t]),e?(0,n.createElement)("div",{className:"fixed inset-0 z-50 overflow-y-auto"},(0,n.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,n.createElement)("div",{className:"flex items-center justify-center min-h-screen p-4"},(0,n.createElement)("div",{className:`relative bg-white rounded-xl shadow-2xl w-full transform transition-all ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[l]}`,onClick:e=>e.stopPropagation()},(0,n.createElement)("div",{className:"flex justify-between items-center p-5 border-b border-gray-100"},(0,n.createElement)("h3",{className:"text-xl font-bold text-gray-800"},a),(0,n.createElement)("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50"},(0,n.createElement)(Ht,null))),(0,n.createElement)("div",{className:s?"":"p-6"},r)))):null);var ia=e=>"checkbox"===e.type,oa=e=>e instanceof Date,ca=e=>null==e;const ma=e=>"object"==typeof e;var da=e=>!ca(e)&&!Array.isArray(e)&&ma(e)&&!oa(e),ua="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function pa(e){let t;const a=Array.isArray(e),r="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(ua&&(e instanceof Blob||r)||!a&&!da(e))return e;if(t=a?[]:Object.create(Object.getPrototypeOf(e)),a||(e=>{const t=e.constructor&&e.constructor.prototype;return da(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const a in e)e.hasOwnProperty(a)&&(t[a]=pa(e[a]));else t=e}return t}var ga=e=>/^\w*$/.test(e),ha=e=>void 0===e,fa=e=>Array.isArray(e)?e.filter(Boolean):[],ba=e=>fa(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ya=(e,t,a)=>{if(!t||!da(e))return a;const r=(ga(t)?[t]:ba(t)).reduce((e,t)=>ca(e)?e:e[t],e);return ha(r)||r===e?ha(e[t])?a:e[t]:r},xa=e=>"boolean"==typeof e,Ea=(e,t,a)=>{let r=-1;const n=ga(t)?[t]:ba(t),l=n.length,s=l-1;for(;++r<l;){const t=n[r];let l=a;if(r!==s){const a=e[t];l=da(a)||Array.isArray(a)?a:isNaN(+n[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=l,e=e[t]}};const va="onChange",wa="onSubmit",Na="all",ka="pattern",Sa="required";n.createContext(null).displayName="HookFormContext";const Ca="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;var _a=e=>"string"==typeof e,ja=e=>ca(e)||!ma(e);function Aa(e,t,a=new WeakSet){if(ja(e)||ja(t))return Object.is(e,t);if(oa(e)&&oa(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;if(a.has(e)||a.has(t))return!0;a.add(e),a.add(t);for(const l of r){const r=e[l];if(!n.includes(l))return!1;if("ref"!==l){const e=t[l];if(oa(r)&&oa(e)||da(r)&&da(e)||Array.isArray(r)&&Array.isArray(e)?!Aa(r,e,a):!Object.is(r,e))return!1}}return!0}var Pa=(e,t,a,r,n)=>t?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[r]:n||!0}}:{},Da=e=>Array.isArray(e)?e:[e],Ma=()=>{let e=[];return{get observers(){return e},next:t=>{for(const a of e)a.next&&a.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function Ta(e,t){const a={};for(const r in e)if(e.hasOwnProperty(r)){const n=e[r],l=t[r];if(n&&da(n)&&l){const e=Ta(n,l);da(e)&&(a[r]=e)}else e[r]&&(a[r]=l)}return a}var La=e=>da(e)&&!Object.keys(e).length,Ra=e=>"file"===e.type,Fa=e=>"function"==typeof e,Oa=e=>{if(!ua)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$a=e=>"select-multiple"===e.type,za=e=>"radio"===e.type,Va=e=>Oa(e)&&e.isConnected;function Ba(e,t){const a=Array.isArray(t)?t:ga(t)?[t]:ba(t),r=1===a.length?e:function(e,t){const a=t.slice(0,-1).length;let r=0;for(;r<a;)e=ha(e)?r++:e[t[r++]];return e}(e,a),n=a.length-1,l=a[n];return r&&delete r[l],0!==n&&(da(r)&&La(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!ha(e[t]))return!1;return!0}(r))&&Ba(e,a.slice(0,-1)),e}function Ia(e){return Array.isArray(e)||da(e)&&!(e=>{for(const t in e)if(Fa(e[t]))return!0;return!1})(e)}function Ha(e,t={}){for(const a in e){const r=e[a];Ia(r)?(t[a]=Array.isArray(r)?[]:{},Ha(r,t[a])):ha(r)||(t[a]=!0)}return t}function Ka(e,t,a){a||(a=Ha(t));for(const r in e){const n=e[r];if(Ia(n))ha(t)||ja(a[r])?a[r]=Ha(n,Array.isArray(n)?[]:{}):Ka(n,ca(t)?{}:t[r],a[r]);else{const e=t[r];a[r]=!Aa(n,e)}}return a}const Ua={value:!1,isValid:!1},qa={value:!0,isValid:!0};var Wa=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ha(e[0].attributes.value)?ha(e[0].value)||""===e[0].value?qa:{value:e[0].value,isValid:!0}:qa:Ua}return Ua},Ja=(e,{valueAsNumber:t,valueAsDate:a,setValueAs:r})=>ha(e)?e:t?""===e?NaN:e?+e:e:a&&_a(e)?new Date(e):r?r(e):e;const Ga={isValid:!1,value:null};var Qa=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Ga):Ga;function Ya(e){const t=e.ref;return Ra(t)?t.files:za(t)?Qa(e.refs).value:$a(t)?[...t.selectedOptions].map(({value:e})=>e):ia(t)?Wa(e.refs).value:Ja(ha(t.value)?e.ref.value:t.value,e)}var Za=e=>e instanceof RegExp,Xa=e=>ha(e)?e:Za(e)?e.source:da(e)?Za(e.value)?e.value.source:e.value:e,er=e=>({isOnSubmit:!e||e===wa,isOnBlur:"onBlur"===e,isOnChange:e===va,isOnAll:e===Na,isOnTouch:"onTouched"===e});const tr="AsyncFunction";var ar=e=>!!e&&!!e.validate&&!!(Fa(e.validate)&&e.validate.constructor.name===tr||da(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===tr)),rr=(e,t,a)=>!a&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const nr=(e,t,a,r)=>{for(const n of a||Object.keys(e)){const a=ya(e,n);if(a){const{_f:e,...l}=a;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],n)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(nr(l,t))break}else if(da(l)&&nr(l,t))break}}};function lr(e,t,a){const r=ya(e,a);if(r||ga(a))return{error:r,name:a};const n=a.split(".");for(;n.length;){const r=n.join("."),l=ya(t,r),s=ya(e,r);if(l&&!Array.isArray(l)&&a!==r)return{name:a};if(s&&s.type)return{name:r,error:s};if(s&&s.root&&s.root.type)return{name:`${r}.root`,error:s.root};n.pop()}return{name:a}}var sr=(e,t,a)=>{const r=Da(ya(e,a));return Ea(r,"root",t[a]),Ea(e,a,r),e};function ir(e,t,a="validate"){if(_a(e)||Array.isArray(e)&&e.every(_a)||xa(e)&&!e)return{type:a,message:_a(e)?e:"",ref:t}}var or=e=>da(e)&&!Za(e)?e:{value:e,message:""},cr=async(e,t,a,r,n,l)=>{const{ref:s,refs:i,required:o,maxLength:c,minLength:m,min:d,max:u,pattern:p,validate:g,name:h,valueAsNumber:f,mount:b}=e._f,y=ya(a,h);if(!b||t.has(h))return{};const x=i?i[0]:s,E=e=>{n&&x.reportValidity&&(x.setCustomValidity(xa(e)?"":e||""),x.reportValidity())},v={},w=za(s),N=ia(s),k=w||N,S=(f||Ra(s))&&ha(s.value)&&ha(y)||Oa(s)&&""===s.value||""===y||Array.isArray(y)&&!y.length,C=Pa.bind(null,h,r,v),_=(e,t,a,r="maxLength",n="minLength")=>{const l=e?t:a;v[h]={type:e?r:n,message:l,ref:s,...C(e?r:n,l)}};if(l?!Array.isArray(y)||!y.length:o&&(!k&&(S||ca(y))||xa(y)&&!y||N&&!Wa(i).isValid||w&&!Qa(i).isValid)){const{value:e,message:t}=_a(o)?{value:!!o,message:o}:or(o);if(e&&(v[h]={type:Sa,message:t,ref:x,...C(Sa,t)},!r))return E(t),v}if(!(S||ca(d)&&ca(u))){let e,t;const a=or(u),n=or(d);if(ca(y)||isNaN(y)){const r=s.valueAsDate||new Date(y),l=e=>new Date((new Date).toDateString()+" "+e),i="time"==s.type,o="week"==s.type;_a(a.value)&&y&&(e=i?l(y)>l(a.value):o?y>a.value:r>new Date(a.value)),_a(n.value)&&y&&(t=i?l(y)<l(n.value):o?y<n.value:r<new Date(n.value))}else{const r=s.valueAsNumber||(y?+y:y);ca(a.value)||(e=r>a.value),ca(n.value)||(t=r<n.value)}if((e||t)&&(_(!!e,a.message,n.message,"max","min"),!r))return E(v[h].message),v}if((c||m)&&!S&&(_a(y)||l&&Array.isArray(y))){const e=or(c),t=or(m),a=!ca(e.value)&&y.length>+e.value,n=!ca(t.value)&&y.length<+t.value;if((a||n)&&(_(a,e.message,t.message),!r))return E(v[h].message),v}if(p&&!S&&_a(y)){const{value:e,message:t}=or(p);if(Za(e)&&!y.match(e)&&(v[h]={type:ka,message:t,ref:s,...C(ka,t)},!r))return E(t),v}if(g)if(Fa(g)){const e=ir(await g(y,a),x);if(e&&(v[h]={...e,...C("validate",e.message)},!r))return E(e.message),v}else if(da(g)){let e={};for(const t in g){if(!La(e)&&!r)break;const n=ir(await g[t](y,a),x,t);n&&(e={...n,...C(t,n.message)},E(n.message),r&&(v[h]=e))}if(!La(e)&&(v[h]={ref:x,...e},!r))return v}return E(!0),v};const mr={mode:wa,reValidateMode:va,shouldFocusError:!0};function dr(e={}){let t,a={...mr,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fa(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},n={},l=(da(a.defaultValues)||da(a.values))&&pa(a.defaultValues||a.values)||{},s=a.shouldUnregister?{}:pa(l),i={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...m};const u={array:Ma(),state:Ma()},p=a.criteriaMode===Na,g=async e=>{if(!a.disabled&&(m.isValid||d.isValid||e)){const e=a.resolver?La((await y()).errors):await x(n,!0);e!==r.isValid&&u.state.next({isValid:e})}},h=(e,t)=>{!a.disabled&&(m.isValidating||m.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(o.mount)).forEach(e=>{e&&(t?Ea(r.validatingFields,e,t):Ba(r.validatingFields,e))}),u.state.next({validatingFields:r.validatingFields,isValidating:!La(r.validatingFields)}))},f=(e,t,a,r)=>{const o=ya(n,e);if(o){const n=ya(s,e,ha(a)?ya(l,e):a);ha(n)||r&&r.defaultChecked||t?Ea(s,e,t?n:Ya(o._f)):w(e,n),i.mount&&!i.action&&g()}},b=(e,t,n,s,i)=>{let o=!1,c=!1;const p={name:e};if(!a.disabled){if(!n||s){(m.isDirty||d.isDirty)&&(c=r.isDirty,r.isDirty=p.isDirty=E(),o=c!==p.isDirty);const a=Aa(ya(l,e),t);c=!!ya(r.dirtyFields,e),a?Ba(r.dirtyFields,e):Ea(r.dirtyFields,e,!0),p.dirtyFields=r.dirtyFields,o=o||(m.dirtyFields||d.dirtyFields)&&c!==!a}if(n){const t=ya(r.touchedFields,e);t||(Ea(r.touchedFields,e,n),p.touchedFields=r.touchedFields,o=o||(m.touchedFields||d.touchedFields)&&t!==n)}o&&i&&u.state.next(p)}return o?p:{}},y=async e=>{h(e,!0);const t=await a.resolver(s,a.context,((e,t,a,r)=>{const n={};for(const a of e){const e=ya(t,a);e&&Ea(n,a,e._f)}return{criteriaMode:a,names:[...e],fields:n,shouldUseNativeValidation:r}})(e||o.mount,n,a.criteriaMode,a.shouldUseNativeValidation));return h(e),t},x=async(e,t,n={valid:!0})=>{for(const l in e){const i=e[l];if(i){const{_f:e,...l}=i;if(e){const l=o.array.has(e.name),c=i._f&&ar(i._f);c&&m.validatingFields&&h([e.name],!0);const d=await cr(i,o.disabled,s,p,a.shouldUseNativeValidation&&!t,l);if(c&&m.validatingFields&&h([e.name]),d[e.name]&&(n.valid=!1,t))break;!t&&(ya(d,e.name)?l?sr(r.errors,d,e.name):Ea(r.errors,e.name,d[e.name]):Ba(r.errors,e.name))}!La(l)&&await x(l,t,n)}}return n.valid},E=(e,t)=>!a.disabled&&(e&&t&&Ea(s,e,t),!Aa(j(),l)),v=(e,t,a)=>((e,t,a,r,n)=>_a(e)?(r&&t.watch.add(e),ya(a,e,n)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),ya(a,e))):(r&&(t.watchAll=!0),a))(e,o,{...i.mount?s:ha(t)?l:_a(e)?{[e]:t}:t},a,t),w=(e,t,a={})=>{const r=ya(n,e);let l=t;if(r){const a=r._f;a&&(!a.disabled&&Ea(s,e,Ja(t,a)),l=Oa(a.ref)&&ca(t)?"":t,$a(a.ref)?[...a.ref.options].forEach(e=>e.selected=l.includes(e.value)):a.refs?ia(a.ref)?a.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(l)?e.checked=!!l.find(t=>t===e.value):e.checked=l===e.value||!!l)}):a.refs.forEach(e=>e.checked=e.value===l):Ra(a.ref)?a.ref.value="":(a.ref.value=l,a.ref.type||u.state.next({name:e,values:pa(s)})))}(a.shouldDirty||a.shouldTouch)&&b(e,l,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&_(e)},N=(e,t,a)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const l=t[r],s=e+"."+r,i=ya(n,s);(o.array.has(e)||da(l)||i&&!i._f)&&!oa(l)?N(s,l,a):w(s,l,a)}},k=(e,t,a={})=>{const c=ya(n,e),p=o.array.has(e),g=pa(t);Ea(s,e,g),p?(u.array.next({name:e,values:pa(s)}),(m.isDirty||m.dirtyFields||d.isDirty||d.dirtyFields)&&a.shouldDirty&&u.state.next({name:e,dirtyFields:Ka(l,s),isDirty:E(e,g)})):!c||c._f||ca(g)?w(e,g,a):N(e,g,a),rr(e,o)&&u.state.next({...r,name:e}),u.state.next({name:i.mount?e:void 0,values:pa(s)})},S=async e=>{i.mount=!0;const l=e.target;let f=l.name,E=!0;const v=ya(n,f),w=e=>{E=Number.isNaN(e)||oa(e)&&isNaN(e.getTime())||Aa(e,ya(s,f,e))},N=er(a.mode),k=er(a.reValidateMode);if(v){let i,C;const j=l.type?Ya(v._f):(e=>da(e)&&e.target?ia(e.target)?e.target.checked:e.target.value:e)(e),A="blur"===e.type||"focusout"===e.type,P=!((S=v._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate)||a.resolver||ya(r.errors,f)||v._f.deps)||((e,t,a,r,n)=>!n.isOnAll&&(!a&&n.isOnTouch?!(t||e):(a?r.isOnBlur:n.isOnBlur)?!e:!(a?r.isOnChange:n.isOnChange)||e))(A,ya(r.touchedFields,f),r.isSubmitted,k,N),D=rr(f,o,A);Ea(s,f,j),A?l&&l.readOnly||(v._f.onBlur&&v._f.onBlur(e),t&&t(0)):v._f.onChange&&v._f.onChange(e);const M=b(f,j,A),T=!La(M)||D;if(!A&&u.state.next({name:f,type:e.type,values:pa(s)}),P)return(m.isValid||d.isValid)&&("onBlur"===a.mode?A&&g():A||g()),T&&u.state.next({name:f,...D?{}:M});if(!A&&D&&u.state.next({...r}),a.resolver){const{errors:e}=await y([f]);if(w(j),E){const t=lr(r.errors,n,f),a=lr(e,n,t.name||f);i=a.error,f=a.name,C=La(e)}}else h([f],!0),i=(await cr(v,o.disabled,s,p,a.shouldUseNativeValidation))[f],h([f]),w(j),E&&(i?C=!1:(m.isValid||d.isValid)&&(C=await x(n,!0)));E&&(v._f.deps&&(!Array.isArray(v._f.deps)||v._f.deps.length>0)&&_(v._f.deps),((e,n,l,s)=>{const i=ya(r.errors,e),o=(m.isValid||d.isValid)&&xa(n)&&r.isValid!==n;var p;if(a.delayError&&l?(p=()=>((e,t)=>{Ea(r.errors,e,t),u.state.next({errors:r.errors})})(e,l),t=e=>{clearTimeout(c),c=setTimeout(p,e)},t(a.delayError)):(clearTimeout(c),t=null,l?Ea(r.errors,e,l):Ba(r.errors,e)),(l?!Aa(i,l):i)||!La(s)||o){const t={...s,...o&&xa(n)?{isValid:n}:{},errors:r.errors,name:e};r={...r,...t},u.state.next(t)}})(f,C,i,M))}var S},C=(e,t)=>{if(ya(r.errors,t)&&e.focus)return e.focus(),1},_=async(e,t={})=>{let l,s;const i=Da(e);if(a.resolver){const t=await(async e=>{const{errors:t}=await y(e);if(e)for(const a of e){const e=ya(t,a);e?Ea(r.errors,a,e):Ba(r.errors,a)}else r.errors=t;return t})(ha(e)?e:i);l=La(t),s=e?!i.some(e=>ya(t,e)):l}else e?(s=(await Promise.all(i.map(async e=>{const t=ya(n,e);return await x(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||r.isValid)&&g()):s=l=await x(n);return u.state.next({...!_a(e)||(m.isValid||d.isValid)&&l!==r.isValid?{}:{name:e},...a.resolver||!e?{isValid:l}:{},errors:r.errors}),t.shouldFocus&&!s&&nr(n,C,e?i:o.mount),s},j=(e,t)=>{let a={...i.mount?s:l};return t&&(a=Ta(t.dirtyFields?r.dirtyFields:r.touchedFields,a)),ha(e)?a:_a(e)?ya(a,e):e.map(e=>ya(a,e))},A=(e,t)=>({invalid:!!ya((t||r).errors,e),isDirty:!!ya((t||r).dirtyFields,e),error:ya((t||r).errors,e),isValidating:!!ya(r.validatingFields,e),isTouched:!!ya((t||r).touchedFields,e)}),P=(e,t,a)=>{const l=(ya(n,e,{_f:{}})._f||{}).ref,s=ya(r.errors,e)||{},{ref:i,message:o,type:c,...m}=s;Ea(r.errors,e,{...m,...t,ref:l}),u.state.next({name:e,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&l&&l.focus&&l.focus()},D=e=>u.state.subscribe({next:t=>{var a,n,i;a=e.name,n=t.name,i=e.exact,a&&n&&a!==n&&!Da(a).some(e=>e&&(i?e===n:e.startsWith(n)||n.startsWith(e)))||!((e,t,a,r)=>{a(e);const{name:n,...l}=e;return La(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(e=>t[e]===(!r||Na))})(t,e.formState||m,z,e.reRenderRoot)||e.callback({values:{...s},...r,...t,defaultValues:l})}}).unsubscribe,M=(e,t={})=>{for(const i of e?Da(e):o.mount)o.mount.delete(i),o.array.delete(i),t.keepValue||(Ba(n,i),Ba(s,i)),!t.keepError&&Ba(r.errors,i),!t.keepDirty&&Ba(r.dirtyFields,i),!t.keepTouched&&Ba(r.touchedFields,i),!t.keepIsValidating&&Ba(r.validatingFields,i),!a.shouldUnregister&&!t.keepDefaultValue&&Ba(l,i);u.state.next({values:pa(s)}),u.state.next({...r,...t.keepDirty?{isDirty:E()}:{}}),!t.keepIsValid&&g()},T=({disabled:e,name:t})=>{(xa(e)&&i.mount||e||o.disabled.has(t))&&(e?o.disabled.add(t):o.disabled.delete(t))},L=(e,t={})=>{let r=ya(n,e);const s=xa(t.disabled)||xa(a.disabled);return Ea(n,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),o.mount.add(e),r?T({disabled:xa(t.disabled)?t.disabled:a.disabled,name:e}):f(e,!0,t.value),{...s?{disabled:t.disabled||a.disabled}:{},...a.progressive?{required:!!t.required,min:Xa(t.min),max:Xa(t.max),minLength:Xa(t.minLength),maxLength:Xa(t.maxLength),pattern:Xa(t.pattern)}:{},name:e,onChange:S,onBlur:S,ref:s=>{if(s){L(e,t),r=ya(n,e);const a=ha(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,i=(e=>za(e)||ia(e))(a),o=r._f.refs||[];if(i?o.find(e=>e===a):a===r._f.ref)return;Ea(n,e,{_f:{...r._f,...i?{refs:[...o.filter(Va),a,...Array.isArray(ya(l,e))?[{}]:[]],ref:{type:a.type,name:e}}:{ref:a}}}),f(e,!1,void 0,a)}else r=ya(n,e,{}),r._f&&(r._f.mount=!1),(a.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(o.array,e)||!i.action)&&o.unMount.add(e)}}},R=()=>a.shouldFocusError&&nr(n,C,o.mount),F=(e,t)=>async l=>{let i;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=pa(s);if(u.state.next({isSubmitting:!0}),a.resolver){const{errors:e,values:t}=await y();r.errors=e,c=pa(t)}else await x(n);if(o.disabled.size)for(const e of o.disabled)Ba(c,e);if(Ba(r.errors,"root"),La(r.errors)){u.state.next({errors:{}});try{await e(c,l)}catch(e){i=e}}else t&&await t({...r.errors},l),R(),setTimeout(R);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:La(r.errors)&&!i,submitCount:r.submitCount+1,errors:r.errors}),i)throw i},O=(e,t={})=>{const c=e?pa(e):l,d=pa(c),p=La(e),g=p?l:d;if(t.keepDefaultValues||(l=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(Ka(l,s))]);for(const t of Array.from(e))ya(r.dirtyFields,t)?Ea(g,t,ya(s,t)):k(t,ya(g,t))}else{if(ua&&ha(e))for(const e of o.mount){const t=ya(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Oa(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of o.mount)k(e,ya(g,e));else n={}}s=a.shouldUnregister?t.keepDefaultValues?pa(l):{}:pa(g),u.array.next({values:{...g}}),u.state.next({values:{...g}})}o={mount:t.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!m.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!a.shouldUnregister&&!La(g),i.watch=!!a.shouldUnregister,u.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!p&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||Aa(e,l))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:p?{}:t.keepDirtyValues?t.keepDefaultValues&&s?Ka(l,s):r.dirtyFields:t.keepDefaultValues&&e?Ka(l,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:l})},$=(e,t)=>O(Fa(e)?e(s):e,t),z=e=>{r={...r,...e}},V={control:{register:L,unregister:M,getFieldState:A,handleSubmit:F,setError:P,_subscribe:D,_runSchema:y,_focusError:R,_getWatch:v,_getDirty:E,_setValid:g,_setFieldArray:(e,t=[],o,c,p=!0,g=!0)=>{if(c&&o&&!a.disabled){if(i.action=!0,g&&Array.isArray(ya(n,e))){const t=o(ya(n,e),c.argA,c.argB);p&&Ea(n,e,t)}if(g&&Array.isArray(ya(r.errors,e))){const t=o(ya(r.errors,e),c.argA,c.argB);p&&Ea(r.errors,e,t),((e,t)=>{!fa(ya(e,t)).length&&Ba(e,t)})(r.errors,e)}if((m.touchedFields||d.touchedFields)&&g&&Array.isArray(ya(r.touchedFields,e))){const t=o(ya(r.touchedFields,e),c.argA,c.argB);p&&Ea(r.touchedFields,e,t)}(m.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Ka(l,s)),u.state.next({name:e,isDirty:E(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ea(s,e,t)},_setDisabledField:T,_setErrors:e=>{r.errors=e,u.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>fa(ya(i.mount?s:l,e,a.shouldUnregister?ya(l,e,[]):[])),_reset:O,_resetDefaultValues:()=>Fa(a.defaultValues)&&a.defaultValues().then(e=>{$(e,a.resetOptions),u.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of o.unMount){const t=ya(n,e);t&&(t._f.refs?t._f.refs.every(e=>!Va(e)):!Va(t._f.ref))&&M(e)}o.unMount=new Set},_disableForm:e=>{xa(e)&&(u.state.next({disabled:e}),nr(n,(t,a)=>{const r=ya(n,a);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:u,_proxyFormState:m,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(e){i=e},get _defaultValues(){return l},get _names(){return o},set _names(e){o=e},get _formState(){return r},get _options(){return a},set _options(e){a={...a,...e}}},subscribe:e=>(i.mount=!0,d={...d,...e.formState},D({...e,formState:d})),trigger:_,register:L,handleSubmit:F,watch:(e,t)=>Fa(e)?u.state.subscribe({next:a=>"values"in a&&e(v(void 0,t),a)}):v(e,t,!0),setValue:k,getValues:j,reset:$,resetField:(e,t={})=>{ya(n,e)&&(ha(t.defaultValue)?k(e,pa(ya(l,e))):(k(e,t.defaultValue),Ea(l,e,pa(t.defaultValue))),t.keepTouched||Ba(r.touchedFields,e),t.keepDirty||(Ba(r.dirtyFields,e),r.isDirty=t.defaultValue?E(e,pa(ya(l,e))):E()),t.keepError||(Ba(r.errors,e),m.isValid&&g()),u.state.next({...r}))},clearErrors:e=>{e&&Da(e).forEach(e=>Ba(r.errors,e)),u.state.next({errors:e?r.errors:{}})},unregister:M,setError:P,setFocus:(e,t={})=>{const a=ya(n,e),r=a&&a._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&Fa(e.select)&&e.select())}},getFieldState:A};return{...V,formControl:V}}function ur(e={}){const t=n.useRef(void 0),a=n.useRef(void 0),[r,l]=n.useState({isDirty:!1,isValidating:!1,isLoading:Fa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Fa(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Fa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...n}=dr(e);t.current={...n,formState:r}}const s=t.current.control;return s._options=e,Ca(()=>{const e=s._subscribe({formState:s._proxyFormState,callback:()=>l({...s._formState}),reRenderRoot:!0});return l(e=>({...e,isReady:!0})),s._formState.isReady=!0,e},[s]),n.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),n.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),n.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),n.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),n.useEffect(()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==r.isDirty&&s._subjects.state.next({isDirty:e})}},[s,r.isDirty]),n.useEffect(()=>{var t;e.values&&!Aa(e.values,a.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),(null===(t=s._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||s._setValid(),a.current=e.values,l(e=>({...e}))):s._resetDefaultValues()},[s,e.values]),n.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=((e,t,a,r=!0)=>{const n={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const n=l;return t._proxyFormState[n]!==Na&&(t._proxyFormState[n]=!r||Na),a&&(a[n]=!0),e[n]}});return n})(r,s),t.current}const pr=Xe("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),gr=({children:e,required:t})=>(0,n.createElement)("label",{className:"block text-xs font-semibold text-gray-600 uppercase tracking-wider mb-1.5 ml-1"},e," ",t&&(0,n.createElement)("span",{className:"text-red-500"},"*")),hr=({message:e})=>(0,n.createElement)("div",{className:"flex items-center gap-1.5 mt-1.5 ml-1 text-red-500 animate-fade-in"},(0,n.createElement)(Ct,{size:14}),(0,n.createElement)("span",{className:"text-xs font-medium"},e)),fr=l().forwardRef(({label:e,error:t,type:a="text",className:r="",required:l,...s},i)=>(0,n.createElement)("div",{className:`w-full ${r}`},e&&(0,n.createElement)(gr,{required:l},e),(0,n.createElement)("div",{className:"relative"},(0,n.createElement)("input",{ref:i,type:a,className:`\n                        w-full px-4 py-2.5\n                        bg-white border text-gray-900 text-sm rounded-xl\n                        placeholder:text-gray-400\n                        transition-all duration-200\n                        disabled:bg-gray-50 disabled:text-gray-500\n                        ${t?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 hover:border-gray-300 focus:border-blue-500 focus:ring-blue-100"}\n                        focus:ring-4 focus:outline-none\n                    `,...s})),t&&(0,n.createElement)(hr,{message:t.message}))),br=l().forwardRef(({label:e,error:t,options:a=[],className:r="",required:l,placeholder:s,...i},o)=>(0,n.createElement)("div",{className:`w-full ${r}`},e&&(0,n.createElement)(gr,{required:l},e),(0,n.createElement)("div",{className:"relative"},(0,n.createElement)("select",{ref:o,className:`\n                        w-full px-4 py-2.5 appearance-none\n                        bg-white border text-gray-900 text-sm rounded-xl\n                        cursor-pointer\n                        transition-all duration-200\n                        disabled:bg-gray-50\n                        ${t?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 hover:border-gray-300 focus:border-blue-500 focus:ring-blue-100"}\n                        focus:ring-4 focus:outline-none pr-10\n                    `,...i},s&&(0,n.createElement)("option",{value:"",disabled:!0,hidden:!0},s),a.map(e=>(0,n.createElement)("option",{key:e.value,value:e.value},e.label))),(0,n.createElement)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400"},(0,n.createElement)(pr,{size:16,strokeWidth:2.5}))),t&&(0,n.createElement)(hr,{message:t.message}))),yr=l().forwardRef(({label:e,error:t,rows:a=3,className:r="",required:l,...s},i)=>(0,n.createElement)("div",{className:`w-full ${r}`},e&&(0,n.createElement)(gr,{required:l},e),(0,n.createElement)("textarea",{ref:i,rows:a,className:`\n                    w-full px-4 py-2.5\n                    bg-white border text-gray-900 text-sm rounded-xl\n                    placeholder:text-gray-400\n                    transition-all duration-200\n                    resize-y min-h-[80px]\n                    ${t?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 hover:border-gray-300 focus:border-blue-500 focus:ring-blue-100"}\n                    focus:ring-4 focus:outline-none\n                `,...s}),t&&(0,n.createElement)(hr,{message:t.message}))),xr=({children:e,isLoading:t,variant:a="primary",type:r="button",className:l="",...s})=>{const i={primary:"text-white bg-blue-600 hover:bg-blue-700 focus:ring-blue-100 shadow-lg shadow-blue-500/20 border border-transparent",secondary:"text-gray-700 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 focus:ring-gray-100 shadow-sm",danger:"text-white bg-red-600 hover:bg-red-700 focus:ring-red-100 shadow-lg shadow-red-500/20 border border-transparent",ghost:"text-gray-600 hover:bg-gray-100 hover:text-gray-900 border border-transparent"};return(0,n.createElement)("button",{type:r,className:`inline-flex items-center justify-center px-5 py-2.5 text-sm font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-4 disabled:opacity-70 disabled:cursor-not-allowed active:scale-[0.98] ${i[a]||i.primary} ${l}`,disabled:t,...s},t?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,n.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),(0,n.createElement)("span",{className:"opacity-90"},"Loading...")):e)},Er={Input:fr,Select:br,TextArea:yr,Button:xr};function vr({initialData:e,onSubmit:t,onCancel:a}){const{api:r}=qe(),{register:l,handleSubmit:s,formState:{errors:i},reset:o,watch:c}=ur(),[m,d]=(0,n.useState)([]),[u,p]=(0,n.useState)([]),[g,h]=(0,n.useState)([]),[f,b]=(0,n.useState)(!0),[y,x]=(0,n.useState)(""),[E,v]=(0,n.useState)([]),[w,N]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{try{const[e,t,a]=await Promise.all([r.get("/packages").catch(()=>[]),r.get("/sub-agents").catch(()=>[]),r.get("/branches").catch(()=>[])]);d(e||[]),p(t||[]),h(a||[])}catch(e){console.error("Gagal memuat data master:",e)}finally{b(!1)}})()},[]),(0,n.useEffect)(()=>{if(e){const t={...e};["birth_date","passport_issued","passport_expiry"].forEach(e=>{t[e]&&(t[e]=t[e].split("T")[0])}),o(t),t.mahram_id&&"0"!==t.mahram_id&&r.get(`/jamaah/${t.mahram_id}`).then(e=>{e&&e.id&&N({id:e.id,full_name:e.full_name})}).catch(e=>console.log("Mahram not found",e))}else o({full_name:"",nik:"",gender:"L",phone_number:"",passport_number:"",passport_issued:"",passport_expiry:"",birth_date:"",address_details:"",package_id:"",sub_agent_id:"",branch_id:"",status:"registered",relation:""}),N(null)},[e,o]),(0,n.useEffect)(()=>{const e=setTimeout(async()=>{if(y.length>2)try{const e=await r.get(`/jamaah/search?q=${y}`);v(e||[])}catch(e){console.error(e)}else v([])},500);return()=>clearTimeout(e)},[y]),(0,n.createElement)("form",{onSubmit:s(e=>{const a={...e,package_id:e.package_id?parseInt(e.package_id):0,sub_agent_id:e.sub_agent_id?parseInt(e.sub_agent_id):0,branch_id:e.branch_id?parseInt(e.branch_id):0,mahram_id:w?parseInt(w.id):0};t(a)}),className:"space-y-6 h-[75vh] overflow-y-auto px-2 pb-10"},(0,n.createElement)("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200"},(0,n.createElement)("h3",{className:"text-lg font-medium text-gray-900 mb-4 border-b pb-2"},"Data Pribadi"),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,n.createElement)(Er.Input,{label:"Nama Lengkap (Sesuai KTP/Paspor)",...l("full_name",{required:"Nama wajib diisi"}),error:i.full_name,placeholder:"Contoh: AHMAD SYAFIQ"}),(0,n.createElement)(Er.Input,{label:"NIK",...l("nik",{required:"NIK wajib diisi",minLength:{value:16,message:"16 digit"}}),error:i.nik,placeholder:"16 Digit Angka"}),(0,n.createElement)("div",{className:"grid grid-cols-2 gap-2"},(0,n.createElement)(Er.Select,{label:"Jenis Kelamin",...l("gender",{required:"Pilih jenis kelamin"}),options:[{value:"L",label:"Laki-laki"},{value:"P",label:"Perempuan"}],error:i.gender}),(0,n.createElement)(Er.Input,{label:"Tanggal Lahir",type:"date",...l("birth_date",{required:"Wajib diisi"}),error:i.birth_date})),(0,n.createElement)(Er.Input,{label:"Nomor Telepon / WA",...l("phone_number",{required:"No HP wajib diisi"}),error:i.phone_number,placeholder:"0812..."})),(0,n.createElement)("div",{className:"mt-4"},(0,n.createElement)(Er.TextArea,{label:"Alamat Lengkap",...l("address_details"),rows:2,placeholder:"Alamat lengkap..."}))),(0,n.createElement)("div",{className:"bg-blue-50 p-5 rounded-lg border border-blue-200"},(0,n.createElement)("h3",{className:"text-lg font-medium text-blue-900 mb-4 border-b border-blue-200 pb-2"},"Mahram & Keluarga"),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,n.createElement)("div",{className:"relative"},(0,n.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Cari Mahram (Jika ada)"),w?(0,n.createElement)("div",{className:"flex items-center justify-between bg-white p-2 border border-blue-300 rounded shadow-sm"},(0,n.createElement)("span",{className:"font-medium text-blue-800"},w.full_name),(0,n.createElement)("button",{type:"button",onClick:()=>N(null),className:"text-red-500 hover:text-red-700 text-sm font-bold px-2"},"X Hapus")):(0,n.createElement)("input",{type:"text",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ketik nama jamaah lain...",value:y,onChange:e=>x(e.target.value)}),!w&&E.length>0&&(0,n.createElement)("ul",{className:"absolute z-20 w-full bg-white border border-gray-300 mt-1 rounded-md shadow-lg max-h-40 overflow-y-auto"},E.map(e=>(0,n.createElement)("li",{key:e.id,onClick:()=>{N(e),v([]),x("")},className:"p-2 hover:bg-blue-50 cursor-pointer text-sm border-b last:border-0"},e.full_name," ",(0,n.createElement)("span",{className:"text-gray-400 text-xs"},"(",e.passport_number||"No Pass",")")))),(0,n.createElement)("p",{className:"text-xs text-gray-500 mt-1"},"Cari nama jamaah yang sudah terdaftar untuk dijadikan mahram.")),(0,n.createElement)(Er.Select,{label:"Hubungan Keluarga",...l("relation"),options:[{value:"",label:"- Pilih Hubungan -"},{value:"Suami",label:"Suami"},{value:"Istri",label:"Istri"},{value:"Ayah",label:"Ayah"},{value:"Ibu",label:"Ibu"},{value:"Anak",label:"Anak"},{value:"Saudara",label:"Saudara Kandung"},{value:"Lainnya",label:"Lainnya"}],disabled:!w}))),(0,n.createElement)("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200"},(0,n.createElement)("h3",{className:"text-lg font-medium text-gray-900 mb-4 border-b pb-2"},"Dokumen & Layanan"),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},(0,n.createElement)(Er.Input,{label:"Nomor Paspor",...l("passport_number"),placeholder:"X1234567"}),(0,n.createElement)(Er.Input,{label:"Tgl Terbit",type:"date",...l("passport_issued")}),(0,n.createElement)(Er.Input,{label:"Tgl Expired",type:"date",...l("passport_expiry")})),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,n.createElement)(Er.Select,{label:"Pilih Paket Umrah",...l("package_id"),options:[{value:"",label:"-- Pilih Paket --"},...m.map(e=>({value:e.id,label:`${e.name} (${new Date(e.departure_date).toLocaleDateString("id-ID")})`}))]}),(0,n.createElement)(Er.Select,{label:"Kantor Cabang",...l("branch_id"),options:[{value:"",label:"-- Pilih Cabang --"},...g.map(e=>({value:e.id,label:`${e.name} (${e.city})`}))]}),(0,n.createElement)(Er.Select,{label:"Agen / Sponsor",...l("sub_agent_id"),options:[{value:"",label:"-- Tanpa Agen --"},...u.map(e=>({value:e.id,label:e.name}))]}),(0,n.createElement)(Er.Select,{label:"Status Pendaftaran",...l("status"),options:[{value:"lead",label:"Lead / Prospek"},{value:"registered",label:"Terdaftar"},{value:"active",label:"Aktif (Lengkap)"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Batal"}]}))),(0,n.createElement)("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-4"},(0,n.createElement)(Er.Button,{variant:"secondary",onClick:a,type:"button"},"Batal"),(0,n.createElement)(Er.Button,{type:"submit",isLoading:f},e?"Simpan Perubahan":"Daftarkan Jamaah")))}const wr=()=>{const{data:e,loading:t,error:a,fetchData:r,createData:l,updateData:s,deleteData:i}=qe(),[o,c]=(0,n.useState)(""),[m,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null);(0,n.useEffect)(()=>{r()},[]);const g=e?.filter(e=>e.nama_lengkap?.toLowerCase().includes(o)||e.no_passport?.toLowerCase().includes(o))||[];return t&&!e?(0,n.createElement)(kt,null):(0,n.createElement)("div",{className:"p-6"},(0,n.createElement)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4"},(0,n.createElement)("div",null,(0,n.createElement)("h1",{className:"text-2xl font-bold text-gray-900"},"Data Jemaah"),(0,n.createElement)("p",{className:"text-sm text-gray-500"},"Kelola data jemaah Umrah & Haji")),(0,n.createElement)("button",{onClick:()=>{p(null),d(!0)},className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg shadow-md transition flex items-center gap-2"},(0,n.createElement)(ta,{size:18})," Tambah Jemaah")),(0,n.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 mb-6 flex flex-col sm:flex-row gap-4 justify-between items-center"},(0,n.createElement)("div",{className:"relative w-full sm:w-96"},(0,n.createElement)(Et,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,n.createElement)("input",{type:"text",placeholder:"Cari nama, paspor, atau NIK...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition",onChange:e=>c(e.target.value.toLowerCase())})),(0,n.createElement)("div",{className:"flex gap-2 w-full sm:w-auto"},(0,n.createElement)("button",{className:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-600 text-sm font-medium"},(0,n.createElement)(aa,{size:16})," Filter"))),(0,n.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},(0,n.createElement)("div",{className:"overflow-x-auto"},(0,n.createElement)("table",{className:"w-full text-left border-collapse"},(0,n.createElement)("thead",{className:"bg-gray-50"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Jemaah"),(0,n.createElement)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Paket"),(0,n.createElement)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider hidden md:table-cell"},"Kontak"),(0,n.createElement)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Status Pembayaran"),(0,n.createElement)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right"},"Aksi"))),(0,n.createElement)("tbody",{className:"divide-y divide-gray-100"},g.length>0?g.map((e,t)=>(0,n.createElement)("tr",{key:t,className:"hover:bg-emerald-50/30 transition-colors group"},(0,n.createElement)("td",{className:"p-4"},(0,n.createElement)("div",{className:"flex items-center gap-3"},(0,n.createElement)("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-700 font-bold text-sm"},e.nama_lengkap?.charAt(0)),(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"font-semibold text-gray-900"},e.nama_lengkap),(0,n.createElement)("div",{className:"text-xs text-gray-500"},e.nik||e.no_passport)))),(0,n.createElement)("td",{className:"p-4"},(0,n.createElement)("span",{className:"text-sm text-gray-700"},e.paket_name||"Belum Pilih Paket"),(0,n.createElement)("div",{className:"text-xs text-gray-400"},e.tgl_keberangkatan)),(0,n.createElement)("td",{className:"p-4 hidden md:table-cell"},(0,n.createElement)("div",{className:"flex flex-col text-sm text-gray-600"},(0,n.createElement)("span",{className:"flex items-center gap-1"},(0,n.createElement)(ra,{size:12})," ",e.no_telp))),(0,n.createElement)("td",{className:"p-4"},(0,n.createElement)("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium border\n                      "+("Lunas"===e.status_pembayaran?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-amber-100 text-amber-700 border-amber-200")},e.status_pembayaran||"Belum Bayar")),(0,n.createElement)("td",{className:"p-4 text-right"},(0,n.createElement)("div",{className:"flex justify-end gap-2"},(0,n.createElement)("button",{onClick:()=>(e=>{p(e),d(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit"},(0,n.createElement)(na,{size:16})),(0,n.createElement)("button",{onClick:()=>(async e=>{window.confirm("Apakah anda yakin ingin menghapus data jemaah ini?")&&(await i(e),r())})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Hapus"},(0,n.createElement)(la,{size:16})))))):(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"5",className:"p-8 text-center text-gray-400"},"Tidak ada data jemaah ditemukan.")))))),(0,n.createElement)(sa,{isOpen:m,onClose:()=>d(!1),title:u?"Edit Data Jemaah":"Tambah Jemaah Baru"},(0,n.createElement)(vr,{initialData:u,onSubmit:async e=>{u?await s(u.id,e):await l(e),d(!1),r()},onCancel:()=>d(!1)})))},Nr=Xe("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kr=Xe("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Sr=({size:e})=>(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,n.createElement)("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),(0,n.createElement)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})),Cr=({initialData:e,onSubmit:t,onCancel:a})=>{const{loading:r}=qe(),l={name:"",category:"Umrah",price_quad:"",price_triple:"",price_double:"",departure_date:"",program_days:9,hotel_makkah:"",hotel_madinah:"",airline:"",quota:45,status:"Open",description:""},[s,i]=(0,n.useState)(l);(0,n.useEffect)(()=>{e&&i({...l,...e})},[e]);const o=e=>{const{name:t,value:a}=e.target;i(e=>({...e,[t]:a}))};return(0,n.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{if(!s.name||!s.price_quad)return void alert("Nama Paket dan Harga Quad wajib diisi!");await t(s)}catch(e){console.error(e),alert("Gagal menyimpan paket: "+e.message)}},className:"space-y-6"},(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},(0,n.createElement)(Er.Input,{label:"Nama Paket",name:"name",value:s.name,onChange:o,placeholder:"Contoh: Umrah Akbar Syawal",required:!0}),(0,n.createElement)(Er.Select,{label:"Kategori",name:"category",value:s.category,onChange:o,options:[{value:"Umrah",label:"Umrah Reguler"},{value:"Umrah Plus",label:"Umrah Plus Wisata"},{value:"Haji",label:"Haji Khusus/Furoda"},{value:"Tour",label:"Halal Tour"}]}),(0,n.createElement)(Er.Input,{label:"Tanggal Keberangkatan",name:"departure_date",type:"date",value:s.departure_date,onChange:o,required:!0}),(0,n.createElement)(Er.Input,{label:"Durasi (Hari)",name:"program_days",type:"number",value:s.program_days,onChange:o})),(0,n.createElement)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200"},(0,n.createElement)("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2"},(0,n.createElement)(Sr,{size:16})," Harga Paket"),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,n.createElement)(Er.Input,{label:"Quad (Sekamar Ber-4)",name:"price_quad",type:"number",prefix:"Rp",value:s.price_quad,onChange:o,required:!0}),(0,n.createElement)(Er.Input,{label:"Triple (Sekamar Ber-3)",name:"price_triple",type:"number",prefix:"Rp",value:s.price_triple,onChange:o}),(0,n.createElement)(Er.Input,{label:"Double (Sekamar Ber-2)",name:"price_double",type:"number",prefix:"Rp",value:s.price_double,onChange:o}))),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},(0,n.createElement)(Er.Input,{label:"Hotel Makkah",name:"hotel_makkah",value:s.hotel_makkah,onChange:o,placeholder:"Nama Hotel"}),(0,n.createElement)(Er.Input,{label:"Hotel Madinah",name:"hotel_madinah",value:s.hotel_madinah,onChange:o,placeholder:"Nama Hotel"})),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},(0,n.createElement)(Er.Input,{label:"Maskapai",name:"airline",value:s.airline,onChange:o,placeholder:"Garuda/Saudia..."}),(0,n.createElement)(Er.Input,{label:"Kuota Seat",name:"quota",type:"number",value:s.quota,onChange:o}),(0,n.createElement)(Er.Select,{label:"Status",name:"status",value:s.status,onChange:o,options:[{value:"Open",label:"Open (Dibuka)"},{value:"Full",label:"Full Booked"},{value:"Closed",label:"Closed (Selesai)"},{value:"Draft",label:"Draft"}]})),(0,n.createElement)(Er.TextArea,{label:"Deskripsi / Fasilitas",name:"description",value:s.description,onChange:o,rows:3}),(0,n.createElement)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100"},(0,n.createElement)("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center gap-2"},(0,n.createElement)(Nr,{size:18})," Batal"),(0,n.createElement)("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 shadow-lg shadow-emerald-200 flex items-center gap-2 disabled:opacity-70"},r?"Menyimpan...":(0,n.createElement)(n.Fragment,null,(0,n.createElement)(kr,{size:18})," Simpan Paket"))))},_r=Xe("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),jr=Xe("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Ar=()=>{const{getPackages:e,deletePackage:t}=qe(),[a,r]=(0,n.useState)([]),[l,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)(!1),[c,m]=(0,n.useState)(null),[d,u]=(0,n.useState)("active"),p=async()=>{s(!0);try{const t=await e({status:"all"!==d?d:""});r(t||[])}catch(e){console.error("Error fetching packages:",e)}finally{s(!1)}};return(0,n.useEffect)(()=>{p()},[d]),(0,n.createElement)("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen"},(0,n.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4"},(0,n.createElement)("div",null,(0,n.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Manajemen Paket"),(0,n.createElement)("p",{className:"text-gray-500 text-sm mt-1"},"Atur jadwal keberangkatan dan harga paket.")),(0,n.createElement)("div",{className:"flex gap-3 w-full md:w-auto"},(0,n.createElement)("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none cursor-pointer",value:d,onChange:e=>u(e.target.value)},(0,n.createElement)("option",{value:"active"},"Paket Aktif"),(0,n.createElement)("option",{value:"full"},"Full Booked"),(0,n.createElement)("option",{value:"completed"},"Selesai"),(0,n.createElement)("option",{value:"all"},"Semua Status")),(0,n.createElement)("button",{onClick:()=>{m(null),o(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm flex items-center gap-2 transition transform active:scale-95"},(0,n.createElement)(ta,{size:18})," ",(0,n.createElement)("span",null,"Buat Paket")))),l?(0,n.createElement)(kt,{text:"Memuat data paket..."}):(0,n.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},(0,n.createElement)("div",{className:"overflow-x-auto"},(0,n.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,n.createElement)("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs font-bold tracking-wider"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"px-6 py-3 text-left"},"Nama Paket"),(0,n.createElement)("th",{className:"px-6 py-3 text-left"},"Keberangkatan"),(0,n.createElement)("th",{className:"px-6 py-3 text-left"},"Kategori"),(0,n.createElement)("th",{className:"px-6 py-3 text-left"},"Harga Mulai"),(0,n.createElement)("th",{className:"px-6 py-3 text-left"},"Status"),(0,n.createElement)("th",{className:"px-6 py-3 text-right"},"Aksi"))),(0,n.createElement)("tbody",{className:"bg-white divide-y divide-gray-200 text-sm"},0===a.length?(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-400 italic"},"Tidak ada paket yang ditemukan untuk filter ini.")):a.map(e=>(0,n.createElement)("tr",{key:e.id,className:"hover:bg-gray-50 transition-colors group"},(0,n.createElement)("td",{className:"px-6 py-4"},(0,n.createElement)("div",{className:"font-bold text-gray-900 text-base"},e.name),(0,n.createElement)("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1"},(0,n.createElement)(_r,{size:12}),(()=>{try{const t="string"==typeof e.hotels?JSON.parse(e.hotels):e.hotels;return Array.isArray(t)&&t.length>0?`${t.length} Hotel`:"Tanpa Hotel"}catch(e){return"-"}})())),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,n.createElement)("div",{className:"font-medium text-gray-900"},new Date(e.departure_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),(0,n.createElement)("div",{className:"text-xs text-blue-600 flex items-center gap-1 mt-0.5"},(0,n.createElement)(lt,{size:12})," ",e.airline_name||"-")),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,n.createElement)("span",{className:"px-2.5 py-0.5 inline-flex text-xs font-semibold rounded-full bg-blue-50 text-blue-700 border border-blue-100"},e.category_name||"Umum")),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap font-bold text-gray-700"},(e=>{if(!e||0===e.length)return"Belum ada harga";const t="string"==typeof e?JSON.parse(e):e;if(!Array.isArray(t))return"-";const a=t.map(e=>parseFloat(e.price));if(0===a.length)return"-";const r=Math.min(...a),n=Math.max(...a);return r===n?`Rp ${r.toLocaleString("id-ID")}`:`Rp ${r.toLocaleString("id-ID")} - ${n.toLocaleString("id-ID")}`})(e.pricing_variants)),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,n.createElement)("span",{className:"px-2.5 py-0.5 inline-flex text-xs font-semibold rounded-full border \n                                                    "+("active"===e.status?"bg-green-50 text-green-700 border-green-200":"full"===e.status?"bg-red-50 text-red-700 border-red-200":"bg-gray-100 text-gray-600 border-gray-200")},"active"===e.status?"Open":"full"===e.status?"Penuh":e.status)),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right"},(0,n.createElement)("div",{className:"flex justify-end gap-2 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity"},(0,n.createElement)("button",{onClick:()=>(e=>{m(e),o(!0)})(e),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition",title:"Edit Paket"},(0,n.createElement)(jr,{size:18})),(0,n.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Yakin hapus paket ini? Data yang dihapus tidak bisa dikembalikan."))try{await t(e),p()}catch(e){alert("Gagal menghapus: "+e.message)}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Hapus Paket"},(0,n.createElement)(la,{size:18})))))))))),(0,n.createElement)(sa,{isOpen:i,onClose:()=>o(!1),title:c?"Edit Paket":"Buat Paket Baru"},i&&(0,n.createElement)(Cr,{initialData:c,onSuccess:()=>{o(!1),p()},onCancel:()=>o(!1)})))};function Pr(){const{api:e}=qe(),[t,a]=(0,n.useState)("categories");return(0,n.createElement)("div",{className:"space-y-6"},(0,n.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Master Data"),(0,n.createElement)("div",{className:"flex border-b border-gray-200"},(0,n.createElement)("button",{className:"py-2 px-4 font-medium text-sm focus:outline-none "+("categories"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("categories")},"Kategori Paket"),(0,n.createElement)("button",{className:"py-2 px-4 font-medium text-sm focus:outline-none "+("hotels"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("hotels")},"Hotel"),(0,n.createElement)("button",{className:"py-2 px-4 font-medium text-sm focus:outline-none "+("airlines"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("airlines")},"Maskapai")),(0,n.createElement)("div",{className:"mt-6"},"categories"===t&&(0,n.createElement)(Dr,{api:e}),"hotels"===t&&(0,n.createElement)("div",{className:"p-4 bg-gray-50 rounded border text-center text-gray-500"},"Modul Hotel (Placeholder)"),"airlines"===t&&(0,n.createElement)("div",{className:"p-4 bg-gray-50 rounded border text-center text-gray-500"},"Modul Maskapai (Placeholder)")))}function Dr({api:e}){const[t,a]=(0,n.useState)("main"),[r,l]=(0,n.useState)([]),[s,i]=(0,n.useState)([]),[o,c]=(0,n.useState)(!1),[m,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),g=async()=>{c(!0);try{const a=await e.get("/categories?parent_id=0");if(i(a),"main"===t)l(a);else{const t=(await e.get("/categories?all=true")).filter(e=>e.parent_id&&0!=e.parent_id);l(t)}}catch(e){console.error(e)}finally{c(!1)}};return(0,n.useEffect)(()=>{g()},[t]),(0,n.createElement)("div",{className:"space-y-4"},(0,n.createElement)("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg"},(0,n.createElement)("div",{className:"space-x-2"},(0,n.createElement)("button",{onClick:()=>a("main"),className:"px-3 py-1 rounded text-sm font-medium "+("main"===t?"bg-white shadow text-blue-600":"text-gray-600 hover:bg-gray-200")},"Kategori Utama"),(0,n.createElement)("button",{onClick:()=>a("sub"),className:"px-3 py-1 rounded text-sm font-medium "+("sub"===t?"bg-white shadow text-blue-600":"text-gray-600 hover:bg-gray-200")},"Sub Kategori")),(0,n.createElement)("button",{onClick:()=>{p(null),d(!0)},className:"bg-blue-600 text-white px-3 py-1.5 rounded hover:bg-blue-700 text-sm"},"+ Tambah ","main"===t?"Kategori Utama":"Sub Kategori")),o?(0,n.createElement)(kt,null):(0,n.createElement)("div",{className:"bg-white border rounded-lg overflow-hidden"},(0,n.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,n.createElement)("thead",{className:"bg-gray-50"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Kategori"),"sub"===t&&(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Induk (Main)"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Slug"),(0,n.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,n.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},r.map(a=>{const r=s.find(e=>e.id==a.parent_id);return(0,n.createElement)("tr",{key:a.id},(0,n.createElement)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900"},a.name),"sub"===t&&(0,n.createElement)("td",{className:"px-6 py-4 text-sm text-gray-500"},r?r.name:"-"),(0,n.createElement)("td",{className:"px-6 py-4 text-sm text-gray-500"},a.slug),(0,n.createElement)("td",{className:"px-6 py-4 text-right text-sm font-medium space-x-2"},(0,n.createElement)("button",{onClick:()=>{p(a),d(!0)},className:"text-indigo-600"},"Edit"),(0,n.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus kategori ini?")&&(await e.delete(`/categories/${t}`),g())})(a.id),className:"text-red-600"},"Hapus")))}),0===r.length&&(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"4",className:"px-6 py-4 text-center text-sm text-gray-500"},"Tidak ada data."))))),(0,n.createElement)(sa,{isOpen:m,onClose:()=>d(!1),title:u?"Edit Kategori":"main"===t?"Tambah Kategori Utama":"Tambah Sub Kategori"},(0,n.createElement)(Mr,{api:e,initialData:u,isSub:"sub"===t,mainCategories:s,onSuccess:()=>{d(!1),g()},onCancel:()=>d(!1)})))}function Mr({api:e,initialData:t,isSub:a,mainCategories:r,onSuccess:l,onCancel:s}){const{register:i,handleSubmit:o,formState:{errors:c}}=ur({defaultValues:t||{name:"",description:"",parent_id:a?"":0}}),[m,d]=(0,n.useState)(!1);return(0,n.createElement)("form",{onSubmit:o(async r=>{d(!0);try{a||(r.parent_id=0),t?await e.put(`/categories/${t.id}`,r):await e.post("/categories",r),l()}catch(e){alert("Error saving category")}finally{d(!1)}}),className:"space-y-4"},a&&(0,n.createElement)(Er.Select,{label:"Kategori Utama (Induk)",...i("parent_id",{required:"Harap pilih kategori induk"}),options:r.map(e=>({value:e.id,label:e.name})),error:c.parent_id}),(0,n.createElement)(Er.Input,{label:"Nama Kategori",...i("name",{required:"Nama wajib diisi"}),error:c.name}),(0,n.createElement)(Er.TextArea,{label:"Deskripsi",...i("description")}),(0,n.createElement)("div",{className:"flex justify-end space-x-2 mt-4"},(0,n.createElement)(Er.Button,{variant:"secondary",type:"button",onClick:s},"Batal"),(0,n.createElement)(Er.Button,{type:"submit",isLoading:m},"Simpan")))}function Tr({initialData:e,onSubmit:t,onCancel:a}){const{register:r,handleSubmit:l,formState:{errors:s},reset:i}=ur();return(0,n.useEffect)(()=>{if(e){const t={...e,transaction_date:e.transaction_date?e.transaction_date.split("T")[0]:""};i(t)}else i({type:"out",transaction_date:(new Date).toISOString().split("T")[0],category:"Operasional"})},[e,i]),(0,n.createElement)("form",{onSubmit:l(t),className:"space-y-4"},(0,n.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,n.createElement)(Er.Select,{label:"Jenis Transaksi",...r("type",{required:!0}),options:[{value:"in",label:"Pemasukan (In)"},{value:"out",label:"Pengeluaran (Out)"}]}),(0,n.createElement)(Er.Input,{label:"Tanggal",type:"date",...r("transaction_date",{required:!0})})),(0,n.createElement)(Er.Input,{label:"Kategori",placeholder:"Contoh: Listrik, Gaji, Perlengkapan",...r("category",{required:"Kategori wajib diisi"}),error:s.category}),(0,n.createElement)(Er.Input,{label:"Jumlah (Rp)",type:"number",...r("amount",{required:"Nominal wajib diisi",min:1}),error:s.amount}),(0,n.createElement)(Er.TextArea,{label:"Keterangan / Deskripsi",rows:3,...r("description",{required:"Deskripsi wajib diisi"}),error:s.description}),(0,n.createElement)("div",{className:"flex justify-end space-x-2 pt-2"},(0,n.createElement)(Er.Button,{variant:"secondary",onClick:a,type:"button"},"Batal"),(0,n.createElement)(Er.Button,{type:"submit"},"Simpan Transaksi")))}const Lr=()=>{const{api:e}=qe(),[t,a]=(0,n.useState)(""),[r,l]=(0,n.useState)([]),[s,i]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),[m,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),{register:g,handleSubmit:h,reset:f,formState:{errors:b}}=ur();(0,n.useEffect)(()=>{const a=setTimeout(async()=>{if(t.length>2)try{const a=await e.get(`/jamaah/search?q=${t}`);l(a||[])}catch(e){console.error(e)}else l([])},500);return()=>clearTimeout(a)},[t]);const y=async t=>{d(!0);try{const r=await e.get(`/finance/jamaah/${t}`);c(r),i(r.jamaah),l([]),a("")}catch(e){console.error(e)}finally{d(!1)}},x=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e);return(0,n.createElement)("div",{className:"space-y-6"},(0,n.createElement)("div",{className:"relative max-w-xl mx-auto"},(0,n.createElement)("div",{className:"flex gap-2"},(0,n.createElement)("input",{type:"text",className:"w-full px-4 py-3 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Cari Nama Jemaah / No Paspor untuk melihat tagihan...",value:t,onChange:e=>a(e.target.value)})),r.length>0&&(0,n.createElement)("ul",{className:"absolute z-10 w-full bg-white border mt-1 rounded-lg shadow-xl max-h-60 overflow-y-auto"},r.map(e=>(0,n.createElement)("li",{key:e.id,onClick:()=>y(e.id),className:"px-4 py-3 hover:bg-blue-50 cursor-pointer border-b flex justify-between items-center"},(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"font-bold text-gray-800"},e.full_name),(0,n.createElement)("div",{className:"text-xs text-gray-500"},e.passport_number)),(0,n.createElement)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded"},"Lihat Tagihan"))))),m&&(0,n.createElement)(kt,{text:"Memuat Buku Besar..."}),!m&&o&&(0,n.createElement)("div",{className:"animate-fade-in"},(0,n.createElement)("div",{className:"flex justify-between items-start bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-6"},(0,n.createElement)("div",null,(0,n.createElement)("h2",{className:"text-2xl font-bold text-gray-800"},o.jamaah.name),(0,n.createElement)("p",{className:"text-gray-500"},"Paket: ",o.jamaah.package||"Belum pilih paket")),(0,n.createElement)("div",{className:"text-right"},(0,n.createElement)("button",{onClick:()=>p(!0),className:"bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700 shadow transition flex items-center gap-2"},(0,n.createElement)("span",{className:"dashicons dashicons-plus-alt2"})," Tambah Pembayaran"))),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},(0,n.createElement)("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100"},(0,n.createElement)("div",{className:"text-xs text-blue-600 uppercase font-bold mb-1"},"Total Tagihan"),(0,n.createElement)("div",{className:"text-xl font-bold text-blue-900"},x(o.summary.total_price))),(0,n.createElement)("div",{className:"bg-green-50 p-4 rounded-xl border border-green-100"},(0,n.createElement)("div",{className:"text-xs text-green-600 uppercase font-bold mb-1"},"Sudah Dibayar"),(0,n.createElement)("div",{className:"text-xl font-bold text-green-900"},x(o.summary.total_paid)),(0,n.createElement)("div",{className:"w-full bg-green-200 h-1.5 mt-2 rounded-full"},(0,n.createElement)("div",{className:"bg-green-600 h-1.5 rounded-full",style:{width:`${o.summary.progress}%`}}))),(0,n.createElement)("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100"},(0,n.createElement)("div",{className:"text-xs text-red-600 uppercase font-bold mb-1"},"Sisa Tagihan"),(0,n.createElement)("div",{className:"text-xl font-bold text-red-900"},x(o.summary.remaining)))),(0,n.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},(0,n.createElement)("div",{className:"px-6 py-4 border-b bg-gray-50 font-medium text-gray-700"},"Riwayat Transaksi"),(0,n.createElement)("table",{className:"w-full text-left text-sm"},(0,n.createElement)("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"px-6 py-3"},"Tanggal"),(0,n.createElement)("th",{className:"px-6 py-3"},"Keterangan"),(0,n.createElement)("th",{className:"px-6 py-3"},"Metode"),(0,n.createElement)("th",{className:"px-6 py-3 text-right"},"Jumlah"),(0,n.createElement)("th",{className:"px-6 py-3 text-center"},"Aksi"))),(0,n.createElement)("tbody",{className:"divide-y divide-gray-100"},0===o.history.length&&(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-400"},"Belum ada data pembayaran.")),o.history.map(e=>(0,n.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,n.createElement)("td",{className:"px-6 py-3 whitespace-nowrap"},new Date(e.payment_date).toLocaleDateString("id-ID")),(0,n.createElement)("td",{className:"px-6 py-3"},(0,n.createElement)("div",{className:"font-medium text-gray-900"},e.description),(0,n.createElement)("div",{className:"text-xs text-gray-400"},"ID: #",e.id)),(0,n.createElement)("td",{className:"px-6 py-3"},(0,n.createElement)("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs border capitalize"},e.payment_method)),(0,n.createElement)("td",{className:"px-6 py-3 text-right font-mono font-medium text-gray-800"},x(e.amount)),(0,n.createElement)("td",{className:"px-6 py-3 text-center"},(0,n.createElement)("button",{onClick:()=>(e=>{const t=`/wp-content/plugins/manajemenjfbanten/admin/print-receipt.php?id=${e}`;window.open(t,"_blank","width=900,height=600")})(e.id),className:"text-blue-600 hover:text-blue-800 text-xs font-medium border border-blue-200 px-3 py-1 rounded hover:bg-blue-50"},"üñ® Cetak Kwitansi")))))))),!m&&!o&&(0,n.createElement)("div",{className:"text-center py-20 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300"},(0,n.createElement)("div",{className:"text-4xl mb-3"},"üí∞"),(0,n.createElement)("h3",{className:"text-gray-600 font-medium"},"Buku Besar Pembayaran Jemaah"),(0,n.createElement)("p",{className:"text-gray-400 text-sm"},"Silakan cari nama jemaah di atas untuk melihat detail keuangan.")),u&&(0,n.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},(0,n.createElement)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in"},(0,n.createElement)("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50"},(0,n.createElement)("h3",{className:"font-bold text-gray-800"},"Input Pembayaran Baru"),(0,n.createElement)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-red-500"},"‚úï")),(0,n.createElement)("form",{onSubmit:h(async t=>{if(o)try{await e.post("/finance/payment",{...t,jamaah_id:o.jamaah.id,jamaah_name:o.jamaah.name}),p(!1),f(),y(o.jamaah.id),alert("Pembayaran berhasil disimpan!")}catch(e){console.error(e),alert("Gagal menyimpan pembayaran")}}),className:"p-6 space-y-4"},(0,n.createElement)(Er.Input,{label:"Tanggal Bayar",type:"date",defaultValue:(new Date).toISOString().split("T")[0],...g("date",{required:!0})}),(0,n.createElement)(Er.Input,{label:"Nominal (Rp)",type:"number",placeholder:"Contoh: 5000000",...g("amount",{required:!0,min:1e3})}),(0,n.createElement)(Er.Select,{label:"Metode Pembayaran",...g("method"),options:[{value:"transfer",label:"Transfer Bank"},{value:"cash",label:"Tunai / Cash"},{value:"qris",label:"QRIS"}]}),(0,n.createElement)(Er.TextArea,{label:"Keterangan (Untuk Kwitansi)",placeholder:"Contoh: Pembayaran DP Paket Umrah Reguler",...g("description",{required:!0}),rows:2}),(0,n.createElement)("div",{className:"pt-4 flex gap-3"},(0,n.createElement)("button",{type:"button",onClick:()=>p(!1),className:"flex-1 py-2 border rounded text-gray-600 hover:bg-gray-50"},"Batal"),(0,n.createElement)("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-medium"},"Simpan"))))))},Rr=()=>{const{api:e}=qe(),[t,a]=(0,n.useState)("ledger"),[r,s]=(0,n.useState)(!1),[i,o]=(0,n.useState)([]),[c,m]=(0,n.useState)(!1),d=async()=>{m(!0);try{const t=await e.get("/finance/cashflow");o(t||[])}catch(e){console.error(e)}finally{m(!1)}};return l().useEffect(()=>{"cashflow"===t&&d()},[t]),(0,n.createElement)("div",{className:"space-y-6"},(0,n.createElement)("div",{className:"flex justify-between items-center"},(0,n.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Keuangan & Pembayaran")),(0,n.createElement)("div",{className:"border-b border-gray-200"},(0,n.createElement)("nav",{className:"-mb-px flex space-x-8"},(0,n.createElement)("button",{onClick:()=>a("ledger"),className:("ledger"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2"},(0,n.createElement)("span",{className:"dashicons dashicons-book"})," Buku Besar Jemaah"),(0,n.createElement)("button",{onClick:()=>a("cashflow"),className:("cashflow"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2"},(0,n.createElement)("span",{className:"dashicons dashicons-chart-line"})," Arus Kas (Cashflow)"))),"ledger"===t&&(0,n.createElement)(Lr,null),"cashflow"===t&&(0,n.createElement)("div",{className:"space-y-6"},(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},(0,n.createElement)(At,{title:"Pemasukan Bulan Ini",value:"Rp 150.000.000",type:"increase",percentage:"12%"}),(0,n.createElement)(At,{title:"Pengeluaran Bulan Ini",value:"Rp 45.000.000",type:"decrease",percentage:"5%"}),(0,n.createElement)(At,{title:"Saldo Kas",value:"Rp 105.000.000"})),(0,n.createElement)("div",{className:"bg-white shadow rounded-lg overflow-hidden"},(0,n.createElement)("div",{className:"px-6 py-4 border-b flex justify-between items-center"},(0,n.createElement)("h3",{className:"font-medium text-gray-900"},"Jurnal Transaksi Umum"),(0,n.createElement)("button",{onClick:()=>s(!0),className:"text-sm bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700"},"+ Catat Transaksi")),c?(0,n.createElement)(kt,null):(0,n.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,n.createElement)("thead",{className:"bg-gray-50"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kategori"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Deskripsi"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Masuk"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Keluar"))),(0,n.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},0===i.length&&(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"5",className:"p-4 text-center text-gray-400"},"Belum ada data")),i.map(e=>(0,n.createElement)("tr",{key:e.id},(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},new Date(e.transaction_date).toLocaleDateString()),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},e.category),(0,n.createElement)("td",{className:"px-6 py-4 text-sm text-gray-500"},e.description),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium"},"in"===e.type?`Rp ${parseInt(e.amount).toLocaleString()}`:"-"),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-medium"},"out"===e.type?`Rp ${parseInt(e.amount).toLocaleString()}`:"-"))))))),(0,n.createElement)(sa,{isOpen:r,onClose:()=>s(!1),title:"Catat Transaksi Kas"},(0,n.createElement)(Tr,{onSubmit:t=>{e.post("/finance/transaction",t).then(()=>{s(!1),d()})},onCancel:()=>s(!1)})))},Fr=()=>(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,n.createElement)("polyline",{points:"6 9 6 2 18 2 18 9"}),(0,n.createElement)("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),(0,n.createElement)("rect",{x:"6",y:"14",width:"12",height:"8"})),Or=()=>(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,n.createElement)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,n.createElement)("polyline",{points:"7 10 12 15 17 10"}),(0,n.createElement)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),$r=()=>{const{api:e}=qe(),[t,a]=(0,n.useState)([]),[r,l]=(0,n.useState)(""),[s,i]=(0,n.useState)(null),[o,c]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{e.get("/packages?status=active").then(e=>a(e||[])).catch(console.error)},[]),(0,n.createElement)("div",{className:"p-6 space-y-6 min-h-screen bg-gray-50"},(0,n.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 print:hidden"},(0,n.createElement)("div",null,(0,n.createElement)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2"},"Manifest Keberangkatan"),(0,n.createElement)("p",{className:"text-sm text-gray-500"},"Daftar penumpang, mahram, dan rooming list.")),(0,n.createElement)("div",{className:"flex gap-2"},(0,n.createElement)("select",{className:"border rounded p-2 bg-white shadow-sm",value:r,onChange:t=>{l(t.target.value),(async t=>{if(t){c(!0);try{const a=await e.get(`/manifest/${t}`);i(a)}catch(e){console.error(e)}finally{c(!1)}}})(t.target.value)}},(0,n.createElement)("option",{value:""},"-- Pilih Paket Keberangkatan --"),t.map(e=>(0,n.createElement)("option",{key:e.id,value:e.id},e.name," (",new Date(e.departure_date).toLocaleDateString("id-ID"),")"))))),o?(0,n.createElement)(kt,{text:"Mengambil data manifest..."}):s?(0,n.createElement)("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden print:shadow-none print:w-full"},(0,n.createElement)("div",{className:"p-6 border-b bg-blue-50 print:bg-white print:border-b-2 print:border-black"},(0,n.createElement)("div",{className:"flex justify-between items-end"},(0,n.createElement)("div",null,(0,n.createElement)("h2",{className:"text-xl font-bold uppercase tracking-wide text-gray-800 print:text-black"},s.package.name),(0,n.createElement)("div",{className:"text-gray-600 print:text-black mt-1 text-sm"},(0,n.createElement)("span",{className:"mr-4"},"‚úàÔ∏è ",s.package.airline_name||"Belum set maskapai"),(0,n.createElement)("span",null,"üìÖ ",new Date(s.package.departure_date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})))),(0,n.createElement)("div",{className:"text-right text-sm print:text-xs"},(0,n.createElement)("p",null,"Total: ",(0,n.createElement)("strong",{className:"text-lg"},s.stats.total)," Pax"),(0,n.createElement)("p",{className:"text-gray-500 print:text-black"},"L: ",s.stats.pria," | P: ",s.stats.wanita))),(0,n.createElement)("div",{className:"mt-4 flex gap-2 print:hidden"},(0,n.createElement)("button",{onClick:()=>window.print(),className:"flex items-center gap-1 px-3 py-1.5 bg-gray-800 text-white rounded text-sm hover:bg-black transition"},(0,n.createElement)(Fr,null)," Cetak Manifest"),(0,n.createElement)("button",{onClick:()=>{if(!s||!s.manifest)return;let e="data:text/csv;charset=utf-8,"+[["No","Nama Lengkap","Gender","No Paspor","NIK","Mahram","Hubungan","Hotel","No Kamar"],...s.manifest.map((e,t)=>[t+1,e.full_name,e.gender,e.passport_number||"-","'"+(e.nik||"-"),e.mahram_name||"-",e.relation||"-",e.hotel_name||"-",e.room_number?`${e.room_number} (${e.room_type})`:"-"])].map(e=>e.join(",")).join("\n");const t=encodeURI(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download",`manifest_paket_${r}.csv`),document.body.appendChild(a),a.click()},className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition"},(0,n.createElement)(Or,null)," Export CSV"))),(0,n.createElement)("div",{className:"overflow-x-auto"},(0,n.createElement)("table",{className:"w-full text-sm text-left"},(0,n.createElement)("thead",{className:"bg-gray-100 text-gray-600 uppercase text-xs font-bold print:bg-gray-200 print:text-black"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"px-4 py-3 w-10 border-b"},"No"),(0,n.createElement)("th",{className:"px-4 py-3 border-b"},"Nama Jamaah"),(0,n.createElement)("th",{className:"px-4 py-3 w-16 border-b"},"L/P"),(0,n.createElement)("th",{className:"px-4 py-3 border-b"},"No. Paspor"),(0,n.createElement)("th",{className:"px-4 py-3 border-b"},"Mahram / Keluarga"),(0,n.createElement)("th",{className:"px-4 py-3 border-b"},"Hotel & Kamar"))),(0,n.createElement)("tbody",{className:"divide-y divide-gray-200"},0===s.manifest.length&&(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"6",className:"p-6 text-center text-gray-400"},"Belum ada jamaah terdaftar di paket ini.")),s.manifest.map((e,t)=>(0,n.createElement)("tr",{key:e.id,className:"hover:bg-gray-50 print:hover:bg-transparent"},(0,n.createElement)("td",{className:"px-4 py-2 border-b print:border-gray-300"},t+1),(0,n.createElement)("td",{className:"px-4 py-2 font-medium border-b print:border-gray-300"},e.full_name,(0,n.createElement)("div",{className:"text-xs text-gray-400 print:hidden"},"NIK: ",e.nik)),(0,n.createElement)("td",{className:"px-4 py-2 border-b print:border-gray-300"},e.gender),(0,n.createElement)("td",{className:"px-4 py-2 font-mono border-b print:border-gray-300"},e.passport_number||"-"),(0,n.createElement)("td",{className:"px-4 py-2 text-gray-600 border-b print:border-gray-300"},e.mahram_name?(0,n.createElement)("span",null,e.mahram_name," ",(0,n.createElement)("span",{className:"text-xs bg-gray-100 px-1 rounded border print:border-black print:bg-transparent"},"(",e.relation,")")):"-"),(0,n.createElement)("td",{className:"px-4 py-2 border-b print:border-gray-300"},e.room_number?(0,n.createElement)("div",{className:"flex flex-col"},(0,n.createElement)("span",{className:"font-bold text-blue-600 print:text-black"},"Kamar ",e.room_number),(0,n.createElement)("span",{className:"text-xs text-gray-500 print:text-black"},e.hotel_name," (",e.room_type,")")):(0,n.createElement)("span",{className:"text-red-400 text-xs italic print:text-gray-400"},"Belum plotting"))))))),(0,n.createElement)("div",{className:"hidden print:block mt-6 pt-4 border-t text-sm"},(0,n.createElement)("p",null,"Dicetak pada: ",(new Date).toLocaleString("id-ID")),(0,n.createElement)("p",null,"Oleh sistem Manajemen Travel Umroh"))):(0,n.createElement)("div",{className:"text-center py-20 border-2 border-dashed border-gray-300 rounded-xl text-gray-400 bg-white"},(0,n.createElement)("p",{className:"text-lg"},"Silakan pilih paket di atas untuk melihat manifest.")))},zr=({initialData:e,closeModal:t})=>{const{createOrUpdate:a}=qe(),[r,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)({name:e?.name||"",phone:e?.phone||"",email:e?.email||"",address:e?.address||"",city:e?.city||"",status:e?.status||"active"}),o=e=>i({...s,[e.target.name]:e.target.value});return(0,n.createElement)("form",{onSubmit:async r=>{r.preventDefault(),l(!0);try{await a("sub_agents",s,e?.id),t()}catch(e){alert(e.message)}finally{l(!1)}},className:"space-y-4 p-2"},(0,n.createElement)(fr,{label:"Nama Agen / Travel",name:"name",value:s.name,onChange:o,required:!0}),(0,n.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,n.createElement)(fr,{label:"No. Telepon",name:"phone",value:s.phone,onChange:o,required:!0}),(0,n.createElement)(fr,{label:"Email",type:"email",name:"email",value:s.email,onChange:o})),(0,n.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,n.createElement)(fr,{label:"Kota Domisili",name:"city",value:s.city,onChange:o}),(0,n.createElement)(br,{label:"Status",name:"status",value:s.status,onChange:o},(0,n.createElement)("option",{value:"active"},"Aktif"),(0,n.createElement)("option",{value:"inactive"},"Tidak Aktif"))),(0,n.createElement)(fr,{label:"Alamat Lengkap",name:"address",value:s.address,onChange:o}),(0,n.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,n.createElement)(xr,{type:"button",variant:"secondary",onClick:t},"Batal"),(0,n.createElement)(xr,{type:"submit",disabled:r},r?"Menyimpan...":"Simpan")))},Vr=Xe("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Br=()=>{const{api:e}=qe(),[t,a]=(0,n.useState)([]),[r,l]=(0,n.useState)(!0),[s,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(null),m=async()=>{l(!0);try{const t=await e.get("/sub-agents");a(t.data||[])}catch(e){console.error(e)}finally{l(!1)}};return(0,n.useEffect)(()=>{m()},[]),(0,n.createElement)("div",{className:"p-6 space-y-6"},(0,n.createElement)("div",{className:"flex justify-between items-center"},(0,n.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Data Sub Agent"),(0,n.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex gap-2 items-center"},(0,n.createElement)(Vr,{size:18})," Tambah Agent")),r?(0,n.createElement)(kt,null):(0,n.createElement)("div",{className:"bg-white rounded shadow overflow-hidden"},(0,n.createElement)("table",{className:"w-full text-left text-sm"},(0,n.createElement)("thead",{className:"bg-gray-50 border-b uppercase text-gray-500"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"p-4"},"Nama"),(0,n.createElement)("th",{className:"p-4"},"Kontak"),(0,n.createElement)("th",{className:"p-4"},"Status"),(0,n.createElement)("th",{className:"p-4 text-right"},"Aksi"))),(0,n.createElement)("tbody",{className:"divide-y"},t.map(t=>(0,n.createElement)("tr",{key:t.id},(0,n.createElement)("td",{className:"p-4 font-medium"},t.name),(0,n.createElement)("td",{className:"p-4"},t.phone," ",(0,n.createElement)("br",null),(0,n.createElement)("span",{className:"text-xs text-gray-400"},t.email)),(0,n.createElement)("td",{className:"p-4"},(0,n.createElement)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs"},t.status)),(0,n.createElement)("td",{className:"p-4 text-right flex justify-end gap-2"},(0,n.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-blue-600"},(0,n.createElement)(jr,{size:16})),(0,n.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus agen ini?")&&(await e.delete(`/sub-agents/${t}`),m())})(t.id),className:"text-red-600"},(0,n.createElement)(la,{size:16})))))))),(0,n.createElement)(sa,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Agent":"Tambah Agent"},(0,n.createElement)(zr,{initialData:o,closeModal:()=>i(!1),onSuccess:()=>{i(!1),m()}})," "))},Ir=Xe("bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]),Hr=Xe("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Kr=()=>{const{api:e}=qe(),[t,a]=(0,n.useState)([]),[r,l]=(0,n.useState)(""),[s,i]=(0,n.useState)([]),[o,c]=(0,n.useState)(""),[m,d]=(0,n.useState)(null),[u,p]=(0,n.useState)(!1),[g,h]=(0,n.useState)(!1),[f,b]=(0,n.useState)({number:"",type:"Quad",guests:[]});(0,n.useEffect)(()=>{(async()=>{try{const t=await e.get("/packages?status=active");a(t.data||[])}catch(e){console.error("Gagal load paket",e)}})()},[]),(0,n.useEffect)(()=>{if(!r)return i([]),void c("");const e=t.find(e=>e.id==r);e&&e.hotels?i(e.hotels):i([])},[r,t]);const y=async()=>{if(o){p(!0);try{const t=await e.get(`/rooming/${o}`);d(t.data)}catch(e){console.error(e),e.response&&404!==e.response.status&&alert("Gagal memuat data rooming.")}finally{p(!1)}}};return(0,n.useEffect)(()=>{o?y():d(null)},[o]),(0,n.createElement)("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen"},(0,n.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},(0,n.createElement)("div",null,(0,n.createElement)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2"},(0,n.createElement)(Ir,{className:"text-blue-600"})," Rooming List"),(0,n.createElement)("p",{className:"text-gray-500 text-sm"},"Manajemen pembagian kamar hotel jamaah")),(0,n.createElement)("div",{className:"flex items-center gap-2 bg-gray-100 p-1 rounded-lg"},(0,n.createElement)("select",{className:"bg-transparent border-none focus:ring-0 text-sm font-medium text-gray-700 py-2 px-3 cursor-pointer",value:r,onChange:e=>{l(e.target.value),c("")}},(0,n.createElement)("option",{value:""},"-- 1. Pilih Paket --"),t.map(e=>(0,n.createElement)("option",{key:e.id,value:e.id},e.name))),(0,n.createElement)(Hr,{size:16,className:"text-gray-400"}),(0,n.createElement)("select",{className:"bg-transparent border-none focus:ring-0 text-sm font-medium text-gray-700 py-2 px-3 cursor-pointer",value:o,onChange:e=>c(e.target.value),disabled:!r},(0,n.createElement)("option",{value:""},"-- 2. Pilih Hotel --"),s.map(e=>(0,n.createElement)("option",{key:e.id,value:e.id},e.hotel_name," (",e.city,")"))))),o?u?(0,n.createElement)(kt,null):m?(0,n.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},(0,n.createElement)("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border flex flex-col h-[calc(100vh-200px)] sticky top-6"},(0,n.createElement)("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center rounded-t-xl"},(0,n.createElement)("h3",{className:"font-bold text-gray-700 flex items-center gap-2"},(0,n.createElement)(rt,{size:18})," Belum Dapat Kamar"),(0,n.createElement)("span",{className:"bg-red-100 text-red-600 px-2 py-0.5 rounded-full text-xs font-bold"},m.unassigned.length)),(0,n.createElement)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2"},0===m.unassigned.length&&(0,n.createElement)("div",{className:"text-center py-10 text-gray-400 text-sm italic"},(0,n.createElement)(Dt,{size:32,className:"mx-auto mb-2 text-green-400"}),"Semua jamaah sudah dapat kamar!"),m.unassigned.map(e=>(0,n.createElement)("div",{key:e.booking_id,className:"p-3 border rounded-lg hover:bg-blue-50 cursor-pointer flex justify-between items-center group transition-colors"},(0,n.createElement)("div",null,(0,n.createElement)("p",{className:"font-medium text-sm text-gray-800"},e.full_name),(0,n.createElement)("div",{className:"flex gap-2 mt-1"},(0,n.createElement)("span",{className:"text-[10px] px-1.5 py-0.5 rounded "+("L"===e.gender?"bg-blue-100 text-blue-600":"bg-pink-100 text-pink-600")},"L"===e.gender?"Pria":"Wanita"),(0,n.createElement)("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded border"},"Req: ",e.selected_room_type))),(0,n.createElement)("button",{onClick:()=>{b(t=>({...t,guests:[e.booking_id]})),h(!0)},className:"opacity-0 group-hover:opacity-100 bg-blue-600 text-white p-1.5 rounded-md shadow hover:bg-blue-700 transition-all",title:"Buat Kamar Baru dengan Jamaah ini"},(0,n.createElement)(ta,{size:14}))))),(0,n.createElement)("div",{className:"p-4 border-t bg-gray-50 rounded-b-xl"},(0,n.createElement)("button",{onClick:()=>h(!0),className:"w-full bg-blue-600 text-white py-2.5 rounded-lg text-sm font-medium hover:bg-blue-700 flex justify-center items-center gap-2 shadow-sm"},(0,n.createElement)(ta,{size:16})," Buat Kamar Baru"))),(0,n.createElement)("div",{className:"lg:col-span-2 space-y-4"},(0,n.createElement)("div",{className:"flex justify-between items-center"},(0,n.createElement)("h3",{className:"font-bold text-gray-700"},"Daftar Kamar Terisi (",m.rooms.length,")")),0===m.rooms.length&&(0,n.createElement)("div",{className:"p-12 text-center text-gray-400 bg-white rounded-xl border border-dashed"},"Belum ada kamar yang dibuat untuk hotel ini.",(0,n.createElement)("br",null),'Klik tombol "Buat Kamar Baru" di panel kiri.'),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},m.rooms.map(t=>(0,n.createElement)("div",{key:t.id,className:"bg-white border rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow"},(0,n.createElement)("div",{className:"bg-gray-800 text-white p-3 flex justify-between items-center"},(0,n.createElement)("div",null,(0,n.createElement)("h4",{className:"font-bold text-lg"},"Kamar ",t.room_number),(0,n.createElement)("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded text-gray-200"},t.room_type," (",t.guests.length," Org)")),(0,n.createElement)("button",{onClick:()=>(async t=>{if(confirm("Hapus kamar ini? Penghuni akan kembali ke status 'Belum Dapat Kamar'."))try{await e.delete(`/rooming/room/${t}`),y()}catch(e){alert("Gagal menghapus kamar")}})(t.id),className:"text-gray-400 hover:text-red-400 p-1 rounded hover:bg-gray-700 transition-colors"},(0,n.createElement)(la,{size:18}))),(0,n.createElement)("div",{className:"p-3 space-y-2 bg-white min-h-[100px]"},t.guests.map((e,t)=>(0,n.createElement)("div",{key:e.guest_id,className:"flex items-center gap-3 text-sm border-b border-gray-50 pb-2 last:border-0 last:pb-0"},(0,n.createElement)("span",{className:"text-xs text-gray-400 w-4"},t+1,"."),(0,n.createElement)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white "+("L"===e.gender?"bg-blue-500":"bg-pink-500")},e.gender),(0,n.createElement)("span",{className:"text-gray-700 font-medium"},e.full_name))),0===t.guests.length&&(0,n.createElement)("div",{className:"h-full flex items-center justify-center text-xs text-red-400 bg-red-50 rounded py-4"},"Kamar Kosong"))))))):null:(0,n.createElement)("div",{className:"text-center py-20 bg-white rounded-xl border border-dashed border-gray-300"},(0,n.createElement)(Ir,{size:48,className:"mx-auto mb-4 text-gray-300"}),(0,n.createElement)("h3",{className:"text-lg font-medium text-gray-500"},"Silakan pilih Paket dan Hotel terlebih dahulu"),(0,n.createElement)("p",{className:"text-sm text-gray-400"},"Data kamar dan jamaah akan muncul di sini.")),g&&m&&(0,n.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},(0,n.createElement)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in duration-200"},(0,n.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,n.createElement)("h2",{className:"text-xl font-bold text-gray-800"},"Setup Kamar Baru"),(0,n.createElement)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600"},"‚úï")),(0,n.createElement)("div",{className:"grid grid-cols-2 gap-4 mb-6"},(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"block text-sm font-medium mb-1.5 text-gray-700"},"Nomor Kamar"),(0,n.createElement)("input",{autoFocus:!0,type:"text",className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Cth: 101, 205",value:f.number,onChange:e=>b({...f,number:e.target.value})})),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"block text-sm font-medium mb-1.5 text-gray-700"},"Tipe Kamar"),(0,n.createElement)("select",{className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none",value:f.type,onChange:e=>b({...f,type:e.target.value})},(0,n.createElement)("option",{value:"Quad"},"Quad (Isi 4)"),(0,n.createElement)("option",{value:"Triple"},"Triple (Isi 3)"),(0,n.createElement)("option",{value:"Double"},"Double (Isi 2)")))),(0,n.createElement)("div",{className:"mb-6"},(0,n.createElement)("div",{className:"flex justify-between items-end mb-2"},(0,n.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Pilih Jamaah (",f.guests.length," terpilih)"),(0,n.createElement)("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded"},"Klik nama untuk memilih")),(0,n.createElement)("div",{className:"border border-gray-200 rounded-xl p-3 max-h-60 overflow-y-auto grid grid-cols-1 sm:grid-cols-2 gap-2 bg-gray-50"},0===m.unassigned.length&&(0,n.createElement)("p",{className:"col-span-2 text-center text-gray-400 py-4"},"Tidak ada jamaah tersisa."),m.unassigned.map(e=>{const t=f.guests.includes(e.booking_id);return(0,n.createElement)("div",{key:e.booking_id,onClick:()=>(e=>{const t=f.guests;if(t.includes(e))b({...f,guests:t.filter(t=>t!==e)});else{const a={Quad:4,Triple:3,Double:2};if(t.length>=a[f.type])return void alert(`Maksimal ${a[f.type]} orang untuk tipe kamar ${f.type}`);b({...f,guests:[...t,e]})}})(e.booking_id),className:"p-2.5 rounded-lg cursor-pointer border transition-all flex items-center gap-3 "+(t?"bg-blue-600 border-blue-600 text-white shadow-md transform scale-[1.02]":"bg-white border-gray-200 text-gray-600 hover:border-blue-300")},t?(0,n.createElement)(Dt,{size:18,className:"text-white"}):(0,n.createElement)("div",{className:"w-[18px] h-[18px] rounded-full border border-gray-300"}),(0,n.createElement)("div",{className:"truncate text-sm font-medium"},e.full_name,(0,n.createElement)("span",{className:"ml-1 text-xs opacity-70 font-normal"},"(",e.gender,")")))}))),(0,n.createElement)("div",{className:"flex justify-end gap-3 pt-4 border-t"},(0,n.createElement)("button",{onClick:()=>h(!1),className:"px-5 py-2.5 text-gray-600 hover:bg-gray-100 rounded-lg font-medium transition-colors"},"Batal"),(0,n.createElement)("button",{onClick:async t=>{if(t.preventDefault(),0!==f.guests.length)try{await e.post(`/rooming/${o}`,{room_number:f.number,room_type:f.type,booking_ids:f.guests}),h(!1),b({number:"",type:"Quad",guests:[]}),y()}catch(t){alert("Gagal membuat kamar.")}else alert("Pilih minimal 1 jamaah untuk masuk kamar ini.")},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium shadow-lg shadow-blue-200 transition-all transform active:scale-95"},"Simpan Kamar")))))};function Ur(){const{api:e}=qe(),[t,a]=(0,n.useState)([]),[r,l]=(0,n.useState)(!0),[s,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(null),m=async()=>{l(!0);try{const t=await e.get("/inventory");a(t)}catch(e){console.error(e)}finally{l(!1)}};return(0,n.useEffect)(()=>{m()},[]),r?(0,n.createElement)(kt,null):(0,n.createElement)("div",{className:"space-y-6"},(0,n.createElement)("div",{className:"flex justify-between items-center"},(0,n.createElement)("div",null,(0,n.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Logistik & Perlengkapan"),(0,n.createElement)("p",{className:"text-sm text-gray-500"},"Atur stok koper, kain ihram, batik, dan buku panduan.")),(0,n.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"+ Tambah Barang")),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,n.createElement)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200"},(0,n.createElement)("h3",{className:"font-bold text-blue-800"},"Total Item Fisik"),(0,n.createElement)("p",{className:"text-2xl font-bold"},t.reduce((e,t)=>e+parseInt(t.stock_quantity),0)," ",(0,n.createElement)("span",{className:"text-sm font-normal"},"unit"))),(0,n.createElement)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200"},(0,n.createElement)("h3",{className:"font-bold text-orange-800"},"Perlu Restock"),(0,n.createElement)("p",{className:"text-2xl font-bold"},t.filter(e=>parseInt(e.stock_quantity)<10).length," ",(0,n.createElement)("span",{className:"text-sm font-normal"},"jenis barang")))),(0,n.createElement)("div",{className:"bg-white shadow rounded-lg overflow-hidden"},(0,n.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,n.createElement)("thead",{className:"bg-gray-50"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Barang"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tipe"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Stok Tersedia"),(0,n.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,n.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,n.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,n.createElement)("td",{className:"px-6 py-4"},(0,n.createElement)("div",{className:"text-sm font-medium text-gray-900"},t.name),(0,n.createElement)("div",{className:"text-xs text-gray-500"},t.description)),(0,n.createElement)("td",{className:"px-6 py-4"},(0,n.createElement)("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 capitalize"},t.type)),(0,n.createElement)("td",{className:"px-6 py-4"},(0,n.createElement)("div",{className:"text-sm font-bold "+(t.stock_quantity<10?"text-red-600":"text-green-600")},t.stock_quantity," ",t.unit)),(0,n.createElement)("td",{className:"px-6 py-4 text-right text-sm font-medium space-x-2"},(0,n.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-indigo-600 hover:text-indigo-900"},"Edit"),(0,n.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus barang ini dari sistem?")&&(await e.delete(`/inventory/${t}`),m())})(t.id),className:"text-red-600 hover:text-red-900"},"Hapus")))),0===t.length&&(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"4",className:"px-6 py-8 text-center text-gray-500"},"Belum ada data logistik."))))),(0,n.createElement)(sa,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Stok Barang":"Tambah Barang Baru"},(0,n.createElement)(qr,{initialData:o,onSubmit:async t=>{try{o?await e.put(`/inventory/${o.id}`,t):await e.post("/inventory",t),i(!1),c(null),m()}catch(e){alert("Gagal menyimpan data")}},onCancel:()=>i(!1)})))}function qr({initialData:e,onSubmit:t,onCancel:a}){const{register:r,handleSubmit:l,formState:{errors:s}}=ur({defaultValues:e||{name:"",stock_quantity:0,unit:"pcs",type:"equipment",description:""}});return(0,n.createElement)("form",{onSubmit:l(t),className:"space-y-4"},(0,n.createElement)(Er.Input,{label:"Nama Barang",placeholder:"Contoh: Koper Fiber 24 Inch",...r("name",{required:"Nama barang wajib diisi"}),error:s.name}),(0,n.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,n.createElement)(Er.Input,{label:"Stok Awal",type:"number",...r("stock_quantity",{required:!0,min:0})}),(0,n.createElement)(Er.Input,{label:"Satuan",placeholder:"pcs, set, lusin",...r("unit")})),(0,n.createElement)(Er.Select,{label:"Tipe Barang",...r("type"),options:[{value:"equipment",label:"Perlengkapan (Koper/Ihram)"},{value:"souvenir",label:"Souvenir / Hadiah"},{value:"document",label:"Dokumen / ID Card"}]}),(0,n.createElement)(Er.TextArea,{label:"Deskripsi / Catatan",...r("description")}),(0,n.createElement)("div",{className:"flex justify-end space-x-2 pt-4"},(0,n.createElement)(Er.Button,{variant:"secondary",type:"button",onClick:a},"Batal"),(0,n.createElement)(Er.Button,{type:"submit"},"Simpan")))}const Wr=[{id:"dashboard",label:"Dashboard"},{id:"packages",label:"Manajemen Paket"},{id:"jamaah",label:"Data Jamaah"},{id:"transactions",label:"Transaksi & Keuangan"},{id:"rooming",label:"Rooming List"},{id:"marketing",label:"Marketing & Leads"},{id:"hr",label:"HR & Karyawan"},{id:"settings",label:"Pengaturan Sistem"}];function Jr({initialData:e,onSubmit:t,onCancel:a,isLoading:r}){const{register:l,handleSubmit:s,formState:{errors:i},setValue:o,watch:c}=ur({defaultValues:{name:"",position:"",phone:"",email:"",salary:"",status:"active",access_permissions:[]}}),[m,d]=(0,n.useState)([]);return(0,n.useEffect)(()=>{e&&Object.keys(e).forEach(t=>{if("access_permissions"===t){const a=Array.isArray(e[t])?e[t]:[];d(a)}else o(t,e[t])})},[e,o]),(0,n.createElement)("form",{onSubmit:s(e=>{const a={...e,access_permissions:m};t(a)}),className:"space-y-6"},(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},(0,n.createElement)("div",{className:"space-y-4"},(0,n.createElement)("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2"},"Informasi Pegawai"),(0,n.createElement)(Er.Input,{label:"Nama Lengkap",...l("name",{required:"Nama wajib diisi"}),error:i.name}),(0,n.createElement)(Er.Input,{label:"Posisi / Jabatan",...l("position",{required:"Posisi wajib diisi"}),error:i.position}),(0,n.createElement)(Er.Input,{label:"Email",type:"email",...l("email",{required:"Email wajib diisi"}),error:i.email}),(0,n.createElement)(Er.Input,{label:"Nomor Telepon",...l("phone"),error:i.phone}),(0,n.createElement)(Er.Input,{label:"Gaji (Rp)",type:"number",...l("salary"),error:i.salary}),(0,n.createElement)(Er.Select,{label:"Status Karyawan",...l("status"),options:[{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}]})),(0,n.createElement)("div",{className:"space-y-4"},(0,n.createElement)("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2"},"Hak Akses Sistem"),(0,n.createElement)("p",{className:"text-sm text-gray-500 mb-4"},"Pilih fitur apa saja yang dapat diakses oleh karyawan ini."),(0,n.createElement)("div",{className:"grid grid-cols-1 gap-2 bg-gray-50 p-4 rounded-lg border"},Wr.map(e=>(0,n.createElement)("label",{key:e.id,className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-100 p-2 rounded"},(0,n.createElement)("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500",checked:m.includes(e.id),onChange:()=>{return t=e.id,void d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}}),(0,n.createElement)("span",{className:"text-gray-700 font-medium"},e.label)))))),(0,n.createElement)("div",{className:"flex justify-end space-x-3 pt-4 border-t mt-6"},(0,n.createElement)(Er.Button,{variant:"secondary",onClick:a,type:"button"},"Batal"),(0,n.createElement)(Er.Button,{type:"submit",isLoading:r},e?"Simpan Perubahan":"Tambah Karyawan")))}function Gr(){const{api:e}=qe(),[t,a]=(0,n.useState)([]),[r,l]=(0,n.useState)(!0),[s,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(null),[m,d]=(0,n.useState)(!1),u=async()=>{try{l(!0);const t=await e.get("/hr/employees");a(t)}catch(e){console.error("Failed to fetch employees",e)}finally{l(!1)}};return(0,n.useEffect)(()=>{u()},[]),r?(0,n.createElement)(kt,null):(0,n.createElement)("div",{className:"space-y-6"},(0,n.createElement)("div",{className:"flex justify-between items-center"},(0,n.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Manajemen SDM (HR)"),(0,n.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center"},"+ Tambah Karyawan")),(0,n.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,n.createElement)(At,{title:"Total Karyawan",value:t.length,color:"blue"}),(0,n.createElement)(At,{title:"Karyawan Aktif",value:t.filter(e=>"active"===e.status).length,color:"green"}),(0,n.createElement)(At,{title:"Total Gaji (Est)",value:`Rp ${t.reduce((e,t)=>e+parseFloat(t.salary||0),0).toLocaleString()}`,color:"yellow"})),(0,n.createElement)("div",{className:"bg-white rounded-lg shadow overflow-hidden"},(0,n.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,n.createElement)("thead",{className:"bg-gray-50"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama / Kontak"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Posisi"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Hak Akses"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),(0,n.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,n.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,n.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,n.createElement)("td",{className:"px-6 py-4"},(0,n.createElement)("div",{className:"text-sm font-medium text-gray-900"},t.name),(0,n.createElement)("div",{className:"text-sm text-gray-500"},t.email),(0,n.createElement)("div",{className:"text-sm text-gray-500"},t.phone)),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},t.position),(0,n.createElement)("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-xs"},(e=>{if(!e||0===e.length)return(0,n.createElement)("span",{className:"text-gray-400 text-xs"},"Tidak ada akses");const t=e.slice(0,3),a=e.length-3;return(0,n.createElement)("div",{className:"flex flex-wrap gap-1"},t.map(e=>(0,n.createElement)("span",{key:e,className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full capitalize"},e)),a>0&&(0,n.createElement)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full"},"+",a))})(t.access_permissions)),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,n.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},"active"===t.status?"Aktif":"Non-Aktif")),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},(0,n.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-indigo-600 hover:text-indigo-900"},"Edit"),(0,n.createElement)("button",{onClick:()=>(async t=>{if(window.confirm("Hapus data karyawan ini?"))try{await e.delete(`/hr/employees/${t}`),u()}catch(e){console.error("Failed to delete",e)}})(t.id),className:"text-red-600 hover:text-red-900"},"Hapus")))))),0===t.length&&(0,n.createElement)("div",{className:"p-6 text-center text-gray-500"},"Belum ada data karyawan.")),(0,n.createElement)(sa,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Data Karyawan":"Tambah Karyawan Baru",maxWidth:"2xl"},(0,n.createElement)(Jr,{initialData:o,onSubmit:async t=>{d(!0);try{o?await e.put(`/hr/employees/${o.id}`,t):await e.post("/hr/employees",t),i(!1),c(null),u()}catch(e){console.error("Failed to save employee",e),alert("Gagal menyimpan data karyawan.")}finally{d(!1)}},onCancel:()=>i(!1),isLoading:m})))}const Qr=()=>{const{logs:e,users:t,loadingLogs:a,error:l,fetchLogs:s}=qe();return(0,n.useEffect)(()=>{s()},[s]),(0,n.createElement)("div",{className:"bg-white shadow-lg rounded-lg p-6 relative min-h-[300px]"},(0,n.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,n.createElement)("h2",{className:"text-2xl font-semibold text-gray-800"},"Log Aktivitas")),l&&(0,n.createElement)(r.ErrorMessage,{message:l}),a&&(0,n.createElement)(Nt,null),!a&&!l&&(0,n.createElement)("div",{className:"overflow-x-auto"},(0,n.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,n.createElement)("thead",{className:"bg-gray-50"},(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Waktu"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pengguna"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Objek"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID Objek"),(0,n.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Detail"))),(0,n.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},0===e.length&&(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500"},"Tidak ada log.")),e.map(e=>(0,n.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},(e=>{if(!e)return"-";try{const t=new Date(e);return isNaN(t.getTime())?"-":t.toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",timeZone:"UTC"})}catch(t){return e}})(e.created_at)),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},(e=>{const a=t.find(t=>t.id==e);return a?a.full_name:"Sistem"})(e.user_id)),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(e=>{const t=(e||"pending").replace(/_/g," "),a=t.toLowerCase().replace(/ /g,"_").replace(/[^a-z0-9_]/g,"");return(0,n.createElement)("span",{className:`status-badge ${a}`},t)})(e.action)),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},e.object_type),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},e.object_id),(0,n.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 truncate max-w-xs"},e.details)))))))},Yr=({children:e})=>{const[t,a]=(0,n.useState)(!1),r=()=>a(!t);return(0,n.createElement)("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans"},(0,n.createElement)(yt,{isOpen:t,toggleSidebar:r}),(0,n.createElement)("div",{className:"flex-1 flex flex-col min-w-0 lg:ml-64 transition-all duration-300"},(0,n.createElement)(wt,{toggleSidebar:r}),(0,n.createElement)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar relative"},e)))},Zr=()=>{const{user:e,isAuthenticated:t}=He();return t?"jamaah"===e?.role?(0,n.createElement)(pe,null,(0,n.createElement)(de,{path:"/portal",element:(0,n.createElement)(Xt,null)}),(0,n.createElement)(de,{path:"*",element:(0,n.createElement)(me,{to:"/portal",replace:!0})})):(0,n.createElement)(Yr,null,(0,n.createElement)(pe,null,(0,n.createElement)(de,{path:"/",element:(0,n.createElement)(ea,null)}),(0,n.createElement)(de,{path:"/jamaah",element:(0,n.createElement)(St,null,(0,n.createElement)(wr,null))}),(0,n.createElement)(de,{path:"/packages",element:(0,n.createElement)(St,null,(0,n.createElement)(Ar,null))}),(0,n.createElement)(de,{path:"/manifest",element:(0,n.createElement)(St,null,(0,n.createElement)($r,null))}),(0,n.createElement)(de,{path:"/rooming",element:(0,n.createElement)(St,null,(0,n.createElement)(Kr,null))}),(0,n.createElement)(de,{path:"/finance",element:(0,n.createElement)(St,{roles:["owner","admin","finance"]},(0,n.createElement)(Rr,null))}),(0,n.createElement)(de,{path:"/sub-agents",element:(0,n.createElement)(St,{roles:["owner","admin","branch"]},(0,n.createElement)(Br,null))}),(0,n.createElement)(de,{path:"/inventory",element:(0,n.createElement)(St,{roles:["owner","admin","logistik"]},(0,n.createElement)(Ur,null))}),(0,n.createElement)(de,{path:"/hr",element:(0,n.createElement)(St,{roles:["owner","hr"]},(0,n.createElement)(Gr,null))}),(0,n.createElement)(de,{path:"/master-data",element:(0,n.createElement)(St,{roles:["owner","admin"]},(0,n.createElement)(Pr,null))}),(0,n.createElement)(de,{path:"/logs",element:(0,n.createElement)(St,{roles:["owner","admin"]},(0,n.createElement)(Qr,null))}),(0,n.createElement)(de,{path:"*",element:(0,n.createElement)(me,{to:"/",replace:!0})}))):(0,n.createElement)(pe,null,(0,n.createElement)(de,{path:"/login",element:(0,n.createElement)(jt,null)}),(0,n.createElement)(de,{path:"*",element:(0,n.createElement)(me,{to:"/login",replace:!0})}))},Xr=()=>(0,n.createElement)(Re,null,(0,n.createElement)(Ke,null,(0,n.createElement)(We,null,(0,n.createElement)(Zr,null)))),en=document.getElementById("umroh-manager-hybrid-root");en?(0,s.H)(en).render((0,n.createElement)(l().StrictMode,null,(0,n.createElement)(Xr,null))):console.error("Target container #umroh-manager-hybrid-root not found!")})();
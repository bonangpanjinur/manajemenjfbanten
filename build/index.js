(()=>{"use strict";var e={338:(e,t,a)=>{var l=a(795);t.H=l.createRoot,l.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const l=window.React;var r=a.n(l),n=a(338);const s=window.umh_wp_data||{},c=s.user||null,m=s.nonce||null,i=s.api_url||"/wp-json/umh/v1",o=(0,l.createContext)(),d=({children:e})=>{const[t,a]=(0,l.useState)(c),r={currentUser:t,setCurrentUser:a,nonce:m,apiUrl:i,adminUrl:s.adminUrl,printUrl:s.printUrl,isWpAdmin:s.is_wp_admin||!1};return(0,l.createElement)(o.Provider,{value:r},e)},u=()=>(0,l.useContext)(o),p=(0,l.createContext)(),g=()=>(0,l.useContext)(p),h=({children:e})=>{const{token:t}=u(),[a,r]=(0,l.useState)(!1),n=async(e,a="GET",l=null,n=!1)=>{r(!0);try{const r={Authorization:`Bearer ${t}`};n||(r["Content-Type"]="application/json");const s={method:a,headers:r};l&&(s.body=n?l:JSON.stringify(l));const c=await fetch(`/wp-json/umh/v1${e}`,s),m=await c.json();if(!c.ok)throw new Error(m.message||"Terjadi kesalahan server");return m}catch(e){throw console.error("API Error:",e),e}finally{r(!1)}};return(0,l.createElement)(p.Provider,{value:{loading:a,apiCall:n,getMasterData:e=>n(`/master-data?type=${e}`),createMasterData:e=>n("/master-data","POST",e),deleteMasterData:e=>n(`/master-data/${e}`,"DELETE"),getCategories:()=>n("/categories"),createCategory:e=>n("/categories","POST",e),deleteCategory:e=>n(`/categories/${e}`,"DELETE"),getPackages:e=>n(`/packages?${new URLSearchParams(e)}`),createPackage:e=>n("/packages","POST",e),updatePackage:(e,t)=>n(`/packages/${e}`,"PUT",t),deletePackage:e=>n(`/packages/${e}`,"DELETE"),getJamaah:e=>n(`/jamaah?${new URLSearchParams(e)}`),createJamaah:e=>n("/jamaah","POST",e),updateJamaah:(e,t)=>n(`/jamaah/${e}`,"PUT",t),deleteJamaah:e=>n(`/jamaah/${e}`,"DELETE"),getCashflow:e=>n(`/finance/cashflow?${new URLSearchParams(e)}`),createCashflow:e=>n("/finance/cashflow","POST",e),createPayment:e=>n("/finance/payment","POST",e),getDashboardStats:()=>n("/stats")}},e)},x=({size:e="md",color:t="blue"})=>(0,l.createElement)("svg",{className:`animate-spin ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[e]} ${{blue:"text-blue-600",white:"text-white",gray:"text-gray-600"}[t]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,l.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),b=({text:e="Memuat data..."})=>(0,l.createElement)("div",{className:"flex flex-col items-center justify-center p-10 h-64 w-full"},(0,l.createElement)(x,{size:"lg",color:"blue"}),(0,l.createElement)("p",{className:"mt-4 text-gray-500 font-medium animate-pulse"},e)),E=({title:e,value:t,icon:a,color:r})=>{const n={blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",indigo:"bg-indigo-500",red:"bg-red-500",gray:"bg-gray-500"}[r]||"bg-blue-500";return(0,l.createElement)("div",{className:"bg-white overflow-hidden shadow rounded-lg"},(0,l.createElement)("div",{className:"p-5"},(0,l.createElement)("div",{className:"flex items-center"},(0,l.createElement)("div",{className:"flex-shrink-0"},(0,l.createElement)("div",{className:`rounded-md p-3 ${n} text-white flex items-center justify-center h-12 w-12`},(0,l.createElement)("span",{className:"text-2xl leading-none"},a))),(0,l.createElement)("div",{className:"ml-5 w-0 flex-1"},(0,l.createElement)("dl",null,(0,l.createElement)("dt",{className:"text-sm font-medium text-gray-500 truncate uppercase"},e),(0,l.createElement)("dd",null,(0,l.createElement)("div",{className:"text-lg font-bold text-gray-900"},t)))))))};var y={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f=l.createContext&&l.createContext(y),v=["attr","size","title"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},N.apply(this,arguments)}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach(function(t){var l,r,n,s;l=e,r=t,n=a[t],(r="symbol"==typeof(s=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in l?Object.defineProperty(l,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function C(e){return e&&e.map((e,t)=>l.createElement(e.tag,k({key:t},e.attr),C(e.child)))}function S(e){return t=>l.createElement(M,N({attr:k({},e.attr)},t),C(e.child))}function M(e){var t=t=>{var a,{attr:r,size:n,title:s}=e,c=function(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,v),m=n||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),l.createElement("svg",N({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:a,style:k(k({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),s&&l.createElement("title",null,s),e.children)};return void 0!==f?l.createElement(f.Consumer,null,e=>t(e)):t(y)}function z(e){return S({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function _(e){return S({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function P(e){return S({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(e)}function j(e){return S({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function L(e){return S({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function D(e){return S({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(e)}function O(e){return S({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function H(e){return S({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function T(e){return S({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function B(e){return S({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function A(e){return S({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(e)}function $(e){return S({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h608c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM80.55 341.27c6.28 6.84 15.1 10.72 24.33 10.71l130.54-.18a65.62 65.62 0 0 0 29.64-7.12l290.96-147.65c26.74-13.57 50.71-32.94 67.02-58.31 18.31-28.48 20.3-49.09 13.07-63.65-7.21-14.57-24.74-25.27-58.25-27.45-29.85-1.94-59.54 5.92-86.28 19.48l-98.51 49.99-218.7-82.06a17.799 17.799 0 0 0-18-1.11L90.62 67.29c-10.67 5.41-13.25 19.65-5.17 28.53l156.22 98.1-103.21 52.38-72.35-36.47a17.804 17.804 0 0 0-16.07.02L9.91 230.22c-10.44 5.3-13.19 19.12-5.57 28.08l76.21 82.97z"},child:[]}]})(e)}function K(e){return S({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function V(e){return S({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function q(e){return S({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function J(e){return S({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function R(e){return S({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function U(e){return S({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}const F=()=>{const{getDashboardStats:e,apiCall:t,loading:a}=g(),{currentUser:r}=u(),[n,s]=(0,l.useState)(null),[c,m]=(0,l.useState)(""),[i,o]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{e().then(e=>s(e)).catch(console.error)},[]),a||!n)return(0,l.createElement)(b,{text:"Menyiapkan Dashboard..."});const d=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e);return(0,l.createElement)("div",{className:"p-6 space-y-8 bg-gray-50 min-h-screen font-sans"},(0,l.createElement)("div",{className:"flex justify-between items-end"},(0,l.createElement)("div",null,(0,l.createElement)("h1",{className:"text-3xl font-extrabold text-gray-900"},"Dashboard"),(0,l.createElement)("p",{className:"text-gray-500 mt-1"},"Selamat datang, ",(0,l.createElement)("span",{className:"font-semibold text-blue-600"},r?.full_name),"!"))),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5"},(0,l.createElement)(E,{title:"Total Jamaah",value:n.cards.total_jamaah,icon:(0,l.createElement)(V,null),color:"blue"}),(0,l.createElement)(E,{title:"Jamaah Bulan Ini",value:n.cards.new_jamaah_month,icon:(0,l.createElement)(O,null),color:"green"}),(0,l.createElement)(E,{title:"Total Pemasukan",value:d(n.cards.revenue),icon:(0,l.createElement)(B,null),color:"yellow"}),(0,l.createElement)(E,{title:"Saldo Kas",value:d(n.cards.profit),icon:(0,l.createElement)(U,null),color:"indigo"})),(0,l.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},(0,l.createElement)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},(0,l.createElement)("div",{className:"p-5 border-b border-gray-100 flex items-center gap-2"},(0,l.createElement)($,{className:"text-blue-500"}),(0,l.createElement)("h3",{className:"font-bold text-gray-800"},"Jadwal Keberangkatan Terdekat")),(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full text-sm text-left"},(0,l.createElement)("thead",{className:"bg-gray-50 text-gray-500"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"p-4 font-medium"},"Nama Paket"),(0,l.createElement)("th",{className:"p-4 font-medium"},"Maskapai"),(0,l.createElement)("th",{className:"p-4 font-medium"},"Tanggal"),(0,l.createElement)("th",{className:"p-4 font-medium text-center"},"Jamaah"))),(0,l.createElement)("tbody",{className:"divide-y"},n.upcoming?.map((e,t)=>(0,l.createElement)("tr",{key:t,className:"hover:bg-gray-50 transition"},(0,l.createElement)("td",{className:"p-4 font-medium text-gray-900"},e.name),(0,l.createElement)("td",{className:"p-4 text-gray-600"},e.airline_name),(0,l.createElement)("td",{className:"p-4 text-blue-600 font-medium"},e.departure_date),(0,l.createElement)("td",{className:"p-4 text-center"},(0,l.createElement)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-bold"},e.jamaah_count)))))))),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 flex flex-col"},(0,l.createElement)("div",{className:"p-5 border-b border-gray-100 bg-gradient-to-r from-blue-600 to-blue-700 rounded-t-xl"},(0,l.createElement)("h3",{className:"font-bold text-white"},"Laporan Kinerja Harian"),(0,l.createElement)("p",{className:"text-blue-100 text-xs mt-1"},"Wajib diisi sebelum pulang.")),(0,l.createElement)("div",{className:"p-5 flex-1"},(0,l.createElement)("form",{onSubmit:async e=>{if(e.preventDefault(),c.trim()){o(!0);try{await t("/reports","POST",{user_id:r?.id,content:c}),alert("Laporan kerja berhasil dikirim!"),m("")}catch(e){alert("Gagal: "+e.message)}finally{o(!1)}}},className:"flex flex-col h-full"},(0,l.createElement)("textarea",{className:"w-full p-3 rounded-lg border border-gray-300 text-sm flex-1 mb-4 resize-none",rows:"6",placeholder:"Tuliskan hasil pekerjaan hari ini...",value:c,onChange:e=>m(e.target.value),required:!0}),(0,l.createElement)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white font-bold py-2.5 rounded-lg shadow-md disabled:bg-gray-400"},"Kirim Laporan"))))))},I=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},G=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),W=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Q=(0,l.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:s,iconNode:c,...m},i)=>(0,l.createElement)("svg",{ref:i,...Z,width:t,height:t,stroke:e,strokeWidth:r?24*Number(a)/Number(t):a,className:G("lucide",n),...!s&&!W(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,t])=>(0,l.createElement)(e,t)),...Array.isArray(s)?s:[s]])),Y=(e,t)=>{const a=(0,l.forwardRef)(({className:a,...r},n)=>{return(0,l.createElement)(Q,{ref:n,iconNode:t,className:G(`lucide-${s=I(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...r});var s});return a.displayName=I(e),a},X=Y("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),ee=Y("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),te=()=>{const{api:e}=g(),[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!0);if((0,l.useEffect)(()=>{(async()=>{try{const t=await e.get("/finance/transactions");a(t.data||[])}catch(e){console.error(e)}finally{n(!1)}})()},[]),r)return(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)(b,null));const s=t.filter(e=>"in"===e.type).reduce((e,t)=>e+parseInt(t.amount),0);return(0,l.createElement)("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen"},(0,l.createElement)("div",{className:"flex justify-between items-center"},(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Keuangan & Pembayaran")),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,l.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border flex items-center gap-4"},(0,l.createElement)("div",{className:"p-3 bg-green-100 text-green-600 rounded-lg"},(0,l.createElement)(X,{size:24})),(0,l.createElement)("div",null,(0,l.createElement)("p",{className:"text-sm text-gray-500"},"Total Pemasukan"),(0,l.createElement)("h3",{className:"text-xl font-bold"},"Rp ",s.toLocaleString())))),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border"},(0,l.createElement)("div",{className:"p-4 border-b bg-gray-50 font-medium text-gray-700"},"Riwayat Pembayaran Jamaah"),(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full text-left text-sm"},(0,l.createElement)("thead",{className:"bg-white border-b text-gray-500 uppercase"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"p-4"},"Tanggal"),(0,l.createElement)("th",{className:"p-4"},"Jamaah"),(0,l.createElement)("th",{className:"p-4"},"Keterangan"),(0,l.createElement)("th",{className:"p-4"},"Jumlah"),(0,l.createElement)("th",{className:"p-4 text-center"},"Cetak"))),(0,l.createElement)("tbody",{className:"divide-y divide-gray-100"},t.map(e=>(0,l.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-4"},new Date(e.payment_date).toLocaleDateString("id-ID")),(0,l.createElement)("td",{className:"p-4 font-medium"},e.jamaah_name," ",(0,l.createElement)("br",null),(0,l.createElement)("span",{className:"text-xs text-gray-400"},e.booking_code)),(0,l.createElement)("td",{className:"p-4"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs font-medium "+("verified"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")},"verified"===e.status?"Terverifikasi":"Menunggu"),(0,l.createElement)("div",{className:"text-xs text-gray-500 mt-1"},e.payment_method)),(0,l.createElement)("td",{className:"p-4 font-bold text-gray-700"},"Rp ",parseInt(e.amount).toLocaleString()),(0,l.createElement)("td",{className:"p-4 text-center"},(0,l.createElement)("button",{onClick:()=>(e=>{const t=`/wp-admin/admin-post.php?action=umh_print_receipt&id=${e}`;window.open(t,"_blank","width=900,height=600")})(e.id),className:"bg-blue-50 text-blue-600 p-2 rounded-lg hover:bg-blue-100 transition-colors",title:"Cetak Kwitansi"},(0,l.createElement)(ee,{size:18}))))))))))},ae=({isOpen:e,onClose:t,title:a,children:r,size:n="md",noPadding:s=!1})=>((0,l.useEffect)(()=>{const a=e=>{"Escape"===e.key&&t()};return e&&window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,t]),e?(0,l.createElement)("div",{className:"fixed inset-0 z-50 overflow-y-auto"},(0,l.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,l.createElement)("div",{className:"flex items-center justify-center min-h-screen p-4"},(0,l.createElement)("div",{className:`relative bg-white rounded-xl shadow-2xl w-full transform transition-all ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[n]}`,onClick:e=>e.stopPropagation()},(0,l.createElement)("div",{className:"flex justify-between items-center p-5 border-b border-gray-100"},(0,l.createElement)("h3",{className:"text-xl font-bold text-gray-800"},a),(0,l.createElement)("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50"},(0,l.createElement)(K,null))),(0,l.createElement)("div",{className:s?"":"p-6"},r)))):null),le=({label:e,type:t="text",className:a="",...r})=>(0,l.createElement)("div",{className:"w-full"},e&&(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e),(0,l.createElement)("input",{type:t,className:`w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm ${a}`,...r})),re=({label:e,children:t,className:a="",...r})=>(0,l.createElement)("div",{className:"w-full"},e&&(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e),(0,l.createElement)("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm bg-white ${a}`,...r},t)),ne=({label:e,className:t="",...a})=>(0,l.createElement)("div",{className:"w-full"},e&&(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e),(0,l.createElement)("textarea",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm resize-none ${t}`,...a})),se=({children:e,className:t="",type:a="button",...r})=>(0,l.createElement)("button",{type:a,className:`px-4 py-2 rounded-lg font-bold shadow-sm transition focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${t}`,...r},e),ce=({initialData:e,onSuccess:t,onCancel:a})=>{const{apiCall:r}=g(),[n,s]=(0,l.useState)(!1),[c,m]=(0,l.useState)(e||{name:"",contact:"",source:"wa",status:"new",notes:""}),i=e=>{m({...c,[e.target.name]:e.target.value})};return(0,l.createElement)("form",{onSubmit:async a=>{a.preventDefault(),s(!0);try{e?.id?await r(`/leads/${e.id}`,"PUT",c):await r("/leads","POST",c),t()}catch(e){alert(e.message)}finally{s(!1)}},className:"space-y-4"},(0,l.createElement)(le,{label:"Nama Calon Jamaah",name:"name",value:c.name,onChange:i,required:!0}),(0,l.createElement)(le,{label:"Kontak (WA/HP)",name:"contact",value:c.contact,onChange:i,required:!0}),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)(re,{label:"Sumber",name:"source",value:c.source,onChange:i},(0,l.createElement)("option",{value:"wa"},"WhatsApp"),(0,l.createElement)("option",{value:"ig"},"Instagram"),(0,l.createElement)("option",{value:"fb"},"Facebook"),(0,l.createElement)("option",{value:"tiktok"},"TikTok"),(0,l.createElement)("option",{value:"offline"},"Offline / Walk-in")),(0,l.createElement)(re,{label:"Status",name:"status",value:c.status,onChange:i},(0,l.createElement)("option",{value:"new"},"Baru Dihubungi"),(0,l.createElement)("option",{value:"prospect"},"Prospek"),(0,l.createElement)("option",{value:"closing"},"Closing (Jadi Jamaah)"),(0,l.createElement)("option",{value:"lost"},"Lost (Batal)"))),(0,l.createElement)(ne,{label:"Catatan",name:"notes",value:c.notes,onChange:i,rows:3}),(0,l.createElement)("div",{className:"flex justify-end gap-2 pt-2"},(0,l.createElement)(se,{onClick:a,className:"bg-gray-200 text-gray-700"},"Batal"),(0,l.createElement)(se,{type:"submit",className:"bg-blue-600 text-white"},"Simpan")))},me=()=>{const{apiCall:e}=g(),[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!0),[s,c]=(0,l.useState)(!1),[m,i]=(0,l.useState)(null),o=async()=>{n(!0);try{const t=await e("/leads");a(t||[])}catch(e){console.error(e)}finally{n(!1)}};(0,l.useEffect)(()=>{o()},[]);const d=e=>{switch(e){case"closing":return"bg-green-100 text-green-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Marketing Leads"),(0,l.createElement)("button",{onClick:()=>{i(null),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 shadow"},"+ Tambah Lead")),r?(0,l.createElement)(b,null):(0,l.createElement)("div",{className:"bg-white rounded-xl shadow overflow-hidden"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kontak"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Sumber"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),(0,l.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,l.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,l.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap font-medium"},t.name),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},t.contact),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap flex items-center gap-2 text-sm capitalize"},(e=>{switch(e){case"wa":return(0,l.createElement)(j,{className:"text-green-500"});case"ig":return(0,l.createElement)(_,{className:"text-pink-500"});case"fb":return(0,l.createElement)(z,{className:"text-blue-600"});case"tiktok":return(0,l.createElement)(P,{className:"text-black"});default:return(0,l.createElement)(q,{className:"text-gray-500"})}})(t.source)," ",t.source),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,l.createElement)("span",{className:`px-2 py-1 rounded-full text-xs font-bold capitalize ${d(t.status)}`},t.status)),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},(0,l.createElement)("button",{onClick:()=>(e=>{i(e),c(!0)})(t),className:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit"),(0,l.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus data lead ini?")&&(await e(`/leads/${t}`,"DELETE"),o())})(t.id),className:"text-red-600 hover:text-red-900"},"Hapus"))))))),(0,l.createElement)(ae,{isOpen:s,onClose:()=>c(!1),title:m?"Edit Lead":"Tambah Lead Baru"},(0,l.createElement)(ce,{initialData:m,onSuccess:()=>{c(!1),o()},onCancel:()=>c(!1)})))},ie=Y("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),oe=Y("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),de=Y("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ue=Y("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),pe=()=>{const{api:e}=g(),[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!0),[s,c]=(0,l.useState)(!1),[m,i]=(0,l.useState)({name:"",position:"Staff",phone:"",email:"",salary:0,join_date:(new Date).toISOString().split("T")[0]}),o=async()=>{n(!0);try{const t=await e.get("/employees");a(t.data||[])}catch(e){console.error("Gagal load data HR",e),e.response&&404===e.response.status&&a([])}finally{n(!1)}};if((0,l.useEffect)(()=>{o()},[]),r)return(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)(b,null));const d=t.reduce((e,t)=>e+parseFloat(t.salary||0),0);return(0,l.createElement)("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen"},(0,l.createElement)("div",{className:"flex justify-between items-center"},(0,l.createElement)("div",null,(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Human Resources"),(0,l.createElement)("p",{className:"text-gray-500"},"Manajemen Data Karyawan & Penggajian")),(0,l.createElement)("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700"},(0,l.createElement)(ie,{size:18})," Tambah Karyawan")),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border flex items-center gap-4"},(0,l.createElement)("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-lg"},(0,l.createElement)(oe,{size:24})),(0,l.createElement)("div",null,(0,l.createElement)("p",{className:"text-sm text-gray-500"},"Total Karyawan"),(0,l.createElement)("h3",{className:"text-2xl font-bold"},t.length))),(0,l.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border flex items-center gap-4"},(0,l.createElement)("div",{className:"p-3 bg-green-100 text-green-600 rounded-lg"},(0,l.createElement)(de,{size:24})),(0,l.createElement)("div",null,(0,l.createElement)("p",{className:"text-sm text-gray-500"},"Total Beban Gaji (Bulanan)"),(0,l.createElement)("h3",{className:"text-2xl font-bold"},"Rp ",d.toLocaleString())))),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden"},(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full text-left text-sm"},(0,l.createElement)("thead",{className:"bg-gray-50 border-b text-gray-500 uppercase"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"p-4"},"Nama"),(0,l.createElement)("th",{className:"p-4"},"Jabatan"),(0,l.createElement)("th",{className:"p-4"},"Kontak"),(0,l.createElement)("th",{className:"p-4"},"Gaji Pokok"),(0,l.createElement)("th",{className:"p-4"},"Status"),(0,l.createElement)("th",{className:"p-4 text-right"},"Aksi"))),(0,l.createElement)("tbody",{className:"divide-y divide-gray-100"},t.map(t=>(0,l.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-4 font-medium"},t.name),(0,l.createElement)("td",{className:"p-4"},(0,l.createElement)("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs"},t.position)),(0,l.createElement)("td",{className:"p-4"},(0,l.createElement)("div",{className:"flex flex-col text-xs text-gray-500"},(0,l.createElement)("span",null,t.phone),(0,l.createElement)("span",null,t.email))),(0,l.createElement)("td",{className:"p-4"},"Rp ",parseFloat(t.salary).toLocaleString()),(0,l.createElement)("td",{className:"p-4"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs font-medium "+("active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},t.status)),(0,l.createElement)("td",{className:"p-4 text-right"},(0,l.createElement)("button",{onClick:()=>(async t=>{if(confirm("Hapus karyawan ini?"))try{await e.delete(`/employees/${t}`),o()}catch(e){alert("Gagal menghapus data")}})(t.id),className:"text-red-500 hover:text-red-700 p-1"},(0,l.createElement)(ue,{size:16}))))),0===t.length&&(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"6",className:"p-8 text-center text-gray-400"},"Belum ada data karyawan.")))))),s&&(0,l.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6"},(0,l.createElement)("h2",{className:"text-xl font-bold mb-4"},"Tambah Karyawan"),(0,l.createElement)("form",{onSubmit:async t=>{t.preventDefault();try{await e.post("/employees",m),c(!1),i({name:"",position:"Staff",phone:"",email:"",salary:0,join_date:(new Date).toISOString().split("T")[0]}),o()}catch(e){alert("Gagal menyimpan data karyawan")}},className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Nama Lengkap"),(0,l.createElement)("input",{type:"text",required:!0,className:"w-full border rounded p-2",value:m.name,onChange:e=>i({...m,name:e.target.value})})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Jabatan"),(0,l.createElement)("select",{className:"w-full border rounded p-2",value:m.position,onChange:e=>i({...m,position:e.target.value})},(0,l.createElement)("option",{value:"Staff"},"Staff"),(0,l.createElement)("option",{value:"Manager"},"Manager"),(0,l.createElement)("option",{value:"Tour Leader"},"Tour Leader"),(0,l.createElement)("option",{value:"Muthawif"},"Muthawif"),(0,l.createElement)("option",{value:"Finance"},"Finance"))),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"No. HP"),(0,l.createElement)("input",{type:"text",required:!0,className:"w-full border rounded p-2",value:m.phone,onChange:e=>i({...m,phone:e.target.value})})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Gaji Pokok"),(0,l.createElement)("input",{type:"number",className:"w-full border rounded p-2",value:m.salary,onChange:e=>i({...m,salary:e.target.value})}))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Email (Opsional)"),(0,l.createElement)("input",{type:"email",className:"w-full border rounded p-2",value:m.email,onChange:e=>i({...m,email:e.target.value})})),(0,l.createElement)("div",{className:"flex justify-end gap-2 mt-6"},(0,l.createElement)("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},"Simpan"))))))},ge=Y("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),he=()=>{const{api:e}=g(),[t,a]=(0,l.useState)([]);return(0,l.createElement)("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen"},(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border"},(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full text-left text-sm"},(0,l.createElement)("thead",{className:"bg-gray-50 border-b text-gray-500 uppercase"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"p-4"},"Kode Booking"),(0,l.createElement)("th",{className:"p-4"},"Nama Jamaah"),(0,l.createElement)("th",{className:"p-4"},"Paket"),(0,l.createElement)("th",{className:"p-4"},"Status"),(0,l.createElement)("th",{className:"p-4 text-right"},"Aksi"))),(0,l.createElement)("tbody",{className:"divide-y divide-gray-100"},t.map(e=>(0,l.createElement)("tr",{key:e.booking_id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-4 font-mono text-blue-600"},e.booking_code),(0,l.createElement)("td",{className:"p-4"},(0,l.createElement)("div",{className:"font-medium text-gray-900"},e.full_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},e.passport_number||"No Passport")),(0,l.createElement)("td",{className:"p-4"},(0,l.createElement)("div",{className:"text-gray-900"},e.package_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},e.departure_date)),(0,l.createElement)("td",{className:"p-4"},(0,l.createElement)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs"},e.booking_status)),(0,l.createElement)("td",{className:"p-4 text-right flex justify-end gap-2"},(0,l.createElement)("button",{onClick:()=>(e=>{const t=`/wp-admin/admin-post.php?action=umh_print_registration&id=${e}`;window.open(t,"_blank","width=900,height=800")})(e.booking_id),className:"text-gray-500 hover:text-blue-600 bg-gray-100 p-2 rounded-lg transition-colors",title:"Cetak Formulir Pendaftaran"},(0,l.createElement)(ge,{size:18}))))))))))},xe=Y("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),be=({initialData:e,onSuccess:t,onCancel:a})=>{const{api:r}=g(),[n,s]=(0,l.useState)(e||{name:"",category_id:"",airline_id:"",departure_date:"",duration_days:9,quota:45,itinerary_file:""}),[c,m]=(0,l.useState)(e?.hotels||[]),[i,o]=(0,l.useState)(e?.pricing_variants||[{type:"Quad",price:0},{type:"Triple",price:0},{type:"Double",price:0}]),[d,u]=(0,l.useState)([]),[p,h]=(0,l.useState)([]),[x,b]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{try{const[e,t,a]=await Promise.all([r.get("/hotels"),r.get("/airlines"),r.get("/categories")]);u(e.data||[]),h(t.data||[]),b(a.data||[])}catch(e){console.error("Failed to load master data",e)}})()},[]);const E=(e,t,a)=>{const l=[...c];if(l[e]={...l[e],[t]:a},"id"===t){const t=d.find(e=>e.id==a);t&&(l[e].city=t.city)}m(l)};return(0,l.createElement)("form",{onSubmit:async a=>{a.preventDefault();const l={...n,hotels:c,pricing_variants:i};try{e?.id?await r.put(`/packages/${e.id}`,l):await r.post("/packages",l),t()}catch(e){alert("Gagal menyimpan paket: "+e.message)}},className:"space-y-6"},(0,l.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border"},(0,l.createElement)("h3",{className:"font-semibold mb-4 text-gray-700"},"Informasi Paket"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Nama Paket"),(0,l.createElement)("input",{type:"text",required:!0,className:"w-full border rounded p-2",value:n.name,onChange:e=>s({...n,name:e.target.value})})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Kategori"),(0,l.createElement)("select",{required:!0,className:"w-full border rounded p-2",value:n.category_id,onChange:e=>s({...n,category_id:e.target.value})},(0,l.createElement)("option",{value:""},"Pilih Kategori"),x.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Maskapai"),(0,l.createElement)("select",{required:!0,className:"w-full border rounded p-2",value:n.airline_id,onChange:e=>s({...n,airline_id:e.target.value})},(0,l.createElement)("option",{value:""},"Pilih Maskapai"),p.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name," (",e.code,")")))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Tanggal Keberangkatan"),(0,l.createElement)("input",{type:"date",required:!0,className:"w-full border rounded p-2",value:n.departure_date,onChange:e=>s({...n,departure_date:e.target.value})})),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-2"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Durasi (Hari)"),(0,l.createElement)("input",{type:"number",required:!0,className:"w-full border rounded p-2",value:n.duration_days,onChange:e=>s({...n,duration_days:e.target.value})})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1"},"Kuota"),(0,l.createElement)("input",{type:"number",required:!0,className:"w-full border rounded p-2",value:n.quota,onChange:e=>s({...n,quota:e.target.value})}))))),(0,l.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-4"},(0,l.createElement)("h3",{className:"font-semibold text-gray-700"},"Akomodasi Hotel"),(0,l.createElement)("button",{type:"button",onClick:()=>m([...c,{id:"",city:"",nights:0}]),className:"text-sm text-blue-600 flex items-center gap-1"},(0,l.createElement)(xe,{size:16})," Tambah Hotel")),(0,l.createElement)("div",{className:"space-y-3"},c.map((e,t)=>(0,l.createElement)("div",{key:t,className:"flex gap-3 items-end bg-gray-50 p-3 rounded border"},(0,l.createElement)("div",{className:"flex-1"},(0,l.createElement)("label",{className:"text-xs text-gray-500"},"Pilih Hotel"),(0,l.createElement)("select",{className:"w-full border rounded p-2 text-sm",value:e.id,onChange:e=>E(t,"id",e.target.value)},(0,l.createElement)("option",{value:""},"- Pilih -"),d.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id},e.name," (",e.city,")")))),(0,l.createElement)("div",{className:"w-24"},(0,l.createElement)("label",{className:"text-xs text-gray-500"},"Durasi (Malam)"),(0,l.createElement)("input",{type:"number",className:"w-full border rounded p-2 text-sm",value:e.nights,onChange:e=>E(t,"nights",e.target.value)})),(0,l.createElement)("button",{type:"button",onClick:()=>{return e=t,m(c.filter((t,a)=>a!==e));var e},className:"text-red-500 p-2 hover:bg-red-50 rounded"},(0,l.createElement)(ue,{size:16})))),0===c.length&&(0,l.createElement)("p",{className:"text-sm text-gray-400 italic text-center"},"Belum ada hotel dipilih"))),(0,l.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border"},(0,l.createElement)("h3",{className:"font-semibold mb-4 text-gray-700"},"Varian Harga (Per Jamaah)"),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},i.map((e,t)=>(0,l.createElement)("div",{key:t,className:"bg-gray-50 p-3 rounded border"},(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-600 mb-1"},"Tipe ",e.type),(0,l.createElement)("div",{className:"relative"},(0,l.createElement)("span",{className:"absolute left-3 top-2 text-gray-500"},"Rp"),(0,l.createElement)("input",{type:"number",className:"w-full border rounded pl-8 p-2",value:e.price,onChange:e=>((e,t)=>{const a=[...i];a[e].price=t,o(a)})(t,e.target.value)})))))),(0,l.createElement)("div",{className:"flex justify-end gap-3 pt-4"},(0,l.createElement)("button",{type:"button",onClick:a,className:"px-6 py-2 border rounded-lg hover:bg-gray-50"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"Simpan Paket")))},Ee=()=>{const{getPackages:e,deletePackage:t}=g(),[a,r]=(0,l.useState)([]),[n,s]=(0,l.useState)(!0),[c,m]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),[d,u]=(0,l.useState)("active"),p=async()=>{s(!0);try{const t=await e({status:"all"!==d?d:""});r(t||[])}catch(e){console.error("Error fetching packages:",e)}finally{s(!1)}};return(0,l.useEffect)(()=>{p()},[d]),(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Manajemen Paket"),(0,l.createElement)("p",{className:"text-gray-500 text-sm mt-1"},"Kelola jadwal, harga, dan varian paket umroh.")),(0,l.createElement)("div",{className:"flex gap-3"},(0,l.createElement)("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:d,onChange:e=>u(e.target.value)},(0,l.createElement)("option",{value:"active"},"Paket Aktif"),(0,l.createElement)("option",{value:"full"},"Full Booked"),(0,l.createElement)("option",{value:"completed"},"Selesai"),(0,l.createElement)("option",{value:"all"},"Semua Status")),(0,l.createElement)("button",{onClick:()=>{o(null),m(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg font-medium shadow-sm flex items-center gap-2 transition"},(0,l.createElement)("span",null,"+")," Buat Paket"))),n?(0,l.createElement)(b,{text:"Memuat data paket..."}):(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Nama Paket"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Tgl Berangkat"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Kategori"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Harga Mulai"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Status"),(0,l.createElement)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,l.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},0===a.length?(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-400"},"Tidak ada paket yang ditemukan.")):a.map(e=>(0,l.createElement)("tr",{key:e.id,className:"hover:bg-gray-50 transition"},(0,l.createElement)("td",{className:"px-6 py-4"},(0,l.createElement)("div",{className:"text-sm font-bold text-gray-900"},e.name),(0,l.createElement)("div",{className:"text-xs text-gray-500 mt-1"},(()=>{try{const t="string"==typeof e.hotels?JSON.parse(e.hotels):e.hotels;return Array.isArray(t)&&t.length>0?` ${t.length} Hotel Terpilih`:"Belum ada hotel"}catch(e){return"-"}})())),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,l.createElement)("div",{className:"text-sm text-gray-900 font-medium"},new Date(e.departure_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),(0,l.createElement)("div",{className:"text-xs text-blue-600"}," ",e.airline_name||"Maskapai -")),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,l.createElement)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-50 text-blue-800"},e.category_name||"Umum")),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-700"},(e=>{if(!e||0===e.length)return"Belum ada harga";const t="string"==typeof e?JSON.parse(e):e;if(!Array.isArray(t))return"Format Data Salah";const a=t.map(e=>parseFloat(e.price)),l=Math.min(...a),r=Math.max(...a);return l===r?`Rp ${l.toLocaleString("id-ID")}`:`Rp ${l.toLocaleString("id-ID")} - ${r.toLocaleString("id-ID")}`})(e.pricing_variants)),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,l.createElement)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full \n                                                    "+("active"===e.status?"bg-green-100 text-green-800":"full"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800")},"active"===e.status?"Open":"full"===e.status?"Penuh":e.status)),(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},(0,l.createElement)("button",{onClick:()=>(e=>{o(e),m(!0)})(e),className:"text-indigo-600 hover:text-indigo-900 mr-3 font-medium"},"Edit"),(0,l.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus paket ini? Data yang dihapus tidak bisa dikembalikan."))try{await t(e),p()}catch(e){alert("Gagal menghapus: "+e.message)}})(e.id),className:"text-red-600 hover:text-red-900 font-medium"},"Hapus")))))))),(0,l.createElement)(ae,{isOpen:c,onClose:()=>m(!1),title:i?"Edit Paket":"Tambah Paket Baru"},c&&(0,l.createElement)(be,{initialData:i,onSuccess:()=>{m(!1),p()},onCancel:()=>m(!1)})))},ye=({initialData:e,closeModal:t})=>{const{createOrUpdate:a}=g(),[r,n]=(0,l.useState)(!1),[s,c]=(0,l.useState)({name:e?.name||"",phone:e?.phone||"",email:e?.email||"",address:e?.address||"",city:e?.city||"",status:e?.status||"active"}),m=e=>c({...s,[e.target.name]:e.target.value});return(0,l.createElement)("form",{onSubmit:async l=>{l.preventDefault(),n(!0);try{await a("sub_agents",s,e?.id),t()}catch(e){alert(e.message)}finally{n(!1)}},className:"space-y-4 p-2"},(0,l.createElement)(le,{label:"Nama Agen / Travel",name:"name",value:s.name,onChange:m,required:!0}),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)(le,{label:"No. Telepon",name:"phone",value:s.phone,onChange:m,required:!0}),(0,l.createElement)(le,{label:"Email",type:"email",name:"email",value:s.email,onChange:m})),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)(le,{label:"Kota Domisili",name:"city",value:s.city,onChange:m}),(0,l.createElement)(re,{label:"Status",name:"status",value:s.status,onChange:m},(0,l.createElement)("option",{value:"active"},"Aktif"),(0,l.createElement)("option",{value:"inactive"},"Tidak Aktif"))),(0,l.createElement)(le,{label:"Alamat Lengkap",name:"address",value:s.address,onChange:m}),(0,l.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,l.createElement)(se,{type:"button",variant:"secondary",onClick:t},"Batal"),(0,l.createElement)(se,{type:"submit",disabled:r},r?"Menyimpan...":"Simpan")))},fe=()=>{const{apiCall:e}=g(),[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!0),[s,c]=(0,l.useState)(!1),[m,i]=(0,l.useState)(null),o=async()=>{n(!0);try{const t=await e("/sub-agents");a(t||[])}catch(e){console.error(e)}finally{n(!1)}};return(0,l.useEffect)(()=>{o()},[]),(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Manajemen Sub Agent"),(0,l.createElement)("button",{onClick:()=>{i(null),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 shadow"},"+ Tambah Sub Agent")),r?(0,l.createElement)(b,null):(0,l.createElement)("div",{className:"bg-white rounded-xl shadow overflow-hidden"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-gray-500"},"Nama"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-gray-500"},"Kontak"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-gray-500"},"Lokasi"),(0,l.createElement)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase text-gray-500"},"Status"),(0,l.createElement)("th",{className:"px-6 py-3 text-right text-xs font-bold uppercase text-gray-500"},"Aksi"))),(0,l.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,l.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"px-6 py-4 font-medium text-gray-900"},t.name),(0,l.createElement)("td",{className:"px-6 py-4 text-sm text-gray-600"},(0,l.createElement)("div",null,t.phone),(0,l.createElement)("div",{className:"text-xs text-gray-400"},t.email)),(0,l.createElement)("td",{className:"px-6 py-4 text-sm text-gray-600"},t.address_details?.city||"-",", ",t.address_details?.province||"-"),(0,l.createElement)("td",{className:"px-6 py-4"},(0,l.createElement)("span",{className:"px-2 py-1 text-xs rounded-full font-bold "+("active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},"active"===t.status?"Aktif":"Non-Aktif")),(0,l.createElement)("td",{className:"px-6 py-4 text-right"},(0,l.createElement)("button",{onClick:()=>{i(t),c(!0)},className:"text-indigo-600 mr-3"},"Edit"),(0,l.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus sub agent ini?")&&(await e(`/sub-agents/${t}`,"DELETE"),o())})(t.id),className:"text-red-600"},"Hapus"))))))),(0,l.createElement)(ae,{isOpen:s,onClose:()=>c(!1),title:m?"Edit Sub Agent":"Tambah Sub Agent"},(0,l.createElement)(ye,{initialData:m,onSuccess:()=>{c(!1),o()},onCancel:()=>c(!1)})))},ve=Y("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),Ne=Y("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),we=Y("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),ke=()=>{const{api:e}=g(),[t,a]=(0,l.useState)("hotels"),[r,n]=(0,l.useState)([]),[s,c]=(0,l.useState)([]),[m,i]=(0,l.useState)([]),[o,d]=(0,l.useState)(!0),[u,p]=(0,l.useState)(!1),[h,x]=(0,l.useState)({}),E=async()=>{d(!0);try{const[t,a,l]=await Promise.all([e.get("/hotels"),e.get("/airlines"),e.get("/categories")]);n(t.data||[]),c(a.data||[]),i(l.data||[])}catch(e){console.error("Error fetching master data",e)}finally{d(!1)}};(0,l.useEffect)(()=>{E()},[]);const y=async a=>{if(confirm("Hapus data ini?"))try{await e.delete(`/master/${t}/${a}`),E()}catch(e){alert("Gagal menghapus")}};return o?(0,l.createElement)("div",{className:"p-6"},(0,l.createElement)(b,null)):(0,l.createElement)("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen"},(0,l.createElement)("div",{className:"flex justify-between items-center"},(0,l.createElement)("div",null,(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Master Data"),(0,l.createElement)("p",{className:"text-gray-500"},"Kelola Hotel, Maskapai, dan Kategori Paket")),(0,l.createElement)("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700"},(0,l.createElement)(xe,{size:18})," Tambah ","hotels"===t?"Hotel":"airlines"===t?"Maskapai":"Kategori")),(0,l.createElement)("div",{className:"flex space-x-4 border-b border-gray-200"},(0,l.createElement)("button",{onClick:()=>a("hotels"),className:"pb-3 px-4 flex items-center gap-2 font-medium "+("hotels"===t?"border-b-2 border-blue-600 text-blue-600":"text-gray-500")},(0,l.createElement)(ve,{size:18})," Hotel"),(0,l.createElement)("button",{onClick:()=>a("airlines"),className:"pb-3 px-4 flex items-center gap-2 font-medium "+("airlines"===t?"border-b-2 border-blue-600 text-blue-600":"text-gray-500")},(0,l.createElement)(Ne,{size:18})," Maskapai"),(0,l.createElement)("button",{onClick:()=>a("categories"),className:"pb-3 px-4 flex items-center gap-2 font-medium "+("categories"===t?"border-b-2 border-blue-600 text-blue-600":"text-gray-500")},(0,l.createElement)(we,{size:18})," Kategori")),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden"},(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full text-left text-sm"},(0,l.createElement)("thead",{className:"bg-gray-50 border-b text-gray-500 uppercase"},(0,l.createElement)("tr",null,"hotels"===t&&(0,l.createElement)(l.Fragment,null," ",(0,l.createElement)("th",{className:"p-4"},"Nama Hotel")," ",(0,l.createElement)("th",{className:"p-4"},"Kota")," ",(0,l.createElement)("th",{className:"p-4"},"Bintang")," ",(0,l.createElement)("th",{className:"p-4"},"Jarak")," "),"airlines"===t&&(0,l.createElement)(l.Fragment,null," ",(0,l.createElement)("th",{className:"p-4"},"Nama Maskapai")," ",(0,l.createElement)("th",{className:"p-4"},"Kode")," "),"categories"===t&&(0,l.createElement)(l.Fragment,null," ",(0,l.createElement)("th",{className:"p-4"},"Nama Kategori")," ",(0,l.createElement)("th",{className:"p-4"},"Slug")," "),(0,l.createElement)("th",{className:"p-4 text-right"},"Aksi"))),(0,l.createElement)("tbody",{className:"divide-y divide-gray-100"},"hotels"===t&&r.map(e=>(0,l.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-4 font-medium"},e.name),(0,l.createElement)("td",{className:"p-4"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs "+("Makkah"===e.city?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800")},e.city)),(0,l.createElement)("td",{className:"p-4 text-yellow-500"},"".repeat(e.star_rating)),(0,l.createElement)("td",{className:"p-4"},e.distance_to_haram," m"),(0,l.createElement)("td",{className:"p-4 text-right"},(0,l.createElement)("button",{onClick:()=>y(e.id),className:"text-red-500 hover:text-red-700"},(0,l.createElement)(ue,{size:16}))))),"airlines"===t&&s.map(e=>(0,l.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-4 font-medium"},e.name),(0,l.createElement)("td",{className:"p-4"},(0,l.createElement)("span",{className:"bg-gray-100 px-2 py-1 rounded font-mono"},e.code)),(0,l.createElement)("td",{className:"p-4 text-right"},(0,l.createElement)("button",{onClick:()=>y(e.id),className:"text-red-500 hover:text-red-700"},(0,l.createElement)(ue,{size:16}))))),"categories"===t&&m.map(e=>(0,l.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,l.createElement)("td",{className:"p-4 font-medium"},e.name),(0,l.createElement)("td",{className:"p-4 text-gray-400 italic"},e.slug||"-"),(0,l.createElement)("td",{className:"p-4 text-right"},(0,l.createElement)("button",{onClick:()=>y(e.id),className:"text-red-500 hover:text-red-700"},(0,l.createElement)(ue,{size:16}))))),("hotels"===t&&!r.length||"airlines"===t&&!s.length||"categories"===t&&!m.length)&&(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"5",className:"p-8 text-center text-gray-400 italic"},"Data masih kosong. Silakan tambah baru.")))))),u&&(0,l.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},(0,l.createElement)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6"},(0,l.createElement)("h2",{className:"text-xl font-bold mb-4"},"Tambah ","hotels"===t?"Hotel":"airlines"===t?"Maskapai":"Kategori"),(0,l.createElement)("form",{onSubmit:async a=>{a.preventDefault();try{const a=`/${t}`;await e.post(a,h),p(!1),x({}),E()}catch(e){alert("Gagal menyimpan data")}},className:"space-y-4"},"hotels"===t&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("input",{required:!0,placeholder:"Nama Hotel",className:"w-full border rounded p-2",onChange:e=>x({...h,name:e.target.value})}),(0,l.createElement)("select",{className:"w-full border rounded p-2",onChange:e=>x({...h,city:e.target.value})},(0,l.createElement)("option",{value:""},"Pilih Kota"),(0,l.createElement)("option",{value:"Makkah"},"Makkah"),(0,l.createElement)("option",{value:"Madinah"},"Madinah")),(0,l.createElement)("select",{className:"w-full border rounded p-2",onChange:e=>x({...h,star_rating:e.target.value})},(0,l.createElement)("option",{value:"3"},"3 Bintang"),(0,l.createElement)("option",{value:"4"},"4 Bintang"),(0,l.createElement)("option",{value:"5"},"5 Bintang")),(0,l.createElement)("input",{type:"number",placeholder:"Jarak (m)",className:"w-full border rounded p-2",onChange:e=>x({...h,distance_to_haram:e.target.value})})),"airlines"===t&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("input",{required:!0,placeholder:"Nama Maskapai",className:"w-full border rounded p-2",onChange:e=>x({...h,name:e.target.value})}),(0,l.createElement)("input",{required:!0,placeholder:"Kode (ex: SV)",className:"w-full border rounded p-2 uppercase",onChange:e=>x({...h,code:e.target.value})})),"categories"===t&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"block text-sm font-medium mb-1 text-gray-700"},"Nama Kategori"),(0,l.createElement)("input",{required:!0,placeholder:"Contoh: Paket Promo, VIP, Ramadhan",className:"w-full border rounded p-2",onChange:e=>x({...h,name:e.target.value})}),(0,l.createElement)("p",{className:"text-xs text-gray-400 mt-1"},"*Slug akan dibuat otomatis"))),(0,l.createElement)("div",{className:"flex justify-end gap-2 mt-6"},(0,l.createElement)("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},"Simpan"))))))},Ce=()=>{const{currentUser:e}=u(),[t,a]=(0,l.useState)("dashboard"),r=[{id:"dashboard",label:"Dashboard",icon:(0,l.createElement)(T,null),roles:["owner","administrator","admin_staff","finance_staff","marketing_staff"]},{id:"packages",label:"Paket Umroh",icon:(0,l.createElement)(L,null),roles:["owner","administrator","admin_staff","marketing_staff"]},{id:"jamaah",label:"Data Jemaah",icon:(0,l.createElement)(R,null),roles:["owner","administrator","admin_staff","marketing_staff","finance_staff"]},{id:"finance",label:"Keuangan",icon:(0,l.createElement)(A,null),roles:["owner","administrator","finance_staff","admin_staff"]},{id:"marketing",label:"Marketing Leads",icon:(0,l.createElement)(D,null),roles:["owner","administrator","admin_staff","marketing_staff"]},{id:"sub_agents",label:"Sub Agen",icon:(0,l.createElement)(J,null),roles:["owner","administrator","admin_staff","marketing_staff"]},{id:"hr",label:"Manajemen HR",icon:(0,l.createElement)(R,null),roles:["owner","administrator"]},{id:"master",label:"Data Master",icon:(0,l.createElement)(H,null),roles:["owner","administrator","admin_staff"]}],n=e?.role||"";return(0,l.createElement)("div",{className:"flex h-screen bg-gray-100 font-sans"},(0,l.createElement)("aside",{className:"w-64 bg-white shadow-xl z-20 flex flex-col fixed h-full md:relative hidden md:flex"},(0,l.createElement)("div",{className:"p-6 border-b flex flex-col items-start"},(0,l.createElement)("h1",{className:"text-2xl font-extrabold text-blue-600 tracking-tight"},"UmrohMgr"),(0,l.createElement)("div",{className:"mt-4 w-full"},(0,l.createElement)("p",{className:"text-sm font-medium text-gray-900 truncate"},e?.full_name||"Pengguna"),(0,l.createElement)("span",{className:"mt-1 inline-block px-2 py-0.5 text-xs font-bold text-blue-800 bg-blue-100 rounded-full uppercase"},n.replace(/_/g," ")))),(0,l.createElement)("nav",{className:"flex-1 overflow-y-auto py-4 space-y-1"},r.map(e=>e.roles.includes(n)&&(0,l.createElement)("button",{key:e.id,onClick:()=>a(e.id),className:"w-full flex items-center px-6 py-3 text-sm font-medium transition-all duration-200 \n                                    "+(t===e.id?"bg-blue-50 text-blue-700 border-r-4 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900")},(0,l.createElement)("span",{className:"mr-3 text-lg "+(t===e.id?"text-blue-600":"text-gray-400")},e.icon),e.label))),(0,l.createElement)("div",{className:"p-4 border-t bg-gray-50"},(0,l.createElement)("p",{className:"text-xs text-center text-gray-400"}," ",(new Date).getFullYear()," JF Banten v1.1"))),(0,l.createElement)("main",{className:"flex-1 overflow-y-auto bg-gray-50 w-full p-4 md:p-0"},(()=>{switch(t){case"dashboard":default:return(0,l.createElement)(F,null);case"packages":return(0,l.createElement)(Ee,null);case"jamaah":return(0,l.createElement)(he,null);case"finance":return(0,l.createElement)(te,null);case"marketing":return(0,l.createElement)(me,null);case"sub_agents":return(0,l.createElement)(fe,null);case"hr":return(0,l.createElement)(pe,null);case"master":return(0,l.createElement)(ke,null)}})()))},Se=()=>(0,l.createElement)(d,null,(0,l.createElement)(h,null,(0,l.createElement)(Ce,null)));document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("umh-admin-app");e&&(0,n.H)(e).render((0,l.createElement)(r().StrictMode,null,(0,l.createElement)(Se,null)))})})();
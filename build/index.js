(()=>{"use strict";var e={338:(e,t,a)=>{var r=a(795);t.H=r.createRoot,r.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=window.React;var n=a.n(r),l=a(338),s="popstate";function i(e={}){return function(e,t,a,r={}){let{window:n=document.defaultView,v5Compat:l=!1}=r,i=n.history,c="POP",p=null,g=h();function h(){return(i.state||{idx:null}).idx}function b(){c="POP";let e=h(),t=null==e?null:e-g;g=e,p&&p({action:c,location:y.location,delta:t})}function f(e){return function(e,t=!1){let a="http://localhost";"undefined"!=typeof window&&(a="null"!==window.location.origin?window.location.origin:window.location.href),o(a,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:u(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}(e)}null==g&&(g=0,i.replaceState({...i.state,idx:g},""));let y={get action(){return c},get location(){return e(n,i)},listen(e){if(p)throw new Error("A history only accepts one active listener");return n.addEventListener(s,b),p=e,()=>{n.removeEventListener(s,b),p=null}},createHref:e=>t(n,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=d(y.location,e,t);a&&a(r,e),g=h()+1;let s=m(r,g),o=y.createHref(r);try{i.pushState(s,"",o)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;n.location.assign(o)}l&&p&&p({action:c,location:y.location,delta:1})},replace:function(e,t){c="REPLACE";let r=d(y.location,e,t);a&&a(r,e),g=h();let n=m(r,g),s=y.createHref(r);i.replaceState(n,"",s),l&&p&&p({action:c,location:y.location,delta:0})},go:e=>i.go(e)};return y}(function(e,t){let{pathname:a="/",search:r="",hash:n=""}=p(e.location.hash.substring(1));return a.startsWith("/")||a.startsWith(".")||(a="/"+a),d("",{pathname:a,search:r,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let a=e.document.querySelector("base"),r="";if(a&&a.getAttribute("href")){let t=e.location.href,a=t.indexOf("#");r=-1===a?t:t.slice(0,a)}return r+"#"+("string"==typeof t?t:u(t))},function(e,t){c("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},e)}function o(e,t){if(!1===e||null==e)throw new Error(t)}function c(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,a=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?p(t):t,state:a,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u({pathname:e="/",search:t="",hash:a=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),a&&"#"!==a&&(e+="#"===a.charAt(0)?a:"#"+a),e}function p(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function g(e,t,a="/"){return function(e,t,a,r){let n=j(("string"==typeof t?p(t):t).pathname||"/",a);if(null==n)return null;let l=h(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(l);let s=null;for(let e=0;null==s&&e<l.length;++e){let t=_(n);s=S(l[e],t,r)}return s}(e,t,a,!1)}function h(e,t=[],a=[],r="",n=!1){let l=(e,l,s=n,i)=>{let c={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:l,route:e};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&s)return;o(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let m=M([r,c.relativePath]),d=a.concat(c);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),h(e.children,t,d,m,s)),(null!=e.path||e.index)&&t.push({path:m,score:k(m,e.index),routesMeta:d})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let a of b(e.path))l(e,t,!0,a);else l(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[a,...r]=t,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(0===r.length)return n?[l,""]:[l];let s=b(r.join("/")),i=[];return i.push(...s.map(e=>""===e?l:[l,e].join("/"))),n&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}new WeakMap;var f=/^:[\w-]+$/,y=3,x=2,E=1,v=10,N=-2,w=e=>"*"===e;function k(e,t){let a=e.split("/"),r=a.length;return a.some(w)&&(r+=N),t&&(r+=x),a.filter(e=>!w(e)).reduce((e,t)=>e+(f.test(t)?y:""===t?E:v),r)}function S(e,t,a=!1){let{routesMeta:r}=e,n={},l="/",s=[];for(let e=0;e<r.length;++e){let i=r[e],o=e===r.length-1,c="/"===l?t:t.slice(l.length)||"/",m=C({path:i.relativePath,caseSensitive:i.caseSensitive,end:o},c),d=i.route;if(!m&&o&&a&&!r[r.length-1].route.index&&(m=C({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},c)),!m)return null;Object.assign(n,m.params),s.push({params:n,pathname:M([l,m.pathname]),pathnameBase:R(M([l,m.pathnameBase])),route:d}),"/"!==m.pathnameBase&&(l=M([l,m.pathnameBase]))}return s}function C(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=function(e,t=!1,a=!0){c("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(r.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let l=n[0],s=l.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:a},r)=>{if("*"===t){let e=i[r]||"";s=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const n=i[r];return e[t]=a&&!n?void 0:(n||"").replace(/%2F/g,"/"),e},{}),pathname:l,pathnameBase:s,pattern:e}}function _(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&"/"!==r?null:e.slice(a)||"/"}var P=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}function A(e,t,a,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function T(e,t,a,r=!1){let n;"string"==typeof e?n=p(e):(n={...e},o(!n.pathname||!n.pathname.includes("?"),A("?","pathname","search",n)),o(!n.pathname||!n.pathname.includes("#"),A("#","pathname","hash",n)),o(!n.search||!n.search.includes("#"),A("#","search","hash",n)));let l,s=""===e||""===n.pathname,i=s?"/":n.pathname;if(null==i)l=a;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}l=e>=0?t[e]:"/"}let m=function(e,t="/"){let a,{pathname:r,search:n="",hash:l=""}="string"==typeof e?p(e):e;if(r)if(s=r,P.test(s))a=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),c(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${r}`)}a=r.startsWith("/")?D(r.substring(1),"/"):D(r,t)}else a=t;var s;return{pathname:a,search:$(n),hash:B(l)}}(n,l),d=i&&"/"!==i&&i.endsWith("/"),u=(s||"."===i)&&a.endsWith("/");return m.pathname.endsWith("/")||!d&&!u||(m.pathname+="/"),m}var M=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}Symbol("Uninstrumented"),Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O=["POST","PUT","PATCH","DELETE"],V=(new Set(O),["GET",...O]);new Set(V),Symbol("ResetLoaderData");var z=r.createContext(null);z.displayName="DataRouter";var I=r.createContext(null);I.displayName="DataRouterState";r.createContext(!1);var K=r.createContext({isTransitioning:!1});K.displayName="ViewTransition",r.createContext(new Map).displayName="Fetchers",r.createContext(null).displayName="Await";var H=r.createContext(null);H.displayName="Navigation";var U=r.createContext(null);U.displayName="Location";var q=r.createContext({outlet:null,matches:[],isDataRoute:!1});q.displayName="Route";var W=r.createContext(null);function J(){return null!=r.useContext(U)}function G(){return o(J(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(U).location}W.displayName="RouteError";var Q="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y(e){r.useContext(H).static||r.useLayoutEffect(e)}function X(){let{isDataRoute:e}=r.useContext(q);return e?function(){let{router:e}=function(e){let t=r.useContext(z);return o(t,le(e)),t}("useNavigate"),t=se("useNavigate"),a=r.useRef(!1);return Y(()=>{a.current=!0}),r.useCallback(async(r,n={})=>{c(a.current,Q),a.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...n}))},[e,t])}():function(){o(J(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(z),{basename:t,navigator:a}=r.useContext(H),{matches:n}=r.useContext(q),{pathname:l}=G(),s=JSON.stringify(L(n)),i=r.useRef(!1);return Y(()=>{i.current=!0}),r.useCallback((r,n={})=>{if(c(i.current,Q),!i.current)return;if("number"==typeof r)return void a.go(r);let o=T(r,JSON.parse(s),l,"path"===n.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:M([t,o.pathname])),(n.replace?a.replace:a.push)(o,n.state,n)},[t,a,s,l,e])}()}function Z(e,{relative:t}={}){let{matches:a}=r.useContext(q),{pathname:n}=G(),l=JSON.stringify(L(a));return r.useMemo(()=>T(e,JSON.parse(l),n,"path"===t),[e,l,n,t])}function ee(e,t,a,n,l){o(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(H),{matches:i}=r.useContext(q),m=i[i.length-1],d=m?m.params:{},u=m?m.pathname:"/",h=m?m.pathnameBase:"/",b=m&&m.route;{let e=b&&b.path||"";oe(u,!b||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f,y=G();if(t){let e="string"==typeof t?p(t):t;o("/"===h||e.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${e.pathname}" was given in the \`location\` prop.`),f=e}else f=y;let x=f.pathname||"/",E=x;if("/"!==h){let e=h.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=g(e,{pathname:E});c(b||null!=v,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),c(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=function(e,t=[],a=null,n=null){if(null==e){if(!a)return null;if(a.errors)e=a.matches;else{if(0!==t.length||a.initialized||!(a.matches.length>0))return null;e=a.matches}}let l=e,s=a?.errors;if(null!=s){let e=l.findIndex(e=>e.route.id&&void 0!==s?.[e.route.id]);o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),l=l.slice(0,Math.min(l.length,e+1))}let i=!1,c=-1;if(a)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=a,n=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||n){i=!0,l=c>=0?l.slice(0,c+1):[l[0]];break}}}let m=a&&n?(e,t)=>{n(e,{location:a.location,params:a.matches?.[0]?.params??{},errorInfo:t})}:void 0;return l.reduceRight((e,n,o)=>{let d,u=!1,p=null,g=null;a&&(d=s&&n.route.id?s[n.route.id]:void 0,p=n.route.errorElement||ae,i&&(c<0&&0===o?(oe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,g=null):c===o&&(u=!0,g=n.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,o+1)),b=()=>{let t;return t=d?p:u?g:n.route.Component?r.createElement(n.route.Component,null):n.route.element?n.route.element:e,r.createElement(ne,{match:n,routeContext:{outlet:e,matches:h,isDataRoute:null!=a},children:t})};return a&&(n.route.ErrorBoundary||n.route.errorElement||0===o)?r.createElement(re,{location:a.location,revalidation:a.revalidation,component:p,error:d,children:b(),routeContext:{outlet:null,matches:h,isDataRoute:!0},onError:m}):b()},null)}(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),i,a,n,l);return t&&N?r.createElement(U.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},N):N}function te(){let e=function(){let e=r.useContext(W),t=function(e){let t=r.useContext(I);return o(t,le(e)),t}("useRouteError"),a=se("useRouteError");return void 0!==e?e:t.errors?.[a]}(),t=F(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=r.createElement(r.Fragment,null,r.createElement("p",null,"üíø Hey developer üëã"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),a?r.createElement("pre",{style:l},a):null,i)}r.createContext(null);var ae=r.createElement(te,null),re=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(q.Provider,{value:this.props.routeContext},r.createElement(W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ne({routeContext:e,match:t,children:a}){let n=r.useContext(z);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),r.createElement(q.Provider,{value:e},a)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function se(e){let t=function(e){let t=r.useContext(q);return o(t,le(e)),t}(e),a=t.matches[t.matches.length-1];return o(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}var ie={};function oe(e,t,a){t||ie[e]||(ie[e]=!0,c(!1,a))}function ce({to:e,replace:t,state:a,relative:n}){o(J(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=r.useContext(H);c(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=r.useContext(q),{pathname:i}=G(),m=X(),d=T(e,L(s),i,"path"===n),u=JSON.stringify(d);return r.useEffect(()=>{m(JSON.parse(u),{replace:t,state:a,relative:n})},[m,u,n,t,a]),null}function me(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function de({basename:e="/",children:t=null,location:a,navigationType:n="POP",navigator:l,static:s=!1}){o(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:i,navigator:l,static:s,future:{}}),[i,l,s]);"string"==typeof a&&(a=p(a));let{pathname:d="/",search:u="",hash:g="",state:h=null,key:b="default"}=a,f=r.useMemo(()=>{let e=j(d,i);return null==e?null:{location:{pathname:e,search:u,hash:g,state:h,key:b},navigationType:n}},[i,d,u,g,h,b,n]);return c(null!=f,`<Router basename="${i}"> is not able to match the URL "${d}${u}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==f?null:r.createElement(H.Provider,{value:m},r.createElement(U.Provider,{children:t,value:f}))}function ue({children:e,location:t}){return ee(pe(e),t)}function pe(e,t=[]){let a=[];return r.Children.forEach(e,(e,n)=>{if(!r.isValidElement(e))return;let l=[...t,n];if(e.type===r.Fragment)return void a.push.apply(a,pe(e.props.children,l));o(e.type===me,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=pe(e.props.children,l)),a.push(s)}),a}r.memo(function({routes:e,future:t,state:a,unstable_onError:r}){return ee(e,void 0,a,r,t)}),r.Component;var ge="get",he="application/x-www-form-urlencoded";function be(e){return null!=e&&"string"==typeof e.tagName}var fe=null,ye=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xe(e){return null==e||ye.has(e)?e:(c(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${he}"`),null)}function Ee(e,t){if(!1===e||null==e)throw new Error(t)}function ve(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function Ne(e,t,a,r,n,l){let s=(e,t)=>!a[t]||e.route.id!==a[t].route.id,i=(e,t)=>a[t].pathname!==e.pathname||a[t].route.path?.endsWith("*")&&a[t].params["*"]!==e.params["*"];return"assets"===l?t.filter((e,t)=>s(e,t)||i(e,t)):"data"===l?t.filter((t,l)=>{let o=r.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(s(t,l)||i(t,l))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function we(e,t,{includeHydrateFallback:a}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let n=[r.module];return r.clientActionModule&&(n=n.concat(r.clientActionModule)),r.clientLoaderModule&&(n=n.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(n=n.concat(r.hydrateFallbackModule)),r.imports&&(n=n.concat(r.imports)),n}).flat(1),[...new Set(r)];var r}function ke(){let e=r.useContext(z);return Ee(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Se(){let e=r.useContext(I);return Ee(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis,Symbol("SingleFetchRedirect");var Ce=r.createContext(void 0);function _e(){let e=r.useContext(Ce);return Ee(e,"You must render this element inside a <HydratedRouter> element"),e}function je(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function Pe({page:e,...t}){let{router:a}=ke(),n=r.useMemo(()=>g(a.routes,e,a.basename),[a.routes,e,a.basename]);return n?r.createElement(Ae,{page:e,matches:n,...t}):null}function De(e){let{manifest:t,routeModules:a}=_e(),[n,l]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,a){return function(e,t){let a=new Set,r=new Set(t);return e.reduce((e,n)=>{if(t&&(null==(l=n)||"string"!=typeof l.page)&&"script"===n.as&&n.href&&r.has(n.href))return e;var l;let s=JSON.stringify(function(e){let t={},a=Object.keys(e).sort();for(let r of a)t[r]=e[r];return t}(n));return a.has(s)||(a.add(s),e.push({key:s,link:n})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,a);return e.links?e.links():[]}return[]}))).flat(1).filter(ve).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,a).then(e=>{r||l(e)}),()=>{r=!0}},[e,t,a]),n}function Ae({page:e,matches:t,...a}){let n=G(),{manifest:l,routeModules:s}=_e(),{basename:i}=ke(),{loaderData:o,matches:c}=Se(),m=r.useMemo(()=>Ne(e,t,c,l,n,"data"),[e,t,c,l,n]),d=r.useMemo(()=>Ne(e,t,c,l,n,"assets"),[e,t,c,l,n]),u=r.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let a=new Set,r=!1;if(t.forEach(e=>{let t=l.routes[e.route.id];t&&t.hasLoader&&(!m.some(t=>t.route.id===e.route.id)&&e.route.id in o&&s[e.route.id]?.shouldRevalidate||t.hasClientLoader?r=!0:a.add(e.route.id))}),0===a.size)return[];let c=function(e,t,a){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${a}`:t&&"/"===j(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}(e,i,"data");return r&&a.size>0&&c.searchParams.set("_routes",t.filter(e=>a.has(e.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[i,o,n,l,m,t,e,s]),p=r.useMemo(()=>we(d,l),[d,l]),g=De(d);return r.createElement(r.Fragment,null,u.map(e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),p.map(e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),g.map(({key:e,link:t})=>r.createElement("link",{key:e,nonce:a.nonce,...t})))}Ce.displayName="FrameworkContext";function Le(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}r.Component;var Te="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Te&&(window.__reactRouterVersion="7.9.6")}catch(e){}function Me({basename:e,children:t,window:a}){let n=r.useRef();null==n.current&&(n.current=i({window:a,v5Compat:!0}));let l=n.current,[s,o]=r.useState({action:l.action,location:l.location}),c=r.useCallback(e=>{r.startTransition(()=>o(e))},[o]);return r.useLayoutEffect(()=>l.listen(c),[l,c]),r.createElement(de,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:l})}var Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=r.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:n,reloadDocument:l,replace:s,state:i,target:m,to:d,preventScrollReset:p,viewTransition:g,...h},b){let f,{basename:y}=r.useContext(H),x="string"==typeof d&&Re.test(d),E=!1;if("string"==typeof d&&x&&(f=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),a=j(t.pathname,y);t.origin===e.origin&&null!=a?d=a+t.search+t.hash:E=!0}catch(e){c(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=function(e,{relative:t}={}){o(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=r.useContext(H),{hash:l,pathname:s,search:i}=Z(e,{relative:t}),c=s;return"/"!==a&&(c="/"===s?a:M([a,s])),n.createHref({pathname:c,search:i,hash:l})}(d,{relative:n}),[N,w,k]=function(e,t){let a=r.useContext(Ce),[n,l]=r.useState(!1),[s,i]=r.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:m,onMouseLeave:d,onTouchStart:u}=t,p=r.useRef(null);r.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(n){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[n]);let g=()=>{l(!0)},h=()=>{l(!1),i(!1)};return a?"intent"!==e?[s,p,{}]:[s,p,{onFocus:je(o,g),onBlur:je(c,h),onMouseEnter:je(m,g),onMouseLeave:je(d,h),onTouchStart:je(u,g)}]:[!1,p,{}]}(a,h),S=function(e,{target:t,replace:a,state:n,preventScrollReset:l,relative:s,viewTransition:i}={}){let o=X(),c=G(),m=Z(e,{relative:s});return r.useCallback(r=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(r,t)){r.preventDefault();let t=void 0!==a?a:u(c)===u(m);o(e,{replace:t,state:n,preventScrollReset:l,relative:s,viewTransition:i})}},[c,o,m,a,n,t,e,l,s,i])}(d,{replace:s,state:i,target:m,preventScrollReset:p,relative:n,viewTransition:g}),C=r.createElement("a",{...h,...k,href:f||v,onClick:E||l?e:function(t){e&&e(t),t.defaultPrevented||S(t)},ref:Le(b,w),target:m,"data-discover":x||"render"!==t?void 0:"true"});return N&&!x?r.createElement(r.Fragment,null,C,r.createElement(Pe,{page:v})):C});function Be(e){let t=r.useContext(z);return o(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}$e.displayName="Link",r.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:n=!1,style:l,to:s,viewTransition:i,children:c,...m},d){let u=Z(s,{relative:m.relative}),p=G(),g=r.useContext(I),{navigator:h,basename:b}=r.useContext(H),f=null!=g&&function(e,{relative:t}={}){let a=r.useContext(K);o(null!=a,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Be("useViewTransitionState"),l=Z(e,{relative:t});if(!a.isTransitioning)return!1;let s=j(a.currentLocation.pathname,n)||a.currentLocation.pathname,i=j(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=C(l.pathname,i)||null!=C(l.pathname,s)}(u)&&!0===i,y=h.encodeLocation?h.encodeLocation(u).pathname:u.pathname,x=p.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(x=x.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase()),E&&b&&(E=j(E,b)||E);const v="/"!==y&&y.endsWith("/")?y.length-1:y.length;let N,w=x===y||!n&&x.startsWith(y)&&"/"===x.charAt(v),k=null!=E&&(E===y||!n&&E.startsWith(y)&&"/"===E.charAt(y.length)),S={isActive:w,isPending:k,isTransitioning:f},_=w?e:void 0;N="function"==typeof a?a(S):[a,w?"active":null,k?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let P="function"==typeof l?l(S):l;return r.createElement($e,{...m,"aria-current":_,className:N,ref:d,style:P,to:s,viewTransition:i},"function"==typeof c?c(S):c)}).displayName="NavLink",r.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:n,replace:l,state:s,method:i=ge,action:c,onSubmit:m,relative:d,preventScrollReset:p,viewTransition:g,...h},b)=>{let f=function(){let{router:e}=Be("useSubmit"),{basename:t}=r.useContext(H),a=se("useRouteId");return r.useCallback(async(r,n={})=>{let{action:l,method:s,encType:i,formData:o,body:c}=function(e,t){let a,r,n,l,s;if(be(i=e)&&"form"===i.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?j(s,t):null,a=e.getAttribute("method")||ge,n=xe(e.getAttribute("enctype"))||he,l=new FormData(e)}else if(function(e){return be(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return be(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||s.getAttribute("action");if(r=i?j(i,t):null,a=e.getAttribute("formmethod")||s.getAttribute("method")||ge,n=xe(e.getAttribute("formenctype"))||xe(s.getAttribute("enctype"))||he,l=new FormData(s,e),!function(){if(null===fe)try{new FormData(document.createElement("form"),0),fe=!1}catch(e){fe=!0}return fe}()){let{name:t,type:a,value:r}=e;if("image"===a){let e=t?`${t}.`:"";l.append(`${e}x`,"0"),l.append(`${e}y`,"0")}else t&&l.append(t,r)}}else{if(be(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=ge,r=null,n=he,s=e}var i;return l&&"text/plain"===n&&(s=l,l=void 0),{action:r,method:a.toLowerCase(),encType:n,formData:l,body:s}}(r,t);if(!1===n.navigate){let t=n.fetcherKey||Oe();await e.fetch(t,a,n.action||l,{preventScrollReset:n.preventScrollReset,formData:o,body:c,formMethod:n.method||s,formEncType:n.encType||i,flushSync:n.flushSync})}else await e.navigate(n.action||l,{preventScrollReset:n.preventScrollReset,formData:o,body:c,formMethod:n.method||s,formEncType:n.encType||i,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,a])}(),y=function(e,{relative:t}={}){let{basename:a}=r.useContext(H),n=r.useContext(q);o(n,"useFormAction must be used inside a RouteContext");let[l]=n.matches.slice(-1),s={...Z(e||".",{relative:t})},i=G();if(null==e){s.search=i.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let a=e.toString();s.search=a?`?${a}`:""}}return e&&"."!==e||!l.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),"/"!==a&&(s.pathname="/"===s.pathname?a:M([a,s.pathname])),u(s)}(c,{relative:d}),x="get"===i.toLowerCase()?"get":"post",E="string"==typeof c&&Re.test(c);return r.createElement("form",{ref:b,method:x,action:y,onSubmit:n?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,n=r?.getAttribute("formmethod")||i;f(r||e.currentTarget,{fetcherKey:t,method:n,navigate:a,replace:l,state:s,relative:d,preventScrollReset:p,viewTransition:g})},...h,"data-discover":E||"render"!==e?void 0:"true"})}).displayName="Form";var Fe=0,Oe=()=>`__${String(++Fe)}__`;const Ve=(0,r.createContext)(),ze=()=>(0,r.useContext)(Ve),Ie=({children:e})=>{const t=window.umh_wp_data||{},[a,n]=(0,r.useState)(t.user||null),[l,s]=(0,r.useState)(t.nonce||""),[i,o]=(0,r.useState)(localStorage.getItem("umh_token")||""),[c,m]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t.nonce?console.log("‚úÖ UMH: Terhubung sebagai",t.user?.name):console.warn("‚ö†Ô∏è UMH: Nonce tidak ditemukan. Pastikan plugin aktif.")},[]),(0,r.createElement)(Ve.Provider,{value:{currentUser:a,nonce:l,token:i,login:(e,t)=>{n(e),o(t),localStorage.setItem("umh_token",t)},logout:()=>{n(null),o(""),localStorage.removeItem("umh_token")},loading:c,isAdmin:t.is_wp_admin,urls:{admin:t.adminUrl,print:t.printUrl}}},e)},Ke=(0,r.createContext)(),He=()=>(0,r.useContext)(Ke),Ue=({children:e})=>{const{token:t,nonce:a}=ze(),[n,l]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null),o=async(e,r="GET",n=null,s=!1)=>{l(!0),i(null);try{const l={"X-WP-Nonce":a,Accept:"application/json"};t&&(l.Authorization=`Bearer ${t}`),s||(l["Content-Type"]="application/json");const i={method:r,headers:l};n&&(i.body=s?n:JSON.stringify(n));const o=await fetch(`/wp-json/umh/v1${e}`,i),c=await o.text();let m;try{m=JSON.parse(c)}catch(e){console.error("‚ùå Non-JSON Response:",c);const t=c.includes("<")?"Server Error (Cek Console Browser)":c;throw new Error(`Terjadi kesalahan server: ${t}`)}if(!o.ok)throw new Error(m.message||m.code||"Gagal memproses permintaan");return m}catch(e){throw console.error("API Error:",e),i(e.message),e}finally{l(!1)}},c={get:e=>o(e,"GET"),post:(e,t)=>o(e,"POST",t),put:(e,t)=>o(e,"PUT",t),delete:e=>o(e,"DELETE")};return(0,r.createElement)(Ke.Provider,{value:{loading:n,error:s,apiCall:o,api:c,getPackages:e=>o(`/packages?${new URLSearchParams(e)}`),deletePackage:e=>o(`/packages/${e}`,"DELETE"),createJamaah:e=>o("/jamaah","POST",e),updateJamaah:(e,t)=>o(`/jamaah/${e}`,"PUT",t),getJamaahList:e=>o(`/jamaah?${new URLSearchParams(e)}`),createPayment:e=>o("/finance/payments","POST",e),createCashTransaction:e=>o("/finance/cash-flow","POST",e),createOrUpdate:(e,t,a=null)=>a?o(`/${e}/${a}`,"PUT",t):o(`/${e}`,"POST",t),getDashboardStats:()=>o("/stats/dashboard"),fetchLogs:()=>o("/logs")}},e)},qe=e=>{if(window.umhSettings&&window.umhSettings.assetsUrl){const t=e.startsWith("/")?e.slice(1):e;return`${window.umhSettings.assetsUrl}${t}`}return`/assets/${e}`},We=()=>{const e=G().pathname,t=t=>e===t;return(0,r.createElement)("div",{className:"bg-white w-64 h-full shadow-lg flex flex-col border-r border-gray-200"},(0,r.createElement)("div",{className:"p-6 flex items-center justify-center border-b border-gray-100"},(0,r.createElement)("img",{src:qe("images/logo.png"),alt:"Logo Travel",className:"h-12 w-auto object-contain",onError:e=>{e.target.onerror=null,e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,r.createElement)("span",{className:"text-xl font-bold text-teal-600 hidden ml-2"},"JF Banten")),(0,r.createElement)("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-1"},[{path:"/dashboard",label:"Dashboard",icon:"dashicons-dashboard"},{path:"/jamaah",label:"Data Jamaah",icon:"dashicons-groups"},{path:"/packages",label:"Paket Umroh",icon:"dashicons-tickets-alt"},{path:"/finance",label:"Keuangan",icon:"dashicons-money-alt"},{path:"/inventory",label:"Inventaris",icon:"dashicons-products"},{path:"/manifest",label:"Manifest",icon:"dashicons-clipboard"},{path:"/rooming",label:"Rooming",icon:"dashicons-building"},{path:"/hr",label:"HRD",icon:"dashicons-businessperson"},{path:"/branches",label:"Cabang",icon:"dashicons-networking"},{path:"/marketing",label:"Marketing",icon:"dashicons-megaphone"},{path:"/agent-dashboard",label:"Agen",icon:"dashicons-admin-users"},{path:"/master-data",label:"Master Data",icon:"dashicons-database"},{path:"/logs",label:"Logs",icon:"dashicons-list-view"}].map(e=>(0,r.createElement)($e,{key:e.path,to:e.path,className:"group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors duration-150 "+(t(e.path)?"bg-teal-50 text-teal-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900")},(0,r.createElement)("span",{className:`dashicons ${e.icon} mr-3 text-lg ${t(e.path)?"text-teal-600":"text-gray-400 group-hover:text-gray-500"}`}),e.label))),(0,r.createElement)("div",{className:"p-4 border-t border-gray-200"},(0,r.createElement)("div",{className:"flex items-center"},(0,r.createElement)("div",{className:"ml-3"},(0,r.createElement)("p",{className:"text-sm font-medium text-gray-700"},"Admin User"),(0,r.createElement)("p",{className:"text-xs text-gray-500"},"Administrator")))))},Je=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ge=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),Qe=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Xe=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:l="",children:s,iconNode:i,...o},c)=>(0,r.createElement)("svg",{ref:c,...Ye,width:t,height:t,stroke:e,strokeWidth:n?24*Number(a)/Number(t):a,className:Ge("lucide",l),...!s&&!Qe(o)&&{"aria-hidden":"true"},...o},[...i.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(s)?s:[s]])),Ze=(e,t)=>{const a=(0,r.forwardRef)(({className:a,...n},l)=>{return(0,r.createElement)(Xe,{ref:l,iconNode:t,className:Ge(`lucide-${s=Je(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...n});var s});return a.displayName=Je(e),a},et=Ze("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),tt=Ze("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),at=Ze("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),rt=({toggleSidebar:e})=>{const{user:t}=ze();return(0,r.createElement)("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm/50 backdrop-blur-md bg-white/90"},(0,r.createElement)("div",{className:"px-4 h-16 flex items-center justify-between lg:justify-end gap-4"},(0,r.createElement)("button",{onClick:e,className:"p-2 -ml-2 text-gray-600 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-500"},(0,r.createElement)(et,{size:24})),(0,r.createElement)("div",{className:"hidden md:flex flex-1 max-w-xl mx-4 relative"},(0,r.createElement)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},(0,r.createElement)(tt,{size:18,className:"text-gray-400"})),(0,r.createElement)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-lg leading-5 bg-gray-50 text-gray-900 placeholder-gray-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm transition-all",placeholder:"Cari data jemaah, invoice, atau manifest..."})),(0,r.createElement)("div",{className:"flex items-center gap-3"},(0,r.createElement)("button",{className:"relative p-2 text-gray-500 hover:text-emerald-600 transition-colors rounded-full hover:bg-emerald-50"},(0,r.createElement)(at,{size:20}),(0,r.createElement)("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white"})),(0,r.createElement)("div",{className:"h-6 w-px bg-gray-200 hidden sm:block"}),(0,r.createElement)("div",{className:"hidden sm:flex flex-col items-end mr-2"},(0,r.createElement)("span",{className:"text-sm font-semibold text-gray-800 leading-none"},t?.name),(0,r.createElement)("span",{className:"text-[10px] text-gray-500 uppercase tracking-wide mt-1"},t?.role)))))},nt=({size:e="md",color:t="blue"})=>(0,r.createElement)("svg",{className:`animate-spin ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[e]} ${{blue:"text-blue-600",white:"text-white",gray:"text-gray-600"}[t]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,r.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),lt=({text:e="Memuat data..."})=>(0,r.createElement)("div",{className:"flex flex-col items-center justify-center p-10 h-64 w-full"},(0,r.createElement)(nt,{size:"lg",color:"blue"}),(0,r.createElement)("p",{className:"mt-4 text-gray-500 font-medium animate-pulse"},e)),st=({title:e,value:t,icon:a,color:n})=>{const l={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",yellow:"from-yellow-400 to-yellow-500",indigo:"from-indigo-500 to-indigo-600",red:"from-red-500 to-red-600",gray:"from-gray-500 to-gray-600"}[n]||"from-blue-500 to-blue-600";return(0,r.createElement)("div",{className:"bg-white overflow-hidden shadow-sm hover:shadow-md transition-shadow rounded-xl border border-gray-100"},(0,r.createElement)("div",{className:"p-5"},(0,r.createElement)("div",{className:"flex items-center justify-between"},(0,r.createElement)("div",{className:"flex-1 min-w-0"},(0,r.createElement)("p",{className:"text-sm font-medium text-gray-500 truncate uppercase tracking-wider"},e),(0,r.createElement)("div",{className:"mt-1 text-2xl font-extrabold text-gray-900"},t)),(0,r.createElement)("div",{className:`flex-shrink-0 rounded-lg p-3 bg-gradient-to-br ${l} text-white shadow-lg transform transition-transform hover:scale-105`},(0,r.createElement)("span",{className:"text-xl"},a)))))},it=Ze("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),ot=Ze("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ct=Ze("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),mt=Ze("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),dt=Ze("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),ut=Ze("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),pt=({message:e})=>e?(0,r.createElement)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 my-4"},(0,r.createElement)("div",{className:"flex"},(0,r.createElement)("div",{className:"flex-shrink-0"},(0,r.createElement)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},(0,r.createElement)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))),(0,r.createElement)("div",{className:"ml-3"},(0,r.createElement)("p",{className:"text-sm text-red-700"},e)))):null;var gt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ht=r.createContext&&r.createContext(gt),bt=["attr","size","title"];function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ft.apply(this,arguments)}function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(a),!0).forEach(function(t){var r,n,l,s;r=e,n=t,l=a[t],(n="symbol"==typeof(s=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n))?s:s+"")in r?Object.defineProperty(r,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Et(e){return e&&e.map((e,t)=>r.createElement(e.tag,xt({key:t},e.attr),Et(e.child)))}function vt(e){return t=>r.createElement(Nt,ft({attr:xt({},e.attr)},t),Et(e.child))}function Nt(e){var t=t=>{var a,{attr:n,size:l,title:s}=e,i=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,bt),o=l||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",ft({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,i,{className:a,style:xt(xt({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==ht?r.createElement(ht.Consumer,null,e=>t(e)):t(gt)}function wt(e){return vt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function kt(e){return vt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function St(e){return vt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Ct(e){return vt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function _t(e){return vt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const jt=()=>{const{user:e}=ze(),{get:t}=He(),[a,n]=(0,r.useState)(null),[l,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,m]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(async()=>{try{o(!0);const e=await t("/agent/dashboard-stats");e.success&&n(e.data);const a=await t("/agent/recent-leads");a.success&&s(a.data)}catch(e){console.error("Agent Dashboard Error:",e),m("Gagal memuat data dashboard. Pastikan anda terhubung ke server.")}finally{o(!1)}})()},[t]),i)return(0,r.createElement)(lt,null);if(c)return(0,r.createElement)(pt,{message:c});const d=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e||0);return(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden"},(0,r.createElement)("div",{className:"relative z-10"},(0,r.createElement)("h1",{className:"text-2xl font-bold mb-2"},"Selamat Datang, ",e?.name||"Partner","!"),(0,r.createElement)("p",{className:"opacity-90 text-blue-100"},"Pantau performa dan komisi anda hari ini."),(0,r.createElement)("div",{className:"mt-6 flex flex-wrap gap-3"},(0,r.createElement)("button",{className:"bg-white text-blue-700 px-5 py-2.5 rounded-lg font-bold text-sm flex items-center gap-2 shadow hover:bg-gray-100 transition transform hover:-translate-y-0.5"},(0,r.createElement)(Ct,null)," Input Jemaah Baru"),(0,r.createElement)("button",{className:"bg-blue-900 bg-opacity-40 text-white border border-white border-opacity-30 px-5 py-2.5 rounded-lg font-medium text-sm flex items-center gap-2 hover:bg-opacity-60 transition backdrop-blur-sm"},(0,r.createElement)(kt,null)," Link Referral"))),(0,r.createElement)("div",{className:"absolute -right-10 -bottom-10 w-48 h-48 bg-white opacity-10 rounded-full blur-2xl"}),(0,r.createElement)("div",{className:"absolute top-10 right-20 w-20 h-20 bg-blue-400 opacity-20 rounded-full blur-xl"})),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},(0,r.createElement)(st,{title:"Jemaah Closing",value:a?.totalJamaah||0,icon:(0,r.createElement)(_t,null),color:"bg-green-500"}),(0,r.createElement)(st,{title:"Komisi Pending",value:d(a?.komisiPending),icon:(0,r.createElement)(wt,null),color:"bg-yellow-500"}),(0,r.createElement)(st,{title:"Komisi Cair",value:d(a?.komisiCair),icon:(0,r.createElement)(wt,null),color:"bg-blue-500"}),(0,r.createElement)(st,{title:"Prospek Baru",value:a?.potensiLeads||0,icon:(0,r.createElement)(Ct,null),color:"bg-purple-500"})),(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("h3",{className:"font-bold text-gray-800 text-lg"},"Jemaah Terbaru Anda"),(0,r.createElement)("button",{className:"text-blue-600 text-sm font-medium hover:underline"},"Lihat Semua")),(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"w-full"},(0,r.createElement)("thead",null,(0,r.createElement)("tr",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-100"},(0,r.createElement)("th",{className:"pb-3 pl-2"},"Nama Jemaah"),(0,r.createElement)("th",{className:"pb-3"},"Paket"),(0,r.createElement)("th",{className:"pb-3"},"Tanggal Input"),(0,r.createElement)("th",{className:"pb-3"},"Status"),(0,r.createElement)("th",{className:"pb-3 text-right pr-2"},"Aksi"))),(0,r.createElement)("tbody",{className:"divide-y divide-gray-50"},l.length>0?l.map(e=>(0,r.createElement)("tr",{key:e.id,className:"text-sm text-gray-700 hover:bg-gray-50 transition"},(0,r.createElement)("td",{className:"py-3 pl-2 font-medium text-gray-900"},e.name),(0,r.createElement)("td",{className:"py-3"},e.paket_name||(0,r.createElement)("span",{className:"text-gray-400 italic"},"Belum pilih paket")),(0,r.createElement)("td",{className:"py-3 text-gray-500"},new Date(e.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),(0,r.createElement)("td",{className:"py-3"},(0,r.createElement)("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold inline-block\n                        "+(["paid","booked","departed"].includes(e.status)?"bg-green-100 text-green-700":["new","prospect"].includes(e.status)?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700")},e.status?e.status.replace(/_/g," ").toUpperCase():"NEW")),(0,r.createElement)("td",{className:"py-3 text-right pr-2"},(0,r.createElement)("button",{className:"text-gray-400 hover:text-blue-600 font-medium transition"},"Detail")))):(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"5",className:"py-8 text-center text-gray-400"},"Belum ada data jemaah. Silakan input jemaah pertama anda.")))))))},Pt=Ze("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Dt=Ze("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),At=Ze("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Lt=Ze("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Tt=Ze("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Mt=Ze("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Rt=()=>{const{user:e}=ze();return(0,r.createElement)("div",{className:"min-h-screen bg-gray-50 pb-20 max-w-md mx-auto shadow-2xl overflow-hidden border-x border-gray-100 relative"},(0,r.createElement)("div",{className:"bg-emerald-600 text-white p-6 rounded-b-3xl shadow-lg relative overflow-hidden"},(0,r.createElement)("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/arabesque.png')]"}),(0,r.createElement)("div",{className:"relative z-10"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-4"},(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-emerald-100 text-sm"},"Ahlan Wa Sahlan,"),(0,r.createElement)("h1",{className:"text-2xl font-bold"},e?.name||"Hamba Allah")),(0,r.createElement)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm"},(0,r.createElement)(Pt,{size:20}))),(0,r.createElement)("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 p-4 rounded-xl mt-4"},(0,r.createElement)("div",{className:"flex items-center gap-3 mb-2"},(0,r.createElement)("div",{className:"bg-amber-400 text-amber-900 p-1.5 rounded-lg"},(0,r.createElement)(Dt,{size:16})),(0,r.createElement)("span",{className:"text-sm font-medium"},"Hitung Mundur")),(0,r.createElement)("h2",{className:"text-3xl font-bold text-center my-2"},"24 ",(0,r.createElement)("span",{className:"text-base font-normal"},"Hari Lagi")),(0,r.createElement)("div",{className:"text-center text-xs text-emerald-100 bg-emerald-800/30 py-1 rounded-full"},"Keberangkatan: ","15 Oktober 2024")))),(0,r.createElement)("div",{className:"grid grid-cols-4 gap-4 p-6 -mt-2"},[{icon:At,label:"Dokumen",color:"blue"},{icon:Lt,label:"Itinerary",color:"amber"},{icon:Tt,label:"Doa",color:"emerald"},{icon:Mt,label:"Jadwal",color:"purple"}].map((e,t)=>(0,r.createElement)("button",{key:t,className:"flex flex-col items-center gap-2 group"},(0,r.createElement)("div",{className:`w-14 h-14 rounded-2xl bg-${e.color}-100 text-${e.color}-600 flex items-center justify-center shadow-sm group-active:scale-95 transition-transform`},(0,r.createElement)(e.icon,{size:24})),(0,r.createElement)("span",{className:"text-xs font-medium text-gray-600"},e.label)))),(0,r.createElement)("div",{className:"px-6 space-y-4"},(0,r.createElement)("h3",{className:"font-bold text-gray-800"},"Detail Perjalanan"),(0,r.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4 items-center"},(0,r.createElement)("div",{className:"bg-gray-100 p-3 rounded-lg"},(0,r.createElement)(Lt,{className:"text-gray-600",size:20})),(0,r.createElement)("div",{className:"flex-1"},(0,r.createElement)("p",{className:"text-xs text-gray-400"},"Hotel Mekkah"),(0,r.createElement)("p",{className:"font-semibold text-gray-800"},"Zam Zam Tower"))),(0,r.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4 items-center"},(0,r.createElement)("div",{className:"bg-gray-100 p-3 rounded-lg"},(0,r.createElement)(Lt,{className:"text-gray-600",size:20})),(0,r.createElement)("div",{className:"flex-1"},(0,r.createElement)("p",{className:"text-xs text-gray-400"},"Hotel Madinah"),(0,r.createElement)("p",{className:"font-semibold text-gray-800"},"Ruve Al Madinah"))),(0,r.createElement)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 p-4 rounded-xl shadow-lg text-white mt-6"},(0,r.createElement)("div",{className:"flex items-start gap-3"},(0,r.createElement)(Tt,{className:"mt-1 opacity-80",size:20}),(0,r.createElement)("div",null,(0,r.createElement)("h4",{className:"font-bold text-sm mb-1"},"Doa Safar"),(0,r.createElement)("p",{className:"text-xs opacity-90 italic"},'"Subhanalladzi sakhara lana hadza..."'),(0,r.createElement)("button",{className:"mt-3 text-xs bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-lg transition"},"Baca Lengkap"))))),(0,r.createElement)("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 py-3 px-6 flex justify-around items-center max-w-md mx-auto right-0 shadow-[0_-5px_15px_rgba(0,0,0,0.05)]"},(0,r.createElement)("button",{className:"flex flex-col items-center gap-1 text-emerald-600"},(0,r.createElement)(Lt,{size:22,fill:"currentColor",className:"opacity-20"}),(0,r.createElement)("span",{className:"text-[10px] font-bold"},"Home")),(0,r.createElement)("button",{className:"flex flex-col items-center gap-1 text-gray-400"},(0,r.createElement)(Tt,{size:22}),(0,r.createElement)("span",{className:"text-[10px]"},"Panduan")),(0,r.createElement)("button",{className:"flex flex-col items-center gap-1 text-gray-400"},(0,r.createElement)(Pt,{size:22}),(0,r.createElement)("span",{className:"text-[10px]"},"Profil"))))},$t=()=>{const{user:e}=ze();if("jamaah"===e?.role)return(0,r.createElement)(Rt,null);if("agent"===e?.role)return(0,r.createElement)(jt,null);const t=[{label:"Total Jemaah Aktif",value:"1,240",icon:it,color:"emerald",trend:"+12%"},{label:"Pendapatan Bulan Ini",value:"Rp 4.2M",icon:ot,color:"amber",trend:"+8%"},{label:"Keberangkatan Next",value:"15 Okt",icon:ct,color:"blue",sub:"45 Pax"},{label:"Sisa Kuota Paket",value:"12",icon:mt,color:"red",sub:"Paket Hemat"}],a="staff"===e?.role?t.filter(e=>e.icon!==ot):t;return(0,r.createElement)("div",{className:"p-6 space-y-8 animate-fade-in-up"},(0,r.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Assalamu'alaikum, ",e?.name),(0,r.createElement)("p",{className:"text-gray-500 mt-1"},"Berikut ringkasan operasional travel hari ini.")),(0,r.createElement)("div",{className:"flex gap-2"},(0,r.createElement)("button",{className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg shadow-lg shadow-emerald-200 transition-all text-sm font-medium flex items-center gap-2"},(0,r.createElement)(it,{size:16})," Daftar Jemaah Baru"))),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},a.map((e,t)=>(0,r.createElement)("div",{key:t,className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative overflow-hidden group"},(0,r.createElement)("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity bg-${e.color}-500 rounded-bl-3xl`},(0,r.createElement)(e.icon,{size:40})),(0,r.createElement)("div",{className:"flex items-center gap-4"},(0,r.createElement)("div",{className:`p-3 rounded-xl bg-${e.color}-50 text-${e.color}-600`},(0,r.createElement)(e.icon,{size:24})),(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"text-sm text-gray-500 font-medium"},e.label),(0,r.createElement)("h3",{className:"text-2xl font-bold text-gray-800"},e.value))),(e.trend||e.sub)&&(0,r.createElement)("div",{className:"mt-4 flex items-center text-sm"},e.trend?(0,r.createElement)("span",{className:"text-emerald-600 flex items-center font-medium bg-emerald-50 px-2 py-0.5 rounded-full"},(0,r.createElement)(dt,{size:14,className:"mr-1"})," ",e.trend):(0,r.createElement)("span",{className:"text-gray-400"},e.sub),(0,r.createElement)("span",{className:"ml-2 text-gray-400 text-xs"},"vs bulan lalu"))))),(0,r.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},(0,r.createElement)("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("h3",{className:"font-bold text-gray-800"},"Pendaftaran Jemaah Terbaru"),(0,r.createElement)("button",{className:"text-sm text-emerald-600 font-medium hover:underline"},"Lihat Semua")),(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"w-full text-sm text-left"},(0,r.createElement)("thead",{className:"bg-gray-50 text-gray-500 font-medium"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-4 py-3 rounded-l-lg"},"Nama Jemaah"),(0,r.createElement)("th",{className:"px-4 py-3"},"Paket"),(0,r.createElement)("th",{className:"px-4 py-3"},"Cabang/Agen"),(0,r.createElement)("th",{className:"px-4 py-3 rounded-r-lg"},"Status"))),(0,r.createElement)("tbody",{className:"divide-y divide-gray-50"},[1,2,3,4,5].map(e=>(0,r.createElement)("tr",{key:e,className:"hover:bg-gray-50 transition-colors"},(0,r.createElement)("td",{className:"px-4 py-3 font-medium text-gray-800"},"Abdullah Bin Fulan",(0,r.createElement)("div",{className:"text-xs text-gray-400 font-normal"},"REG-202400",e)),(0,r.createElement)("td",{className:"px-4 py-3"},"Umrah Ramadhan (Quad)"),(0,r.createElement)("td",{className:"px-4 py-3"},"Cabang Serang"),(0,r.createElement)("td",{className:"px-4 py-3"},(0,r.createElement)("span",{className:"bg-amber-50 text-amber-700 px-2 py-1 rounded-md text-xs font-semibold"},"Menunggu DP")))))))),(0,r.createElement)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},(0,r.createElement)("h3",{className:"font-bold text-gray-800 mb-4"},"Tugas Pending"),(0,r.createElement)("div",{className:"space-y-4"},(0,r.createElement)("div",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-xl border border-red-100"},(0,r.createElement)(mt,{size:20,className:"text-red-500 mt-0.5"}),(0,r.createElement)("div",null,(0,r.createElement)("h4",{className:"font-semibold text-red-800 text-sm"},"Visa Expired"),(0,r.createElement)("p",{className:"text-xs text-red-600 mt-1"},"3 Paspor jemaah expired bulan depan. Segera hubungi."))),(0,r.createElement)("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-xl border border-blue-100"},(0,r.createElement)(ut,{size:20,className:"text-blue-500 mt-0.5"}),(0,r.createElement)("div",null,(0,r.createElement)("h4",{className:"font-semibold text-blue-800 text-sm"},"Manifest Final"),(0,r.createElement)("p",{className:"text-xs text-blue-600 mt-1"},"Finalisasi manifest keberangkatan tgl 15.")))))))},Bt=Ze("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ft=Ze("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Ot=Ze("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Vt=Ze("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),zt=Ze("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),It=({isOpen:e,onClose:t,title:a,children:n,size:l="md",noPadding:s=!1})=>((0,r.useEffect)(()=>{const a=e=>{"Escape"===e.key&&t()};return e&&window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,t]),e?(0,r.createElement)("div",{className:"fixed inset-0 z-50 overflow-y-auto"},(0,r.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,r.createElement)("div",{className:"flex items-center justify-center min-h-screen p-4"},(0,r.createElement)("div",{className:`relative bg-white rounded-xl shadow-2xl w-full transform transition-all ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[l]}`,onClick:e=>e.stopPropagation()},(0,r.createElement)("div",{className:"flex justify-between items-center p-5 border-b border-gray-100"},(0,r.createElement)("h3",{className:"text-xl font-bold text-gray-800"},a),(0,r.createElement)("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50"},(0,r.createElement)(St,null))),(0,r.createElement)("div",{className:s?"":"p-6"},n)))):null);var Kt=e=>"checkbox"===e.type,Ht=e=>e instanceof Date,Ut=e=>null==e;const qt=e=>"object"==typeof e;var Wt=e=>!Ut(e)&&!Array.isArray(e)&&qt(e)&&!Ht(e),Jt="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function Gt(e){let t;const a=Array.isArray(e),r="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Jt&&(e instanceof Blob||r)||!a&&!Wt(e))return e;if(t=a?[]:Object.create(Object.getPrototypeOf(e)),a||(e=>{const t=e.constructor&&e.constructor.prototype;return Wt(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const a in e)e.hasOwnProperty(a)&&(t[a]=Gt(e[a]));else t=e}return t}var Qt=e=>/^\w*$/.test(e),Yt=e=>void 0===e,Xt=e=>Array.isArray(e)?e.filter(Boolean):[],Zt=e=>Xt(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ea=(e,t,a)=>{if(!t||!Wt(e))return a;const r=(Qt(t)?[t]:Zt(t)).reduce((e,t)=>Ut(e)?e:e[t],e);return Yt(r)||r===e?Yt(e[t])?a:e[t]:r},ta=e=>"boolean"==typeof e,aa=(e,t,a)=>{let r=-1;const n=Qt(t)?[t]:Zt(t),l=n.length,s=l-1;for(;++r<l;){const t=n[r];let l=a;if(r!==s){const a=e[t];l=Wt(a)||Array.isArray(a)?a:isNaN(+n[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=l,e=e[t]}};const ra="onChange",na="onSubmit",la="all",sa="pattern",ia="required";r.createContext(null).displayName="HookFormContext";const oa="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;var ca=e=>"string"==typeof e,ma=e=>Ut(e)||!qt(e);function da(e,t,a=new WeakSet){if(ma(e)||ma(t))return Object.is(e,t);if(Ht(e)&&Ht(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;if(a.has(e)||a.has(t))return!0;a.add(e),a.add(t);for(const l of r){const r=e[l];if(!n.includes(l))return!1;if("ref"!==l){const e=t[l];if(Ht(r)&&Ht(e)||Wt(r)&&Wt(e)||Array.isArray(r)&&Array.isArray(e)?!da(r,e,a):!Object.is(r,e))return!1}}return!0}var ua=(e,t,a,r,n)=>t?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[r]:n||!0}}:{},pa=e=>Array.isArray(e)?e:[e],ga=()=>{let e=[];return{get observers(){return e},next:t=>{for(const a of e)a.next&&a.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function ha(e,t){const a={};for(const r in e)if(e.hasOwnProperty(r)){const n=e[r],l=t[r];if(n&&Wt(n)&&l){const e=ha(n,l);Wt(e)&&(a[r]=e)}else e[r]&&(a[r]=l)}return a}var ba=e=>Wt(e)&&!Object.keys(e).length,fa=e=>"file"===e.type,ya=e=>"function"==typeof e,xa=e=>{if(!Jt)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ea=e=>"select-multiple"===e.type,va=e=>"radio"===e.type,Na=e=>xa(e)&&e.isConnected;function wa(e,t){const a=Array.isArray(t)?t:Qt(t)?[t]:Zt(t),r=1===a.length?e:function(e,t){const a=t.slice(0,-1).length;let r=0;for(;r<a;)e=Yt(e)?r++:e[t[r++]];return e}(e,a),n=a.length-1,l=a[n];return r&&delete r[l],0!==n&&(Wt(r)&&ba(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Yt(e[t]))return!1;return!0}(r))&&wa(e,a.slice(0,-1)),e}function ka(e){return Array.isArray(e)||Wt(e)&&!(e=>{for(const t in e)if(ya(e[t]))return!0;return!1})(e)}function Sa(e,t={}){for(const a in e){const r=e[a];ka(r)?(t[a]=Array.isArray(r)?[]:{},Sa(r,t[a])):Yt(r)||(t[a]=!0)}return t}function Ca(e,t,a){a||(a=Sa(t));for(const r in e){const n=e[r];if(ka(n))Yt(t)||ma(a[r])?a[r]=Sa(n,Array.isArray(n)?[]:{}):Ca(n,Ut(t)?{}:t[r],a[r]);else{const e=t[r];a[r]=!da(n,e)}}return a}const _a={value:!1,isValid:!1},ja={value:!0,isValid:!0};var Pa=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Yt(e[0].attributes.value)?Yt(e[0].value)||""===e[0].value?ja:{value:e[0].value,isValid:!0}:ja:_a}return _a},Da=(e,{valueAsNumber:t,valueAsDate:a,setValueAs:r})=>Yt(e)?e:t?""===e?NaN:e?+e:e:a&&ca(e)?new Date(e):r?r(e):e;const Aa={isValid:!1,value:null};var La=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Aa):Aa;function Ta(e){const t=e.ref;return fa(t)?t.files:va(t)?La(e.refs).value:Ea(t)?[...t.selectedOptions].map(({value:e})=>e):Kt(t)?Pa(e.refs).value:Da(Yt(t.value)?e.ref.value:t.value,e)}var Ma=e=>e instanceof RegExp,Ra=e=>Yt(e)?e:Ma(e)?e.source:Wt(e)?Ma(e.value)?e.value.source:e.value:e,$a=e=>({isOnSubmit:!e||e===na,isOnBlur:"onBlur"===e,isOnChange:e===ra,isOnAll:e===la,isOnTouch:"onTouched"===e});const Ba="AsyncFunction";var Fa=e=>!!e&&!!e.validate&&!!(ya(e.validate)&&e.validate.constructor.name===Ba||Wt(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Ba)),Oa=(e,t,a)=>!a&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Va=(e,t,a,r)=>{for(const n of a||Object.keys(e)){const a=ea(e,n);if(a){const{_f:e,...l}=a;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],n)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Va(l,t))break}else if(Wt(l)&&Va(l,t))break}}};function za(e,t,a){const r=ea(e,a);if(r||Qt(a))return{error:r,name:a};const n=a.split(".");for(;n.length;){const r=n.join("."),l=ea(t,r),s=ea(e,r);if(l&&!Array.isArray(l)&&a!==r)return{name:a};if(s&&s.type)return{name:r,error:s};if(s&&s.root&&s.root.type)return{name:`${r}.root`,error:s.root};n.pop()}return{name:a}}var Ia=(e,t,a)=>{const r=pa(ea(e,a));return aa(r,"root",t[a]),aa(e,a,r),e};function Ka(e,t,a="validate"){if(ca(e)||Array.isArray(e)&&e.every(ca)||ta(e)&&!e)return{type:a,message:ca(e)?e:"",ref:t}}var Ha=e=>Wt(e)&&!Ma(e)?e:{value:e,message:""},Ua=async(e,t,a,r,n,l)=>{const{ref:s,refs:i,required:o,maxLength:c,minLength:m,min:d,max:u,pattern:p,validate:g,name:h,valueAsNumber:b,mount:f}=e._f,y=ea(a,h);if(!f||t.has(h))return{};const x=i?i[0]:s,E=e=>{n&&x.reportValidity&&(x.setCustomValidity(ta(e)?"":e||""),x.reportValidity())},v={},N=va(s),w=Kt(s),k=N||w,S=(b||fa(s))&&Yt(s.value)&&Yt(y)||xa(s)&&""===s.value||""===y||Array.isArray(y)&&!y.length,C=ua.bind(null,h,r,v),_=(e,t,a,r="maxLength",n="minLength")=>{const l=e?t:a;v[h]={type:e?r:n,message:l,ref:s,...C(e?r:n,l)}};if(l?!Array.isArray(y)||!y.length:o&&(!k&&(S||Ut(y))||ta(y)&&!y||w&&!Pa(i).isValid||N&&!La(i).isValid)){const{value:e,message:t}=ca(o)?{value:!!o,message:o}:Ha(o);if(e&&(v[h]={type:ia,message:t,ref:x,...C(ia,t)},!r))return E(t),v}if(!(S||Ut(d)&&Ut(u))){let e,t;const a=Ha(u),n=Ha(d);if(Ut(y)||isNaN(y)){const r=s.valueAsDate||new Date(y),l=e=>new Date((new Date).toDateString()+" "+e),i="time"==s.type,o="week"==s.type;ca(a.value)&&y&&(e=i?l(y)>l(a.value):o?y>a.value:r>new Date(a.value)),ca(n.value)&&y&&(t=i?l(y)<l(n.value):o?y<n.value:r<new Date(n.value))}else{const r=s.valueAsNumber||(y?+y:y);Ut(a.value)||(e=r>a.value),Ut(n.value)||(t=r<n.value)}if((e||t)&&(_(!!e,a.message,n.message,"max","min"),!r))return E(v[h].message),v}if((c||m)&&!S&&(ca(y)||l&&Array.isArray(y))){const e=Ha(c),t=Ha(m),a=!Ut(e.value)&&y.length>+e.value,n=!Ut(t.value)&&y.length<+t.value;if((a||n)&&(_(a,e.message,t.message),!r))return E(v[h].message),v}if(p&&!S&&ca(y)){const{value:e,message:t}=Ha(p);if(Ma(e)&&!y.match(e)&&(v[h]={type:sa,message:t,ref:s,...C(sa,t)},!r))return E(t),v}if(g)if(ya(g)){const e=Ka(await g(y,a),x);if(e&&(v[h]={...e,...C("validate",e.message)},!r))return E(e.message),v}else if(Wt(g)){let e={};for(const t in g){if(!ba(e)&&!r)break;const n=Ka(await g[t](y,a),x,t);n&&(e={...n,...C(t,n.message)},E(n.message),r&&(v[h]=e))}if(!ba(e)&&(v[h]={ref:x,...e},!r))return v}return E(!0),v};const qa={mode:na,reValidateMode:ra,shouldFocusError:!0};function Wa(e={}){let t,a={...qa,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ya(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},n={},l=(Wt(a.defaultValues)||Wt(a.values))&&Gt(a.defaultValues||a.values)||{},s=a.shouldUnregister?{}:Gt(l),i={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...m};const u={array:ga(),state:ga()},p=a.criteriaMode===la,g=async e=>{if(!a.disabled&&(m.isValid||d.isValid||e)){const e=a.resolver?ba((await y()).errors):await x(n,!0);e!==r.isValid&&u.state.next({isValid:e})}},h=(e,t)=>{!a.disabled&&(m.isValidating||m.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(o.mount)).forEach(e=>{e&&(t?aa(r.validatingFields,e,t):wa(r.validatingFields,e))}),u.state.next({validatingFields:r.validatingFields,isValidating:!ba(r.validatingFields)}))},b=(e,t,a,r)=>{const o=ea(n,e);if(o){const n=ea(s,e,Yt(a)?ea(l,e):a);Yt(n)||r&&r.defaultChecked||t?aa(s,e,t?n:Ta(o._f)):N(e,n),i.mount&&!i.action&&g()}},f=(e,t,n,s,i)=>{let o=!1,c=!1;const p={name:e};if(!a.disabled){if(!n||s){(m.isDirty||d.isDirty)&&(c=r.isDirty,r.isDirty=p.isDirty=E(),o=c!==p.isDirty);const a=da(ea(l,e),t);c=!!ea(r.dirtyFields,e),a?wa(r.dirtyFields,e):aa(r.dirtyFields,e,!0),p.dirtyFields=r.dirtyFields,o=o||(m.dirtyFields||d.dirtyFields)&&c!==!a}if(n){const t=ea(r.touchedFields,e);t||(aa(r.touchedFields,e,n),p.touchedFields=r.touchedFields,o=o||(m.touchedFields||d.touchedFields)&&t!==n)}o&&i&&u.state.next(p)}return o?p:{}},y=async e=>{h(e,!0);const t=await a.resolver(s,a.context,((e,t,a,r)=>{const n={};for(const a of e){const e=ea(t,a);e&&aa(n,a,e._f)}return{criteriaMode:a,names:[...e],fields:n,shouldUseNativeValidation:r}})(e||o.mount,n,a.criteriaMode,a.shouldUseNativeValidation));return h(e),t},x=async(e,t,n={valid:!0})=>{for(const l in e){const i=e[l];if(i){const{_f:e,...l}=i;if(e){const l=o.array.has(e.name),c=i._f&&Fa(i._f);c&&m.validatingFields&&h([e.name],!0);const d=await Ua(i,o.disabled,s,p,a.shouldUseNativeValidation&&!t,l);if(c&&m.validatingFields&&h([e.name]),d[e.name]&&(n.valid=!1,t))break;!t&&(ea(d,e.name)?l?Ia(r.errors,d,e.name):aa(r.errors,e.name,d[e.name]):wa(r.errors,e.name))}!ba(l)&&await x(l,t,n)}}return n.valid},E=(e,t)=>!a.disabled&&(e&&t&&aa(s,e,t),!da(j(),l)),v=(e,t,a)=>((e,t,a,r,n)=>ca(e)?(r&&t.watch.add(e),ea(a,e,n)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),ea(a,e))):(r&&(t.watchAll=!0),a))(e,o,{...i.mount?s:Yt(t)?l:ca(e)?{[e]:t}:t},a,t),N=(e,t,a={})=>{const r=ea(n,e);let l=t;if(r){const a=r._f;a&&(!a.disabled&&aa(s,e,Da(t,a)),l=xa(a.ref)&&Ut(t)?"":t,Ea(a.ref)?[...a.ref.options].forEach(e=>e.selected=l.includes(e.value)):a.refs?Kt(a.ref)?a.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(l)?e.checked=!!l.find(t=>t===e.value):e.checked=l===e.value||!!l)}):a.refs.forEach(e=>e.checked=e.value===l):fa(a.ref)?a.ref.value="":(a.ref.value=l,a.ref.type||u.state.next({name:e,values:Gt(s)})))}(a.shouldDirty||a.shouldTouch)&&f(e,l,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&_(e)},w=(e,t,a)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const l=t[r],s=e+"."+r,i=ea(n,s);(o.array.has(e)||Wt(l)||i&&!i._f)&&!Ht(l)?w(s,l,a):N(s,l,a)}},k=(e,t,a={})=>{const c=ea(n,e),p=o.array.has(e),g=Gt(t);aa(s,e,g),p?(u.array.next({name:e,values:Gt(s)}),(m.isDirty||m.dirtyFields||d.isDirty||d.dirtyFields)&&a.shouldDirty&&u.state.next({name:e,dirtyFields:Ca(l,s),isDirty:E(e,g)})):!c||c._f||Ut(g)?N(e,g,a):w(e,g,a),Oa(e,o)&&u.state.next({...r,name:e}),u.state.next({name:i.mount?e:void 0,values:Gt(s)})},S=async e=>{i.mount=!0;const l=e.target;let b=l.name,E=!0;const v=ea(n,b),N=e=>{E=Number.isNaN(e)||Ht(e)&&isNaN(e.getTime())||da(e,ea(s,b,e))},w=$a(a.mode),k=$a(a.reValidateMode);if(v){let i,C;const j=l.type?Ta(v._f):(e=>Wt(e)&&e.target?Kt(e.target)?e.target.checked:e.target.value:e)(e),P="blur"===e.type||"focusout"===e.type,D=!((S=v._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate)||a.resolver||ea(r.errors,b)||v._f.deps)||((e,t,a,r,n)=>!n.isOnAll&&(!a&&n.isOnTouch?!(t||e):(a?r.isOnBlur:n.isOnBlur)?!e:!(a?r.isOnChange:n.isOnChange)||e))(P,ea(r.touchedFields,b),r.isSubmitted,k,w),A=Oa(b,o,P);aa(s,b,j),P?l&&l.readOnly||(v._f.onBlur&&v._f.onBlur(e),t&&t(0)):v._f.onChange&&v._f.onChange(e);const L=f(b,j,P),T=!ba(L)||A;if(!P&&u.state.next({name:b,type:e.type,values:Gt(s)}),D)return(m.isValid||d.isValid)&&("onBlur"===a.mode?P&&g():P||g()),T&&u.state.next({name:b,...A?{}:L});if(!P&&A&&u.state.next({...r}),a.resolver){const{errors:e}=await y([b]);if(N(j),E){const t=za(r.errors,n,b),a=za(e,n,t.name||b);i=a.error,b=a.name,C=ba(e)}}else h([b],!0),i=(await Ua(v,o.disabled,s,p,a.shouldUseNativeValidation))[b],h([b]),N(j),E&&(i?C=!1:(m.isValid||d.isValid)&&(C=await x(n,!0)));E&&(v._f.deps&&(!Array.isArray(v._f.deps)||v._f.deps.length>0)&&_(v._f.deps),((e,n,l,s)=>{const i=ea(r.errors,e),o=(m.isValid||d.isValid)&&ta(n)&&r.isValid!==n;var p;if(a.delayError&&l?(p=()=>((e,t)=>{aa(r.errors,e,t),u.state.next({errors:r.errors})})(e,l),t=e=>{clearTimeout(c),c=setTimeout(p,e)},t(a.delayError)):(clearTimeout(c),t=null,l?aa(r.errors,e,l):wa(r.errors,e)),(l?!da(i,l):i)||!ba(s)||o){const t={...s,...o&&ta(n)?{isValid:n}:{},errors:r.errors,name:e};r={...r,...t},u.state.next(t)}})(b,C,i,L))}var S},C=(e,t)=>{if(ea(r.errors,t)&&e.focus)return e.focus(),1},_=async(e,t={})=>{let l,s;const i=pa(e);if(a.resolver){const t=await(async e=>{const{errors:t}=await y(e);if(e)for(const a of e){const e=ea(t,a);e?aa(r.errors,a,e):wa(r.errors,a)}else r.errors=t;return t})(Yt(e)?e:i);l=ba(t),s=e?!i.some(e=>ea(t,e)):l}else e?(s=(await Promise.all(i.map(async e=>{const t=ea(n,e);return await x(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||r.isValid)&&g()):s=l=await x(n);return u.state.next({...!ca(e)||(m.isValid||d.isValid)&&l!==r.isValid?{}:{name:e},...a.resolver||!e?{isValid:l}:{},errors:r.errors}),t.shouldFocus&&!s&&Va(n,C,e?i:o.mount),s},j=(e,t)=>{let a={...i.mount?s:l};return t&&(a=ha(t.dirtyFields?r.dirtyFields:r.touchedFields,a)),Yt(e)?a:ca(e)?ea(a,e):e.map(e=>ea(a,e))},P=(e,t)=>({invalid:!!ea((t||r).errors,e),isDirty:!!ea((t||r).dirtyFields,e),error:ea((t||r).errors,e),isValidating:!!ea(r.validatingFields,e),isTouched:!!ea((t||r).touchedFields,e)}),D=(e,t,a)=>{const l=(ea(n,e,{_f:{}})._f||{}).ref,s=ea(r.errors,e)||{},{ref:i,message:o,type:c,...m}=s;aa(r.errors,e,{...m,...t,ref:l}),u.state.next({name:e,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&l&&l.focus&&l.focus()},A=e=>u.state.subscribe({next:t=>{var a,n,i;a=e.name,n=t.name,i=e.exact,a&&n&&a!==n&&!pa(a).some(e=>e&&(i?e===n:e.startsWith(n)||n.startsWith(e)))||!((e,t,a,r)=>{a(e);const{name:n,...l}=e;return ba(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(e=>t[e]===(!r||la))})(t,e.formState||m,O,e.reRenderRoot)||e.callback({values:{...s},...r,...t,defaultValues:l})}}).unsubscribe,L=(e,t={})=>{for(const i of e?pa(e):o.mount)o.mount.delete(i),o.array.delete(i),t.keepValue||(wa(n,i),wa(s,i)),!t.keepError&&wa(r.errors,i),!t.keepDirty&&wa(r.dirtyFields,i),!t.keepTouched&&wa(r.touchedFields,i),!t.keepIsValidating&&wa(r.validatingFields,i),!a.shouldUnregister&&!t.keepDefaultValue&&wa(l,i);u.state.next({values:Gt(s)}),u.state.next({...r,...t.keepDirty?{isDirty:E()}:{}}),!t.keepIsValid&&g()},T=({disabled:e,name:t})=>{(ta(e)&&i.mount||e||o.disabled.has(t))&&(e?o.disabled.add(t):o.disabled.delete(t))},M=(e,t={})=>{let r=ea(n,e);const s=ta(t.disabled)||ta(a.disabled);return aa(n,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),o.mount.add(e),r?T({disabled:ta(t.disabled)?t.disabled:a.disabled,name:e}):b(e,!0,t.value),{...s?{disabled:t.disabled||a.disabled}:{},...a.progressive?{required:!!t.required,min:Ra(t.min),max:Ra(t.max),minLength:Ra(t.minLength),maxLength:Ra(t.maxLength),pattern:Ra(t.pattern)}:{},name:e,onChange:S,onBlur:S,ref:s=>{if(s){M(e,t),r=ea(n,e);const a=Yt(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,i=(e=>va(e)||Kt(e))(a),o=r._f.refs||[];if(i?o.find(e=>e===a):a===r._f.ref)return;aa(n,e,{_f:{...r._f,...i?{refs:[...o.filter(Na),a,...Array.isArray(ea(l,e))?[{}]:[]],ref:{type:a.type,name:e}}:{ref:a}}}),b(e,!1,void 0,a)}else r=ea(n,e,{}),r._f&&(r._f.mount=!1),(a.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(o.array,e)||!i.action)&&o.unMount.add(e)}}},R=()=>a.shouldFocusError&&Va(n,C,o.mount),$=(e,t)=>async l=>{let i;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=Gt(s);if(u.state.next({isSubmitting:!0}),a.resolver){const{errors:e,values:t}=await y();r.errors=e,c=Gt(t)}else await x(n);if(o.disabled.size)for(const e of o.disabled)wa(c,e);if(wa(r.errors,"root"),ba(r.errors)){u.state.next({errors:{}});try{await e(c,l)}catch(e){i=e}}else t&&await t({...r.errors},l),R(),setTimeout(R);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ba(r.errors)&&!i,submitCount:r.submitCount+1,errors:r.errors}),i)throw i},B=(e,t={})=>{const c=e?Gt(e):l,d=Gt(c),p=ba(e),g=p?l:d;if(t.keepDefaultValues||(l=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(Ca(l,s))]);for(const t of Array.from(e))ea(r.dirtyFields,t)?aa(g,t,ea(s,t)):k(t,ea(g,t))}else{if(Jt&&Yt(e))for(const e of o.mount){const t=ea(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(xa(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of o.mount)k(e,ea(g,e));else n={}}s=a.shouldUnregister?t.keepDefaultValues?Gt(l):{}:Gt(g),u.array.next({values:{...g}}),u.state.next({values:{...g}})}o={mount:t.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!m.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!a.shouldUnregister&&!ba(g),i.watch=!!a.shouldUnregister,u.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!p&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||da(e,l))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:p?{}:t.keepDirtyValues?t.keepDefaultValues&&s?Ca(l,s):r.dirtyFields:t.keepDefaultValues&&e?Ca(l,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:l})},F=(e,t)=>B(ya(e)?e(s):e,t),O=e=>{r={...r,...e}},V={control:{register:M,unregister:L,getFieldState:P,handleSubmit:$,setError:D,_subscribe:A,_runSchema:y,_focusError:R,_getWatch:v,_getDirty:E,_setValid:g,_setFieldArray:(e,t=[],o,c,p=!0,g=!0)=>{if(c&&o&&!a.disabled){if(i.action=!0,g&&Array.isArray(ea(n,e))){const t=o(ea(n,e),c.argA,c.argB);p&&aa(n,e,t)}if(g&&Array.isArray(ea(r.errors,e))){const t=o(ea(r.errors,e),c.argA,c.argB);p&&aa(r.errors,e,t),((e,t)=>{!Xt(ea(e,t)).length&&wa(e,t)})(r.errors,e)}if((m.touchedFields||d.touchedFields)&&g&&Array.isArray(ea(r.touchedFields,e))){const t=o(ea(r.touchedFields,e),c.argA,c.argB);p&&aa(r.touchedFields,e,t)}(m.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Ca(l,s)),u.state.next({name:e,isDirty:E(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else aa(s,e,t)},_setDisabledField:T,_setErrors:e=>{r.errors=e,u.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>Xt(ea(i.mount?s:l,e,a.shouldUnregister?ea(l,e,[]):[])),_reset:B,_resetDefaultValues:()=>ya(a.defaultValues)&&a.defaultValues().then(e=>{F(e,a.resetOptions),u.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of o.unMount){const t=ea(n,e);t&&(t._f.refs?t._f.refs.every(e=>!Na(e)):!Na(t._f.ref))&&L(e)}o.unMount=new Set},_disableForm:e=>{ta(e)&&(u.state.next({disabled:e}),Va(n,(t,a)=>{const r=ea(n,a);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:u,_proxyFormState:m,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(e){i=e},get _defaultValues(){return l},get _names(){return o},set _names(e){o=e},get _formState(){return r},get _options(){return a},set _options(e){a={...a,...e}}},subscribe:e=>(i.mount=!0,d={...d,...e.formState},A({...e,formState:d})),trigger:_,register:M,handleSubmit:$,watch:(e,t)=>ya(e)?u.state.subscribe({next:a=>"values"in a&&e(v(void 0,t),a)}):v(e,t,!0),setValue:k,getValues:j,reset:F,resetField:(e,t={})=>{ea(n,e)&&(Yt(t.defaultValue)?k(e,Gt(ea(l,e))):(k(e,t.defaultValue),aa(l,e,Gt(t.defaultValue))),t.keepTouched||wa(r.touchedFields,e),t.keepDirty||(wa(r.dirtyFields,e),r.isDirty=t.defaultValue?E(e,Gt(ea(l,e))):E()),t.keepError||(wa(r.errors,e),m.isValid&&g()),u.state.next({...r}))},clearErrors:e=>{e&&pa(e).forEach(e=>wa(r.errors,e)),u.state.next({errors:e?r.errors:{}})},unregister:L,setError:D,setFocus:(e,t={})=>{const a=ea(n,e),r=a&&a._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&ya(e.select)&&e.select())}},getFieldState:P};return{...V,formControl:V}}function Ja(e={}){const t=r.useRef(void 0),a=r.useRef(void 0),[n,l]=r.useState({isDirty:!1,isValidating:!1,isLoading:ya(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ya(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ya(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...r}=Wa(e);t.current={...r,formState:n}}const s=t.current.control;return s._options=e,oa(()=>{const e=s._subscribe({formState:s._proxyFormState,callback:()=>l({...s._formState}),reRenderRoot:!0});return l(e=>({...e,isReady:!0})),s._formState.isReady=!0,e},[s]),r.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),r.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),r.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),r.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),r.useEffect(()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==n.isDirty&&s._subjects.state.next({isDirty:e})}},[s,n.isDirty]),r.useEffect(()=>{var t;e.values&&!da(e.values,a.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),(null===(t=s._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||s._setValid(),a.current=e.values,l(e=>({...e}))):s._resetDefaultValues()},[s,e.values]),r.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=((e,t,a,r=!0)=>{const n={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const n=l;return t._proxyFormState[n]!==la&&(t._proxyFormState[n]=!r||la),a&&(a[n]=!0),e[n]}});return n})(n,s),t.current}const Ga=Ze("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Qa=({children:e,required:t})=>(0,r.createElement)("label",{className:"block text-xs font-semibold text-gray-600 uppercase tracking-wider mb-1.5 ml-1"},e," ",t&&(0,r.createElement)("span",{className:"text-red-500"},"*")),Ya=({message:e})=>(0,r.createElement)("div",{className:"flex items-center gap-1.5 mt-1.5 ml-1 text-red-500 animate-fade-in"},(0,r.createElement)(mt,{size:14}),(0,r.createElement)("span",{className:"text-xs font-medium"},e)),Xa=n().forwardRef(({label:e,error:t,type:a="text",className:n="",required:l,...s},i)=>(0,r.createElement)("div",{className:`w-full ${n}`},e&&(0,r.createElement)(Qa,{required:l},e),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("input",{ref:i,type:a,className:`\n                        w-full px-4 py-2.5\n                        bg-white border text-gray-900 text-sm rounded-xl\n                        placeholder:text-gray-400\n                        transition-all duration-200\n                        disabled:bg-gray-50 disabled:text-gray-500\n                        ${t?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 hover:border-gray-300 focus:border-blue-500 focus:ring-blue-100"}\n                        focus:ring-4 focus:outline-none\n                    `,...s})),t&&(0,r.createElement)(Ya,{message:t.message}))),Za=n().forwardRef(({label:e,error:t,options:a=[],className:n="",required:l,placeholder:s,...i},o)=>(0,r.createElement)("div",{className:`w-full ${n}`},e&&(0,r.createElement)(Qa,{required:l},e),(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("select",{ref:o,className:`\n                        w-full px-4 py-2.5 appearance-none\n                        bg-white border text-gray-900 text-sm rounded-xl\n                        cursor-pointer\n                        transition-all duration-200\n                        disabled:bg-gray-50\n                        ${t?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 hover:border-gray-300 focus:border-blue-500 focus:ring-blue-100"}\n                        focus:ring-4 focus:outline-none pr-10\n                    `,...i},s&&(0,r.createElement)("option",{value:"",disabled:!0,hidden:!0},s),a.map(e=>(0,r.createElement)("option",{key:e.value,value:e.value},e.label))),(0,r.createElement)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400"},(0,r.createElement)(Ga,{size:16,strokeWidth:2.5}))),t&&(0,r.createElement)(Ya,{message:t.message}))),er=n().forwardRef(({label:e,error:t,rows:a=3,className:n="",required:l,...s},i)=>(0,r.createElement)("div",{className:`w-full ${n}`},e&&(0,r.createElement)(Qa,{required:l},e),(0,r.createElement)("textarea",{ref:i,rows:a,className:`\n                    w-full px-4 py-2.5\n                    bg-white border text-gray-900 text-sm rounded-xl\n                    placeholder:text-gray-400\n                    transition-all duration-200\n                    resize-y min-h-[80px]\n                    ${t?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 hover:border-gray-300 focus:border-blue-500 focus:ring-blue-100"}\n                    focus:ring-4 focus:outline-none\n                `,...s}),t&&(0,r.createElement)(Ya,{message:t.message}))),tr=({children:e,isLoading:t,variant:a="primary",type:n="button",className:l="",...s})=>{const i={primary:"text-white bg-blue-600 hover:bg-blue-700 focus:ring-blue-100 shadow-lg shadow-blue-500/20 border border-transparent",secondary:"text-gray-700 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 focus:ring-gray-100 shadow-sm",danger:"text-white bg-red-600 hover:bg-red-700 focus:ring-red-100 shadow-lg shadow-red-500/20 border border-transparent",ghost:"text-gray-600 hover:bg-gray-100 hover:text-gray-900 border border-transparent"};return(0,r.createElement)("button",{type:n,className:`inline-flex items-center justify-center px-5 py-2.5 text-sm font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-4 disabled:opacity-70 disabled:cursor-not-allowed active:scale-[0.98] ${i[a]||i.primary} ${l}`,disabled:t,...s},t?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,r.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),(0,r.createElement)("span",{className:"opacity-90"},"Loading...")):e)},ar={Input:Xa,Select:Za,TextArea:er,Button:tr};function rr({initialData:e,onSubmit:t,onCancel:a}){const{api:n}=He(),{register:l,handleSubmit:s,formState:{errors:i},reset:o,watch:c}=Ja(),[m,d]=(0,r.useState)([]),[u,p]=(0,r.useState)([]),[g,h]=(0,r.useState)([]),[b,f]=(0,r.useState)(!0),[y,x]=(0,r.useState)(""),[E,v]=(0,r.useState)([]),[N,w]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{const[e,t,a]=await Promise.all([n.get("/packages").catch(()=>[]),n.get("/sub-agents").catch(()=>[]),n.get("/branches").catch(()=>[])]);d(e||[]),p(t||[]),h(a||[])}catch(e){console.error("Gagal memuat data master:",e)}finally{f(!1)}})()},[]),(0,r.useEffect)(()=>{if(e){const t={...e};["birth_date","passport_issued","passport_expiry"].forEach(e=>{t[e]&&(t[e]=t[e].split("T")[0])}),o(t),t.mahram_id&&"0"!==t.mahram_id&&n.get(`/jamaah/${t.mahram_id}`).then(e=>{e&&e.id&&w({id:e.id,full_name:e.full_name})}).catch(e=>console.log("Mahram not found",e))}else o({full_name:"",nik:"",gender:"L",phone_number:"",passport_number:"",passport_issued:"",passport_expiry:"",birth_date:"",address_details:"",package_id:"",sub_agent_id:"",branch_id:"",status:"registered",relation:""}),w(null)},[e,o]),(0,r.useEffect)(()=>{const e=setTimeout(async()=>{if(y.length>2)try{const e=await n.get(`/jamaah/search?q=${y}`);v(e||[])}catch(e){console.error(e)}else v([])},500);return()=>clearTimeout(e)},[y]),(0,r.createElement)("form",{onSubmit:s(e=>{const a={...e,package_id:e.package_id?parseInt(e.package_id):0,sub_agent_id:e.sub_agent_id?parseInt(e.sub_agent_id):0,branch_id:e.branch_id?parseInt(e.branch_id):0,mahram_id:N?parseInt(N.id):0};t(a)}),className:"space-y-6 h-[75vh] overflow-y-auto px-2 pb-10"},(0,r.createElement)("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200"},(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-900 mb-4 border-b pb-2"},"Data Pribadi"),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)(ar.Input,{label:"Nama Lengkap (Sesuai KTP/Paspor)",...l("full_name",{required:"Nama wajib diisi"}),error:i.full_name,placeholder:"Contoh: AHMAD SYAFIQ"}),(0,r.createElement)(ar.Input,{label:"NIK",...l("nik",{required:"NIK wajib diisi",minLength:{value:16,message:"16 digit"}}),error:i.nik,placeholder:"16 Digit Angka"}),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-2"},(0,r.createElement)(ar.Select,{label:"Jenis Kelamin",...l("gender",{required:"Pilih jenis kelamin"}),options:[{value:"L",label:"Laki-laki"},{value:"P",label:"Perempuan"}],error:i.gender}),(0,r.createElement)(ar.Input,{label:"Tanggal Lahir",type:"date",...l("birth_date",{required:"Wajib diisi"}),error:i.birth_date})),(0,r.createElement)(ar.Input,{label:"Nomor Telepon / WA",...l("phone_number",{required:"No HP wajib diisi"}),error:i.phone_number,placeholder:"0812..."})),(0,r.createElement)("div",{className:"mt-4"},(0,r.createElement)(ar.TextArea,{label:"Alamat Lengkap",...l("address_details"),rows:2,placeholder:"Alamat lengkap..."}))),(0,r.createElement)("div",{className:"bg-blue-50 p-5 rounded-lg border border-blue-200"},(0,r.createElement)("h3",{className:"text-lg font-medium text-blue-900 mb-4 border-b border-blue-200 pb-2"},"Mahram & Keluarga"),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)("div",{className:"relative"},(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Cari Mahram (Jika ada)"),N?(0,r.createElement)("div",{className:"flex items-center justify-between bg-white p-2 border border-blue-300 rounded shadow-sm"},(0,r.createElement)("span",{className:"font-medium text-blue-800"},N.full_name),(0,r.createElement)("button",{type:"button",onClick:()=>w(null),className:"text-red-500 hover:text-red-700 text-sm font-bold px-2"},"X Hapus")):(0,r.createElement)("input",{type:"text",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ketik nama jamaah lain...",value:y,onChange:e=>x(e.target.value)}),!N&&E.length>0&&(0,r.createElement)("ul",{className:"absolute z-20 w-full bg-white border border-gray-300 mt-1 rounded-md shadow-lg max-h-40 overflow-y-auto"},E.map(e=>(0,r.createElement)("li",{key:e.id,onClick:()=>{w(e),v([]),x("")},className:"p-2 hover:bg-blue-50 cursor-pointer text-sm border-b last:border-0"},e.full_name," ",(0,r.createElement)("span",{className:"text-gray-400 text-xs"},"(",e.passport_number||"No Pass",")")))),(0,r.createElement)("p",{className:"text-xs text-gray-500 mt-1"},"Cari nama jamaah yang sudah terdaftar untuk dijadikan mahram.")),(0,r.createElement)(ar.Select,{label:"Hubungan Keluarga",...l("relation"),options:[{value:"",label:"- Pilih Hubungan -"},{value:"Suami",label:"Suami"},{value:"Istri",label:"Istri"},{value:"Ayah",label:"Ayah"},{value:"Ibu",label:"Ibu"},{value:"Anak",label:"Anak"},{value:"Saudara",label:"Saudara Kandung"},{value:"Lainnya",label:"Lainnya"}],disabled:!N}))),(0,r.createElement)("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200"},(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-900 mb-4 border-b pb-2"},"Dokumen & Layanan"),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},(0,r.createElement)(ar.Input,{label:"Nomor Paspor",...l("passport_number"),placeholder:"X1234567"}),(0,r.createElement)(ar.Input,{label:"Tgl Terbit",type:"date",...l("passport_issued")}),(0,r.createElement)(ar.Input,{label:"Tgl Expired",type:"date",...l("passport_expiry")})),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)(ar.Select,{label:"Pilih Paket Umrah",...l("package_id"),options:[{value:"",label:"-- Pilih Paket --"},...m.map(e=>({value:e.id,label:`${e.name} (${new Date(e.departure_date).toLocaleDateString("id-ID")})`}))]}),(0,r.createElement)(ar.Select,{label:"Kantor Cabang",...l("branch_id"),options:[{value:"",label:"-- Pilih Cabang --"},...g.map(e=>({value:e.id,label:`${e.name} (${e.city})`}))]}),(0,r.createElement)(ar.Select,{label:"Agen / Sponsor",...l("sub_agent_id"),options:[{value:"",label:"-- Tanpa Agen --"},...u.map(e=>({value:e.id,label:e.name}))]}),(0,r.createElement)(ar.Select,{label:"Status Pendaftaran",...l("status"),options:[{value:"lead",label:"Lead / Prospek"},{value:"registered",label:"Terdaftar"},{value:"active",label:"Aktif (Lengkap)"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Batal"}]}))),(0,r.createElement)("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-4"},(0,r.createElement)(ar.Button,{variant:"secondary",onClick:a,type:"button"},"Batal"),(0,r.createElement)(ar.Button,{type:"submit",isLoading:b},e?"Simpan Perubahan":"Daftarkan Jamaah")))}const nr=()=>{const{data:e,loading:t,error:a,fetchData:n,createData:l,updateData:s,deleteData:i}=He(),[o,c]=(0,r.useState)(""),[m,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{n()},[]);const g=e?.filter(e=>e.nama_lengkap?.toLowerCase().includes(o)||e.no_passport?.toLowerCase().includes(o))||[];return t&&!e?(0,r.createElement)(lt,null):(0,r.createElement)("div",{className:"p-6"},(0,r.createElement)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-900"},"Data Jemaah"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"Kelola data jemaah Umrah & Haji")),(0,r.createElement)("button",{onClick:()=>{p(null),d(!0)},className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg shadow-md transition flex items-center gap-2"},(0,r.createElement)(Bt,{size:18})," Tambah Jemaah")),(0,r.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 mb-6 flex flex-col sm:flex-row gap-4 justify-between items-center"},(0,r.createElement)("div",{className:"relative w-full sm:w-96"},(0,r.createElement)(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,r.createElement)("input",{type:"text",placeholder:"Cari nama, paspor, atau NIK...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition",onChange:e=>c(e.target.value.toLowerCase())})),(0,r.createElement)("div",{className:"flex gap-2 w-full sm:w-auto"},(0,r.createElement)("button",{className:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-600 text-sm font-medium"},(0,r.createElement)(Ft,{size:16})," Filter"))),(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"w-full text-left border-collapse"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Jemaah"),(0,r.createElement)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Paket"),(0,r.createElement)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider hidden md:table-cell"},"Kontak"),(0,r.createElement)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Status Pembayaran"),(0,r.createElement)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right"},"Aksi"))),(0,r.createElement)("tbody",{className:"divide-y divide-gray-100"},g.length>0?g.map((e,t)=>(0,r.createElement)("tr",{key:t,className:"hover:bg-emerald-50/30 transition-colors group"},(0,r.createElement)("td",{className:"p-4"},(0,r.createElement)("div",{className:"flex items-center gap-3"},(0,r.createElement)("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-700 font-bold text-sm"},e.nama_lengkap?.charAt(0)),(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"font-semibold text-gray-900"},e.nama_lengkap),(0,r.createElement)("div",{className:"text-xs text-gray-500"},e.nik||e.no_passport)))),(0,r.createElement)("td",{className:"p-4"},(0,r.createElement)("span",{className:"text-sm text-gray-700"},e.paket_name||"Belum Pilih Paket"),(0,r.createElement)("div",{className:"text-xs text-gray-400"},e.tgl_keberangkatan)),(0,r.createElement)("td",{className:"p-4 hidden md:table-cell"},(0,r.createElement)("div",{className:"flex flex-col text-sm text-gray-600"},(0,r.createElement)("span",{className:"flex items-center gap-1"},(0,r.createElement)(Ot,{size:12})," ",e.no_telp))),(0,r.createElement)("td",{className:"p-4"},(0,r.createElement)("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium border\n                      "+("Lunas"===e.status_pembayaran?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-amber-100 text-amber-700 border-amber-200")},e.status_pembayaran||"Belum Bayar")),(0,r.createElement)("td",{className:"p-4 text-right"},(0,r.createElement)("div",{className:"flex justify-end gap-2"},(0,r.createElement)("button",{onClick:()=>(e=>{p(e),d(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit"},(0,r.createElement)(Vt,{size:16})),(0,r.createElement)("button",{onClick:()=>(async e=>{window.confirm("Apakah anda yakin ingin menghapus data jemaah ini?")&&(await i(e),n())})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Hapus"},(0,r.createElement)(zt,{size:16})))))):(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"5",className:"p-8 text-center text-gray-400"},"Tidak ada data jemaah ditemukan.")))))),(0,r.createElement)(It,{isOpen:m,onClose:()=>d(!1),title:u?"Edit Data Jemaah":"Tambah Jemaah Baru"},(0,r.createElement)(rr,{initialData:u,onSubmit:async e=>{u?await s(u.id,e):await l(e),d(!1),n()},onCancel:()=>d(!1)})))},lr=Ze("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sr=Ze("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),ir=({size:e})=>(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,r.createElement)("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),(0,r.createElement)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})),or=({initialData:e,onSubmit:t,onCancel:a})=>{const{loading:n}=He(),l={name:"",category:"Umrah",price_quad:"",price_triple:"",price_double:"",departure_date:"",program_days:9,hotel_makkah:"",hotel_madinah:"",airline:"",quota:45,status:"Open",description:""},[s,i]=(0,r.useState)(l);(0,r.useEffect)(()=>{e&&i({...l,...e})},[e]);const o=e=>{const{name:t,value:a}=e.target;i(e=>({...e,[t]:a}))};return(0,r.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{if(!s.name||!s.price_quad)return void alert("Nama Paket dan Harga Quad wajib diisi!");await t(s)}catch(e){console.error(e),alert("Gagal menyimpan paket: "+e.message)}},className:"space-y-6"},(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},(0,r.createElement)(ar.Input,{label:"Nama Paket",name:"name",value:s.name,onChange:o,placeholder:"Contoh: Umrah Akbar Syawal",required:!0}),(0,r.createElement)(ar.Select,{label:"Kategori",name:"category",value:s.category,onChange:o,options:[{value:"Umrah",label:"Umrah Reguler"},{value:"Umrah Plus",label:"Umrah Plus Wisata"},{value:"Haji",label:"Haji Khusus/Furoda"},{value:"Tour",label:"Halal Tour"}]}),(0,r.createElement)(ar.Input,{label:"Tanggal Keberangkatan",name:"departure_date",type:"date",value:s.departure_date,onChange:o,required:!0}),(0,r.createElement)(ar.Input,{label:"Durasi (Hari)",name:"program_days",type:"number",value:s.program_days,onChange:o})),(0,r.createElement)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200"},(0,r.createElement)("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2"},(0,r.createElement)(ir,{size:16})," Harga Paket"),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,r.createElement)(ar.Input,{label:"Quad (Sekamar Ber-4)",name:"price_quad",type:"number",prefix:"Rp",value:s.price_quad,onChange:o,required:!0}),(0,r.createElement)(ar.Input,{label:"Triple (Sekamar Ber-3)",name:"price_triple",type:"number",prefix:"Rp",value:s.price_triple,onChange:o}),(0,r.createElement)(ar.Input,{label:"Double (Sekamar Ber-2)",name:"price_double",type:"number",prefix:"Rp",value:s.price_double,onChange:o}))),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},(0,r.createElement)(ar.Input,{label:"Hotel Makkah",name:"hotel_makkah",value:s.hotel_makkah,onChange:o,placeholder:"Nama Hotel"}),(0,r.createElement)(ar.Input,{label:"Hotel Madinah",name:"hotel_madinah",value:s.hotel_madinah,onChange:o,placeholder:"Nama Hotel"})),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},(0,r.createElement)(ar.Input,{label:"Maskapai",name:"airline",value:s.airline,onChange:o,placeholder:"Garuda/Saudia..."}),(0,r.createElement)(ar.Input,{label:"Kuota Seat",name:"quota",type:"number",value:s.quota,onChange:o}),(0,r.createElement)(ar.Select,{label:"Status",name:"status",value:s.status,onChange:o,options:[{value:"Open",label:"Open (Dibuka)"},{value:"Full",label:"Full Booked"},{value:"Closed",label:"Closed (Selesai)"},{value:"Draft",label:"Draft"}]})),(0,r.createElement)(ar.TextArea,{label:"Deskripsi / Fasilitas",name:"description",value:s.description,onChange:o,rows:3}),(0,r.createElement)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100"},(0,r.createElement)("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center gap-2"},(0,r.createElement)(lr,{size:18})," Batal"),(0,r.createElement)("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 shadow-lg shadow-emerald-200 flex items-center gap-2 disabled:opacity-70"},n?"Menyimpan...":(0,r.createElement)(r.Fragment,null,(0,r.createElement)(sr,{size:18})," Simpan Paket"))))},cr=Ze("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),mr=Ze("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),dr=()=>{const{getPackages:e,deletePackage:t}=He(),[a,n]=(0,r.useState)([]),[l,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),[c,m]=(0,r.useState)(null),[d,u]=(0,r.useState)("active"),p=async()=>{s(!0);try{const t=await e({status:"all"!==d?d:""});n(t||[])}catch(e){console.error("Error fetching packages:",e)}finally{s(!1)}};return(0,r.useEffect)(()=>{p()},[d]),(0,r.createElement)("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen"},(0,r.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Manajemen Paket"),(0,r.createElement)("p",{className:"text-gray-500 text-sm mt-1"},"Atur jadwal keberangkatan dan harga paket.")),(0,r.createElement)("div",{className:"flex gap-3 w-full md:w-auto"},(0,r.createElement)("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 outline-none cursor-pointer",value:d,onChange:e=>u(e.target.value)},(0,r.createElement)("option",{value:"active"},"Paket Aktif"),(0,r.createElement)("option",{value:"full"},"Full Booked"),(0,r.createElement)("option",{value:"completed"},"Selesai"),(0,r.createElement)("option",{value:"all"},"Semua Status")),(0,r.createElement)("button",{onClick:()=>{m(null),o(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm flex items-center gap-2 transition transform active:scale-95"},(0,r.createElement)(Bt,{size:18})," ",(0,r.createElement)("span",null,"Buat Paket")))),l?(0,r.createElement)(lt,{text:"Memuat data paket..."}):(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs font-bold tracking-wider"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left"},"Nama Paket"),(0,r.createElement)("th",{className:"px-6 py-3 text-left"},"Keberangkatan"),(0,r.createElement)("th",{className:"px-6 py-3 text-left"},"Kategori"),(0,r.createElement)("th",{className:"px-6 py-3 text-left"},"Harga Mulai"),(0,r.createElement)("th",{className:"px-6 py-3 text-left"},"Status"),(0,r.createElement)("th",{className:"px-6 py-3 text-right"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200 text-sm"},0===a.length?(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-400 italic"},"Tidak ada paket yang ditemukan untuk filter ini.")):a.map(e=>(0,r.createElement)("tr",{key:e.id,className:"hover:bg-gray-50 transition-colors group"},(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"font-bold text-gray-900 text-base"},e.name),(0,r.createElement)("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1"},(0,r.createElement)(cr,{size:12}),(()=>{try{const t="string"==typeof e.hotels?JSON.parse(e.hotels):e.hotels;return Array.isArray(t)&&t.length>0?`${t.length} Hotel`:"Tanpa Hotel"}catch(e){return"-"}})())),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("div",{className:"font-medium text-gray-900"},new Date(e.departure_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),(0,r.createElement)("div",{className:"text-xs text-blue-600 flex items-center gap-1 mt-0.5"},(0,r.createElement)(ct,{size:12})," ",e.airline_name||"-")),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("span",{className:"px-2.5 py-0.5 inline-flex text-xs font-semibold rounded-full bg-blue-50 text-blue-700 border border-blue-100"},e.category_name||"Umum")),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap font-bold text-gray-700"},(e=>{if(!e||0===e.length)return"Belum ada harga";const t="string"==typeof e?JSON.parse(e):e;if(!Array.isArray(t))return"-";const a=t.map(e=>parseFloat(e.price));if(0===a.length)return"-";const r=Math.min(...a),n=Math.max(...a);return r===n?`Rp ${r.toLocaleString("id-ID")}`:`Rp ${r.toLocaleString("id-ID")} - ${n.toLocaleString("id-ID")}`})(e.pricing_variants)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("span",{className:"px-2.5 py-0.5 inline-flex text-xs font-semibold rounded-full border \n                                                    "+("active"===e.status?"bg-green-50 text-green-700 border-green-200":"full"===e.status?"bg-red-50 text-red-700 border-red-200":"bg-gray-100 text-gray-600 border-gray-200")},"active"===e.status?"Open":"full"===e.status?"Penuh":e.status)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right"},(0,r.createElement)("div",{className:"flex justify-end gap-2 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity"},(0,r.createElement)("button",{onClick:()=>(e=>{m(e),o(!0)})(e),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition",title:"Edit Paket"},(0,r.createElement)(mr,{size:18})),(0,r.createElement)("button",{onClick:()=>(async e=>{if(window.confirm("Yakin hapus paket ini? Data yang dihapus tidak bisa dikembalikan."))try{await t(e),p()}catch(e){alert("Gagal menghapus: "+e.message)}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Hapus Paket"},(0,r.createElement)(zt,{size:18})))))))))),(0,r.createElement)(It,{isOpen:i,onClose:()=>o(!1),title:c?"Edit Paket":"Buat Paket Baru"},i&&(0,r.createElement)(or,{initialData:c,onSuccess:()=>{o(!1),p()},onCancel:()=>o(!1)})))};function ur({initialData:e,onSubmit:t,onCancel:a}){const{register:n,handleSubmit:l,formState:{errors:s},reset:i}=Ja();return(0,r.useEffect)(()=>{if(e){const t={...e,transaction_date:e.transaction_date?e.transaction_date.split("T")[0]:""};i(t)}else i({type:"out",transaction_date:(new Date).toISOString().split("T")[0],category:"Operasional"})},[e,i]),(0,r.createElement)("form",{onSubmit:l(t),className:"space-y-4"},(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)(ar.Select,{label:"Jenis Transaksi",...n("type",{required:!0}),options:[{value:"in",label:"Pemasukan (In)"},{value:"out",label:"Pengeluaran (Out)"}]}),(0,r.createElement)(ar.Input,{label:"Tanggal",type:"date",...n("transaction_date",{required:!0})})),(0,r.createElement)(ar.Input,{label:"Kategori",placeholder:"Contoh: Listrik, Gaji, Perlengkapan",...n("category",{required:"Kategori wajib diisi"}),error:s.category}),(0,r.createElement)(ar.Input,{label:"Jumlah (Rp)",type:"number",...n("amount",{required:"Nominal wajib diisi",min:1}),error:s.amount}),(0,r.createElement)(ar.TextArea,{label:"Keterangan / Deskripsi",rows:3,...n("description",{required:"Deskripsi wajib diisi"}),error:s.description}),(0,r.createElement)("div",{className:"flex justify-end space-x-2 pt-2"},(0,r.createElement)(ar.Button,{variant:"secondary",onClick:a,type:"button"},"Batal"),(0,r.createElement)(ar.Button,{type:"submit"},"Simpan Transaksi")))}const pr=()=>{const{api:e}=He(),[t,a]=(0,r.useState)(""),[n,l]=(0,r.useState)([]),[s,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(null),[m,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),{register:g,handleSubmit:h,reset:b,formState:{errors:f}}=Ja();(0,r.useEffect)(()=>{const a=setTimeout(async()=>{if(t.length>2)try{const a=await e.get(`/jamaah/search?q=${t}`);l(a||[])}catch(e){console.error(e)}else l([])},500);return()=>clearTimeout(a)},[t]);const y=async t=>{d(!0);try{const r=await e.get(`/finance/jamaah/${t}`);c(r),i(r.jamaah),l([]),a("")}catch(e){console.error(e)}finally{d(!1)}},x=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e);return(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"relative max-w-xl mx-auto"},(0,r.createElement)("div",{className:"flex gap-2"},(0,r.createElement)("input",{type:"text",className:"w-full px-4 py-3 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Cari Nama Jemaah / No Paspor untuk melihat tagihan...",value:t,onChange:e=>a(e.target.value)})),n.length>0&&(0,r.createElement)("ul",{className:"absolute z-10 w-full bg-white border mt-1 rounded-lg shadow-xl max-h-60 overflow-y-auto"},n.map(e=>(0,r.createElement)("li",{key:e.id,onClick:()=>y(e.id),className:"px-4 py-3 hover:bg-blue-50 cursor-pointer border-b flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"font-bold text-gray-800"},e.full_name),(0,r.createElement)("div",{className:"text-xs text-gray-500"},e.passport_number)),(0,r.createElement)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded"},"Lihat Tagihan"))))),m&&(0,r.createElement)(lt,{text:"Memuat Buku Besar..."}),!m&&o&&(0,r.createElement)("div",{className:"animate-fade-in"},(0,r.createElement)("div",{className:"flex justify-between items-start bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-6"},(0,r.createElement)("div",null,(0,r.createElement)("h2",{className:"text-2xl font-bold text-gray-800"},o.jamaah.name),(0,r.createElement)("p",{className:"text-gray-500"},"Paket: ",o.jamaah.package||"Belum pilih paket")),(0,r.createElement)("div",{className:"text-right"},(0,r.createElement)("button",{onClick:()=>p(!0),className:"bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700 shadow transition flex items-center gap-2"},(0,r.createElement)("span",{className:"dashicons dashicons-plus-alt2"})," Tambah Pembayaran"))),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},(0,r.createElement)("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100"},(0,r.createElement)("div",{className:"text-xs text-blue-600 uppercase font-bold mb-1"},"Total Tagihan"),(0,r.createElement)("div",{className:"text-xl font-bold text-blue-900"},x(o.summary.total_price))),(0,r.createElement)("div",{className:"bg-green-50 p-4 rounded-xl border border-green-100"},(0,r.createElement)("div",{className:"text-xs text-green-600 uppercase font-bold mb-1"},"Sudah Dibayar"),(0,r.createElement)("div",{className:"text-xl font-bold text-green-900"},x(o.summary.total_paid)),(0,r.createElement)("div",{className:"w-full bg-green-200 h-1.5 mt-2 rounded-full"},(0,r.createElement)("div",{className:"bg-green-600 h-1.5 rounded-full",style:{width:`${o.summary.progress}%`}}))),(0,r.createElement)("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100"},(0,r.createElement)("div",{className:"text-xs text-red-600 uppercase font-bold mb-1"},"Sisa Tagihan"),(0,r.createElement)("div",{className:"text-xl font-bold text-red-900"},x(o.summary.remaining)))),(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},(0,r.createElement)("div",{className:"px-6 py-4 border-b bg-gray-50 font-medium text-gray-700"},"Riwayat Transaksi"),(0,r.createElement)("table",{className:"w-full text-left text-sm"},(0,r.createElement)("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3"},"Tanggal"),(0,r.createElement)("th",{className:"px-6 py-3"},"Keterangan"),(0,r.createElement)("th",{className:"px-6 py-3"},"Metode"),(0,r.createElement)("th",{className:"px-6 py-3 text-right"},"Jumlah"),(0,r.createElement)("th",{className:"px-6 py-3 text-center"},"Aksi"))),(0,r.createElement)("tbody",{className:"divide-y divide-gray-100"},0===o.history.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-400"},"Belum ada data pembayaran.")),o.history.map(e=>(0,r.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-3 whitespace-nowrap"},new Date(e.payment_date).toLocaleDateString("id-ID")),(0,r.createElement)("td",{className:"px-6 py-3"},(0,r.createElement)("div",{className:"font-medium text-gray-900"},e.description),(0,r.createElement)("div",{className:"text-xs text-gray-400"},"ID: #",e.id)),(0,r.createElement)("td",{className:"px-6 py-3"},(0,r.createElement)("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs border capitalize"},e.payment_method)),(0,r.createElement)("td",{className:"px-6 py-3 text-right font-mono font-medium text-gray-800"},x(e.amount)),(0,r.createElement)("td",{className:"px-6 py-3 text-center"},(0,r.createElement)("button",{onClick:()=>(e=>{const t=`/wp-content/plugins/manajemenjfbanten/admin/print-receipt.php?id=${e}`;window.open(t,"_blank","width=900,height=600")})(e.id),className:"text-blue-600 hover:text-blue-800 text-xs font-medium border border-blue-200 px-3 py-1 rounded hover:bg-blue-50"},"üñ® Cetak Kwitansi")))))))),!m&&!o&&(0,r.createElement)("div",{className:"text-center py-20 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300"},(0,r.createElement)("div",{className:"text-4xl mb-3"},"üí∞"),(0,r.createElement)("h3",{className:"text-gray-600 font-medium"},"Buku Besar Pembayaran Jemaah"),(0,r.createElement)("p",{className:"text-gray-400 text-sm"},"Silakan cari nama jemaah di atas untuk melihat detail keuangan.")),u&&(0,r.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in"},(0,r.createElement)("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50"},(0,r.createElement)("h3",{className:"font-bold text-gray-800"},"Input Pembayaran Baru"),(0,r.createElement)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-red-500"},"‚úï")),(0,r.createElement)("form",{onSubmit:h(async t=>{if(o)try{await e.post("/finance/payment",{...t,jamaah_id:o.jamaah.id,jamaah_name:o.jamaah.name}),p(!1),b(),y(o.jamaah.id),alert("Pembayaran berhasil disimpan!")}catch(e){console.error(e),alert("Gagal menyimpan pembayaran")}}),className:"p-6 space-y-4"},(0,r.createElement)(ar.Input,{label:"Tanggal Bayar",type:"date",defaultValue:(new Date).toISOString().split("T")[0],...g("date",{required:!0})}),(0,r.createElement)(ar.Input,{label:"Nominal (Rp)",type:"number",placeholder:"Contoh: 5000000",...g("amount",{required:!0,min:1e3})}),(0,r.createElement)(ar.Select,{label:"Metode Pembayaran",...g("method"),options:[{value:"transfer",label:"Transfer Bank"},{value:"cash",label:"Tunai / Cash"},{value:"qris",label:"QRIS"}]}),(0,r.createElement)(ar.TextArea,{label:"Keterangan (Untuk Kwitansi)",placeholder:"Contoh: Pembayaran DP Paket Umrah Reguler",...g("description",{required:!0}),rows:2}),(0,r.createElement)("div",{className:"pt-4 flex gap-3"},(0,r.createElement)("button",{type:"button",onClick:()=>p(!1),className:"flex-1 py-2 border rounded text-gray-600 hover:bg-gray-50"},"Batal"),(0,r.createElement)("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-medium"},"Simpan"))))))},gr=()=>{const{api:e}=He(),[t,a]=(0,r.useState)("ledger"),[l,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)([]),[c,m]=(0,r.useState)(!1),d=async()=>{m(!0);try{const t=await e.get("/finance/cashflow");o(t||[])}catch(e){console.error(e)}finally{m(!1)}};return n().useEffect(()=>{"cashflow"===t&&d()},[t]),(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Keuangan & Pembayaran")),(0,r.createElement)("div",{className:"border-b border-gray-200"},(0,r.createElement)("nav",{className:"-mb-px flex space-x-8"},(0,r.createElement)("button",{onClick:()=>a("ledger"),className:("ledger"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2"},(0,r.createElement)("span",{className:"dashicons dashicons-book"})," Buku Besar Jemaah"),(0,r.createElement)("button",{onClick:()=>a("cashflow"),className:("cashflow"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2"},(0,r.createElement)("span",{className:"dashicons dashicons-chart-line"})," Arus Kas (Cashflow)"))),"ledger"===t&&(0,r.createElement)(pr,null),"cashflow"===t&&(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},(0,r.createElement)(st,{title:"Pemasukan Bulan Ini",value:"Rp 150.000.000",type:"increase",percentage:"12%"}),(0,r.createElement)(st,{title:"Pengeluaran Bulan Ini",value:"Rp 45.000.000",type:"decrease",percentage:"5%"}),(0,r.createElement)(st,{title:"Saldo Kas",value:"Rp 105.000.000"})),(0,r.createElement)("div",{className:"bg-white shadow rounded-lg overflow-hidden"},(0,r.createElement)("div",{className:"px-6 py-4 border-b flex justify-between items-center"},(0,r.createElement)("h3",{className:"font-medium text-gray-900"},"Jurnal Transaksi Umum"),(0,r.createElement)("button",{onClick:()=>s(!0),className:"text-sm bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700"},"+ Catat Transaksi")),c?(0,r.createElement)(lt,null):(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kategori"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Deskripsi"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Masuk"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Keluar"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},0===i.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"5",className:"p-4 text-center text-gray-400"},"Belum ada data")),i.map(e=>(0,r.createElement)("tr",{key:e.id},(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},new Date(e.transaction_date).toLocaleDateString()),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},e.category),(0,r.createElement)("td",{className:"px-6 py-4 text-sm text-gray-500"},e.description),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium"},"in"===e.type?`Rp ${parseInt(e.amount).toLocaleString()}`:"-"),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-medium"},"out"===e.type?`Rp ${parseInt(e.amount).toLocaleString()}`:"-"))))))),(0,r.createElement)(It,{isOpen:l,onClose:()=>s(!1),title:"Catat Transaksi Kas"},(0,r.createElement)(ur,{onSubmit:t=>{e.post("/finance/transaction",t).then(()=>{s(!1),d()})},onCancel:()=>s(!1)})))};function hr(){const{api:e}=He(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),m=async()=>{l(!0);try{const t=await e.get("/inventory");a(t)}catch(e){console.error(e)}finally{l(!1)}};return(0,r.useEffect)(()=>{m()},[]),n?(0,r.createElement)(lt,null):(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Logistik & Perlengkapan"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"Atur stok koper, kain ihram, batik, dan buku panduan.")),(0,r.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"+ Tambah Barang")),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,r.createElement)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200"},(0,r.createElement)("h3",{className:"font-bold text-blue-800"},"Total Item Fisik"),(0,r.createElement)("p",{className:"text-2xl font-bold"},t.reduce((e,t)=>e+parseInt(t.stock_quantity),0)," ",(0,r.createElement)("span",{className:"text-sm font-normal"},"unit"))),(0,r.createElement)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200"},(0,r.createElement)("h3",{className:"font-bold text-orange-800"},"Perlu Restock"),(0,r.createElement)("p",{className:"text-2xl font-bold"},t.filter(e=>parseInt(e.stock_quantity)<10).length," ",(0,r.createElement)("span",{className:"text-sm font-normal"},"jenis barang")))),(0,r.createElement)("div",{className:"bg-white shadow rounded-lg overflow-hidden"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Barang"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tipe"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Stok Tersedia"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,r.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm font-medium text-gray-900"},t.name),(0,r.createElement)("div",{className:"text-xs text-gray-500"},t.description)),(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 capitalize"},t.type)),(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm font-bold "+(t.stock_quantity<10?"text-red-600":"text-green-600")},t.stock_quantity," ",t.unit)),(0,r.createElement)("td",{className:"px-6 py-4 text-right text-sm font-medium space-x-2"},(0,r.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-indigo-600 hover:text-indigo-900"},"Edit"),(0,r.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus barang ini dari sistem?")&&(await e.delete(`/inventory/${t}`),m())})(t.id),className:"text-red-600 hover:text-red-900"},"Hapus")))),0===t.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"4",className:"px-6 py-8 text-center text-gray-500"},"Belum ada data logistik."))))),(0,r.createElement)(It,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Stok Barang":"Tambah Barang Baru"},(0,r.createElement)(br,{initialData:o,onSubmit:async t=>{try{o?await e.put(`/inventory/${o.id}`,t):await e.post("/inventory",t),i(!1),c(null),m()}catch(e){alert("Gagal menyimpan data")}},onCancel:()=>i(!1)})))}function br({initialData:e,onSubmit:t,onCancel:a}){const{register:n,handleSubmit:l,formState:{errors:s}}=Ja({defaultValues:e||{name:"",stock_quantity:0,unit:"pcs",type:"equipment",description:""}});return(0,r.createElement)("form",{onSubmit:l(t),className:"space-y-4"},(0,r.createElement)(ar.Input,{label:"Nama Barang",placeholder:"Contoh: Koper Fiber 24 Inch",...n("name",{required:"Nama barang wajib diisi"}),error:s.name}),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,r.createElement)(ar.Input,{label:"Stok Awal",type:"number",...n("stock_quantity",{required:!0,min:0})}),(0,r.createElement)(ar.Input,{label:"Satuan",placeholder:"pcs, set, lusin",...n("unit")})),(0,r.createElement)(ar.Select,{label:"Tipe Barang",...n("type"),options:[{value:"equipment",label:"Perlengkapan (Koper/Ihram)"},{value:"souvenir",label:"Souvenir / Hadiah"},{value:"document",label:"Dokumen / ID Card"}]}),(0,r.createElement)(ar.TextArea,{label:"Deskripsi / Catatan",...n("description")}),(0,r.createElement)("div",{className:"flex justify-end space-x-2 pt-4"},(0,r.createElement)(ar.Button,{variant:"secondary",type:"button",onClick:a},"Batal"),(0,r.createElement)(ar.Button,{type:"submit"},"Simpan")))}const fr=()=>(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,r.createElement)("polyline",{points:"6 9 6 2 18 2 18 9"}),(0,r.createElement)("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),(0,r.createElement)("rect",{x:"6",y:"14",width:"12",height:"8"})),yr=()=>(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,r.createElement)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.createElement)("polyline",{points:"7 10 12 15 17 10"}),(0,r.createElement)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),xr=()=>{const{api:e}=He(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(""),[s,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{e.get("/packages?status=active").then(e=>a(e||[])).catch(console.error)},[]),(0,r.createElement)("div",{className:"p-6 space-y-6 min-h-screen bg-gray-50"},(0,r.createElement)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 print:hidden"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2"},"Manifest Keberangkatan"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"Daftar penumpang, mahram, dan rooming list.")),(0,r.createElement)("div",{className:"flex gap-2"},(0,r.createElement)("select",{className:"border rounded p-2 bg-white shadow-sm",value:n,onChange:t=>{l(t.target.value),(async t=>{if(t){c(!0);try{const a=await e.get(`/manifest/${t}`);i(a)}catch(e){console.error(e)}finally{c(!1)}}})(t.target.value)}},(0,r.createElement)("option",{value:""},"-- Pilih Paket Keberangkatan --"),t.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.name," (",new Date(e.departure_date).toLocaleDateString("id-ID"),")"))))),o?(0,r.createElement)(lt,{text:"Mengambil data manifest..."}):s?(0,r.createElement)("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden print:shadow-none print:w-full"},(0,r.createElement)("div",{className:"p-6 border-b bg-blue-50 print:bg-white print:border-b-2 print:border-black"},(0,r.createElement)("div",{className:"flex justify-between items-end"},(0,r.createElement)("div",null,(0,r.createElement)("h2",{className:"text-xl font-bold uppercase tracking-wide text-gray-800 print:text-black"},s.package.name),(0,r.createElement)("div",{className:"text-gray-600 print:text-black mt-1 text-sm"},(0,r.createElement)("span",{className:"mr-4"},"‚úàÔ∏è ",s.package.airline_name||"Belum set maskapai"),(0,r.createElement)("span",null,"üìÖ ",new Date(s.package.departure_date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})))),(0,r.createElement)("div",{className:"text-right text-sm print:text-xs"},(0,r.createElement)("p",null,"Total: ",(0,r.createElement)("strong",{className:"text-lg"},s.stats.total)," Pax"),(0,r.createElement)("p",{className:"text-gray-500 print:text-black"},"L: ",s.stats.pria," | P: ",s.stats.wanita))),(0,r.createElement)("div",{className:"mt-4 flex gap-2 print:hidden"},(0,r.createElement)("button",{onClick:()=>window.print(),className:"flex items-center gap-1 px-3 py-1.5 bg-gray-800 text-white rounded text-sm hover:bg-black transition"},(0,r.createElement)(fr,null)," Cetak Manifest"),(0,r.createElement)("button",{onClick:()=>{if(!s||!s.manifest)return;let e="data:text/csv;charset=utf-8,"+[["No","Nama Lengkap","Gender","No Paspor","NIK","Mahram","Hubungan","Hotel","No Kamar"],...s.manifest.map((e,t)=>[t+1,e.full_name,e.gender,e.passport_number||"-","'"+(e.nik||"-"),e.mahram_name||"-",e.relation||"-",e.hotel_name||"-",e.room_number?`${e.room_number} (${e.room_type})`:"-"])].map(e=>e.join(",")).join("\n");const t=encodeURI(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download",`manifest_paket_${n}.csv`),document.body.appendChild(a),a.click()},className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition"},(0,r.createElement)(yr,null)," Export CSV"))),(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"w-full text-sm text-left"},(0,r.createElement)("thead",{className:"bg-gray-100 text-gray-600 uppercase text-xs font-bold print:bg-gray-200 print:text-black"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-4 py-3 w-10 border-b"},"No"),(0,r.createElement)("th",{className:"px-4 py-3 border-b"},"Nama Jamaah"),(0,r.createElement)("th",{className:"px-4 py-3 w-16 border-b"},"L/P"),(0,r.createElement)("th",{className:"px-4 py-3 border-b"},"No. Paspor"),(0,r.createElement)("th",{className:"px-4 py-3 border-b"},"Mahram / Keluarga"),(0,r.createElement)("th",{className:"px-4 py-3 border-b"},"Hotel & Kamar"))),(0,r.createElement)("tbody",{className:"divide-y divide-gray-200"},0===s.manifest.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"6",className:"p-6 text-center text-gray-400"},"Belum ada jamaah terdaftar di paket ini.")),s.manifest.map((e,t)=>(0,r.createElement)("tr",{key:e.id,className:"hover:bg-gray-50 print:hover:bg-transparent"},(0,r.createElement)("td",{className:"px-4 py-2 border-b print:border-gray-300"},t+1),(0,r.createElement)("td",{className:"px-4 py-2 font-medium border-b print:border-gray-300"},e.full_name,(0,r.createElement)("div",{className:"text-xs text-gray-400 print:hidden"},"NIK: ",e.nik)),(0,r.createElement)("td",{className:"px-4 py-2 border-b print:border-gray-300"},e.gender),(0,r.createElement)("td",{className:"px-4 py-2 font-mono border-b print:border-gray-300"},e.passport_number||"-"),(0,r.createElement)("td",{className:"px-4 py-2 text-gray-600 border-b print:border-gray-300"},e.mahram_name?(0,r.createElement)("span",null,e.mahram_name," ",(0,r.createElement)("span",{className:"text-xs bg-gray-100 px-1 rounded border print:border-black print:bg-transparent"},"(",e.relation,")")):"-"),(0,r.createElement)("td",{className:"px-4 py-2 border-b print:border-gray-300"},e.room_number?(0,r.createElement)("div",{className:"flex flex-col"},(0,r.createElement)("span",{className:"font-bold text-blue-600 print:text-black"},"Kamar ",e.room_number),(0,r.createElement)("span",{className:"text-xs text-gray-500 print:text-black"},e.hotel_name," (",e.room_type,")")):(0,r.createElement)("span",{className:"text-red-400 text-xs italic print:text-gray-400"},"Belum plotting"))))))),(0,r.createElement)("div",{className:"hidden print:block mt-6 pt-4 border-t text-sm"},(0,r.createElement)("p",null,"Dicetak pada: ",(new Date).toLocaleString("id-ID")),(0,r.createElement)("p",null,"Oleh sistem Manajemen Travel Umroh"))):(0,r.createElement)("div",{className:"text-center py-20 border-2 border-dashed border-gray-300 rounded-xl text-gray-400 bg-white"},(0,r.createElement)("p",{className:"text-lg"},"Silakan pilih paket di atas untuk melihat manifest.")))},Er=Ze("bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]),vr=Ze("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Nr=()=>{const{api:e}=He(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(""),[s,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(""),[m,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[g,h]=(0,r.useState)(!1),[b,f]=(0,r.useState)({number:"",type:"Quad",guests:[]});(0,r.useEffect)(()=>{(async()=>{try{const t=await e.get("/packages?status=active");a(t.data||[])}catch(e){console.error("Gagal load paket",e)}})()},[]),(0,r.useEffect)(()=>{if(!n)return i([]),void c("");const e=t.find(e=>e.id==n);e&&e.hotels?i(e.hotels):i([])},[n,t]);const y=async()=>{if(o){p(!0);try{const t=await e.get(`/rooming/${o}`);d(t.data)}catch(e){console.error(e),e.response&&404!==e.response.status&&alert("Gagal memuat data rooming.")}finally{p(!1)}}};return(0,r.useEffect)(()=>{o?y():d(null)},[o]),(0,r.createElement)("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen"},(0,r.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2"},(0,r.createElement)(Er,{className:"text-blue-600"})," Rooming List"),(0,r.createElement)("p",{className:"text-gray-500 text-sm"},"Manajemen pembagian kamar hotel jamaah")),(0,r.createElement)("div",{className:"flex items-center gap-2 bg-gray-100 p-1 rounded-lg"},(0,r.createElement)("select",{className:"bg-transparent border-none focus:ring-0 text-sm font-medium text-gray-700 py-2 px-3 cursor-pointer",value:n,onChange:e=>{l(e.target.value),c("")}},(0,r.createElement)("option",{value:""},"-- 1. Pilih Paket --"),t.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.name))),(0,r.createElement)(vr,{size:16,className:"text-gray-400"}),(0,r.createElement)("select",{className:"bg-transparent border-none focus:ring-0 text-sm font-medium text-gray-700 py-2 px-3 cursor-pointer",value:o,onChange:e=>c(e.target.value),disabled:!n},(0,r.createElement)("option",{value:""},"-- 2. Pilih Hotel --"),s.map(e=>(0,r.createElement)("option",{key:e.id,value:e.id},e.hotel_name," (",e.city,")"))))),o?u?(0,r.createElement)(lt,null):m?(0,r.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},(0,r.createElement)("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border flex flex-col h-[calc(100vh-200px)] sticky top-6"},(0,r.createElement)("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center rounded-t-xl"},(0,r.createElement)("h3",{className:"font-bold text-gray-700 flex items-center gap-2"},(0,r.createElement)(it,{size:18})," Belum Dapat Kamar"),(0,r.createElement)("span",{className:"bg-red-100 text-red-600 px-2 py-0.5 rounded-full text-xs font-bold"},m.unassigned.length)),(0,r.createElement)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2"},0===m.unassigned.length&&(0,r.createElement)("div",{className:"text-center py-10 text-gray-400 text-sm italic"},(0,r.createElement)(ut,{size:32,className:"mx-auto mb-2 text-green-400"}),"Semua jamaah sudah dapat kamar!"),m.unassigned.map(e=>(0,r.createElement)("div",{key:e.booking_id,className:"p-3 border rounded-lg hover:bg-blue-50 cursor-pointer flex justify-between items-center group transition-colors"},(0,r.createElement)("div",null,(0,r.createElement)("p",{className:"font-medium text-sm text-gray-800"},e.full_name),(0,r.createElement)("div",{className:"flex gap-2 mt-1"},(0,r.createElement)("span",{className:"text-[10px] px-1.5 py-0.5 rounded "+("L"===e.gender?"bg-blue-100 text-blue-600":"bg-pink-100 text-pink-600")},"L"===e.gender?"Pria":"Wanita"),(0,r.createElement)("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded border"},"Req: ",e.selected_room_type))),(0,r.createElement)("button",{onClick:()=>{f(t=>({...t,guests:[e.booking_id]})),h(!0)},className:"opacity-0 group-hover:opacity-100 bg-blue-600 text-white p-1.5 rounded-md shadow hover:bg-blue-700 transition-all",title:"Buat Kamar Baru dengan Jamaah ini"},(0,r.createElement)(Bt,{size:14}))))),(0,r.createElement)("div",{className:"p-4 border-t bg-gray-50 rounded-b-xl"},(0,r.createElement)("button",{onClick:()=>h(!0),className:"w-full bg-blue-600 text-white py-2.5 rounded-lg text-sm font-medium hover:bg-blue-700 flex justify-center items-center gap-2 shadow-sm"},(0,r.createElement)(Bt,{size:16})," Buat Kamar Baru"))),(0,r.createElement)("div",{className:"lg:col-span-2 space-y-4"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("h3",{className:"font-bold text-gray-700"},"Daftar Kamar Terisi (",m.rooms.length,")")),0===m.rooms.length&&(0,r.createElement)("div",{className:"p-12 text-center text-gray-400 bg-white rounded-xl border border-dashed"},"Belum ada kamar yang dibuat untuk hotel ini.",(0,r.createElement)("br",null),'Klik tombol "Buat Kamar Baru" di panel kiri.'),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},m.rooms.map(t=>(0,r.createElement)("div",{key:t.id,className:"bg-white border rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow"},(0,r.createElement)("div",{className:"bg-gray-800 text-white p-3 flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("h4",{className:"font-bold text-lg"},"Kamar ",t.room_number),(0,r.createElement)("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded text-gray-200"},t.room_type," (",t.guests.length," Org)")),(0,r.createElement)("button",{onClick:()=>(async t=>{if(confirm("Hapus kamar ini? Penghuni akan kembali ke status 'Belum Dapat Kamar'."))try{await e.delete(`/rooming/room/${t}`),y()}catch(e){alert("Gagal menghapus kamar")}})(t.id),className:"text-gray-400 hover:text-red-400 p-1 rounded hover:bg-gray-700 transition-colors"},(0,r.createElement)(zt,{size:18}))),(0,r.createElement)("div",{className:"p-3 space-y-2 bg-white min-h-[100px]"},t.guests.map((e,t)=>(0,r.createElement)("div",{key:e.guest_id,className:"flex items-center gap-3 text-sm border-b border-gray-50 pb-2 last:border-0 last:pb-0"},(0,r.createElement)("span",{className:"text-xs text-gray-400 w-4"},t+1,"."),(0,r.createElement)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white "+("L"===e.gender?"bg-blue-500":"bg-pink-500")},e.gender),(0,r.createElement)("span",{className:"text-gray-700 font-medium"},e.full_name))),0===t.guests.length&&(0,r.createElement)("div",{className:"h-full flex items-center justify-center text-xs text-red-400 bg-red-50 rounded py-4"},"Kamar Kosong"))))))):null:(0,r.createElement)("div",{className:"text-center py-20 bg-white rounded-xl border border-dashed border-gray-300"},(0,r.createElement)(Er,{size:48,className:"mx-auto mb-4 text-gray-300"}),(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-500"},"Silakan pilih Paket dan Hotel terlebih dahulu"),(0,r.createElement)("p",{className:"text-sm text-gray-400"},"Data kamar dan jamaah akan muncul di sini.")),g&&m&&(0,r.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},(0,r.createElement)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in duration-200"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("h2",{className:"text-xl font-bold text-gray-800"},"Setup Kamar Baru"),(0,r.createElement)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600"},"‚úï")),(0,r.createElement)("div",{className:"grid grid-cols-2 gap-4 mb-6"},(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium mb-1.5 text-gray-700"},"Nomor Kamar"),(0,r.createElement)("input",{autoFocus:!0,type:"text",className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Cth: 101, 205",value:b.number,onChange:e=>f({...b,number:e.target.value})})),(0,r.createElement)("div",null,(0,r.createElement)("label",{className:"block text-sm font-medium mb-1.5 text-gray-700"},"Tipe Kamar"),(0,r.createElement)("select",{className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none",value:b.type,onChange:e=>f({...b,type:e.target.value})},(0,r.createElement)("option",{value:"Quad"},"Quad (Isi 4)"),(0,r.createElement)("option",{value:"Triple"},"Triple (Isi 3)"),(0,r.createElement)("option",{value:"Double"},"Double (Isi 2)")))),(0,r.createElement)("div",{className:"mb-6"},(0,r.createElement)("div",{className:"flex justify-between items-end mb-2"},(0,r.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Pilih Jamaah (",b.guests.length," terpilih)"),(0,r.createElement)("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded"},"Klik nama untuk memilih")),(0,r.createElement)("div",{className:"border border-gray-200 rounded-xl p-3 max-h-60 overflow-y-auto grid grid-cols-1 sm:grid-cols-2 gap-2 bg-gray-50"},0===m.unassigned.length&&(0,r.createElement)("p",{className:"col-span-2 text-center text-gray-400 py-4"},"Tidak ada jamaah tersisa."),m.unassigned.map(e=>{const t=b.guests.includes(e.booking_id);return(0,r.createElement)("div",{key:e.booking_id,onClick:()=>(e=>{const t=b.guests;if(t.includes(e))f({...b,guests:t.filter(t=>t!==e)});else{const a={Quad:4,Triple:3,Double:2};if(t.length>=a[b.type])return void alert(`Maksimal ${a[b.type]} orang untuk tipe kamar ${b.type}`);f({...b,guests:[...t,e]})}})(e.booking_id),className:"p-2.5 rounded-lg cursor-pointer border transition-all flex items-center gap-3 "+(t?"bg-blue-600 border-blue-600 text-white shadow-md transform scale-[1.02]":"bg-white border-gray-200 text-gray-600 hover:border-blue-300")},t?(0,r.createElement)(ut,{size:18,className:"text-white"}):(0,r.createElement)("div",{className:"w-[18px] h-[18px] rounded-full border border-gray-300"}),(0,r.createElement)("div",{className:"truncate text-sm font-medium"},e.full_name,(0,r.createElement)("span",{className:"ml-1 text-xs opacity-70 font-normal"},"(",e.gender,")")))}))),(0,r.createElement)("div",{className:"flex justify-end gap-3 pt-4 border-t"},(0,r.createElement)("button",{onClick:()=>h(!1),className:"px-5 py-2.5 text-gray-600 hover:bg-gray-100 rounded-lg font-medium transition-colors"},"Batal"),(0,r.createElement)("button",{onClick:async t=>{if(t.preventDefault(),0!==b.guests.length)try{await e.post(`/rooming/${o}`,{room_number:b.number,room_type:b.type,booking_ids:b.guests}),h(!1),f({number:"",type:"Quad",guests:[]}),y()}catch(t){alert("Gagal membuat kamar.")}else alert("Pilih minimal 1 jamaah untuk masuk kamar ini.")},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium shadow-lg shadow-blue-200 transition-all transform active:scale-95"},"Simpan Kamar")))))},wr=[{id:"dashboard",label:"Dashboard"},{id:"packages",label:"Manajemen Paket"},{id:"jamaah",label:"Data Jamaah"},{id:"transactions",label:"Transaksi & Keuangan"},{id:"rooming",label:"Rooming List"},{id:"marketing",label:"Marketing & Leads"},{id:"hr",label:"HR & Karyawan"},{id:"settings",label:"Pengaturan Sistem"}];function kr({initialData:e,onSubmit:t,onCancel:a,isLoading:n}){const{register:l,handleSubmit:s,formState:{errors:i},setValue:o,watch:c}=Ja({defaultValues:{name:"",position:"",phone:"",email:"",salary:"",status:"active",access_permissions:[]}}),[m,d]=(0,r.useState)([]);return(0,r.useEffect)(()=>{e&&Object.keys(e).forEach(t=>{if("access_permissions"===t){const a=Array.isArray(e[t])?e[t]:[];d(a)}else o(t,e[t])})},[e,o]),(0,r.createElement)("form",{onSubmit:s(e=>{const a={...e,access_permissions:m};t(a)}),className:"space-y-6"},(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},(0,r.createElement)("div",{className:"space-y-4"},(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2"},"Informasi Pegawai"),(0,r.createElement)(ar.Input,{label:"Nama Lengkap",...l("name",{required:"Nama wajib diisi"}),error:i.name}),(0,r.createElement)(ar.Input,{label:"Posisi / Jabatan",...l("position",{required:"Posisi wajib diisi"}),error:i.position}),(0,r.createElement)(ar.Input,{label:"Email",type:"email",...l("email",{required:"Email wajib diisi"}),error:i.email}),(0,r.createElement)(ar.Input,{label:"Nomor Telepon",...l("phone"),error:i.phone}),(0,r.createElement)(ar.Input,{label:"Gaji (Rp)",type:"number",...l("salary"),error:i.salary}),(0,r.createElement)(ar.Select,{label:"Status Karyawan",...l("status"),options:[{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}]})),(0,r.createElement)("div",{className:"space-y-4"},(0,r.createElement)("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2"},"Hak Akses Sistem"),(0,r.createElement)("p",{className:"text-sm text-gray-500 mb-4"},"Pilih fitur apa saja yang dapat diakses oleh karyawan ini."),(0,r.createElement)("div",{className:"grid grid-cols-1 gap-2 bg-gray-50 p-4 rounded-lg border"},wr.map(e=>(0,r.createElement)("label",{key:e.id,className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-100 p-2 rounded"},(0,r.createElement)("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500",checked:m.includes(e.id),onChange:()=>{return t=e.id,void d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}}),(0,r.createElement)("span",{className:"text-gray-700 font-medium"},e.label)))))),(0,r.createElement)("div",{className:"flex justify-end space-x-3 pt-4 border-t mt-6"},(0,r.createElement)(ar.Button,{variant:"secondary",onClick:a,type:"button"},"Batal"),(0,r.createElement)(ar.Button,{type:"submit",isLoading:n},e?"Simpan Perubahan":"Tambah Karyawan")))}function Sr(){const{api:e}=He(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),[m,d]=(0,r.useState)(!1),u=async()=>{try{l(!0);const t=await e.get("/hr/employees");a(t)}catch(e){console.error("Failed to fetch employees",e)}finally{l(!1)}};return(0,r.useEffect)(()=>{u()},[]),n?(0,r.createElement)(lt,null):(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Manajemen SDM (HR)"),(0,r.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center"},"+ Tambah Karyawan")),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,r.createElement)(st,{title:"Total Karyawan",value:t.length,color:"blue"}),(0,r.createElement)(st,{title:"Karyawan Aktif",value:t.filter(e=>"active"===e.status).length,color:"green"}),(0,r.createElement)(st,{title:"Total Gaji (Est)",value:`Rp ${t.reduce((e,t)=>e+parseFloat(t.salary||0),0).toLocaleString()}`,color:"yellow"})),(0,r.createElement)("div",{className:"bg-white rounded-lg shadow overflow-hidden"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama / Kontak"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Posisi"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Hak Akses"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,r.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm font-medium text-gray-900"},t.name),(0,r.createElement)("div",{className:"text-sm text-gray-500"},t.email),(0,r.createElement)("div",{className:"text-sm text-gray-500"},t.phone)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},t.position),(0,r.createElement)("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-xs"},(e=>{if(!e||0===e.length)return(0,r.createElement)("span",{className:"text-gray-400 text-xs"},"Tidak ada akses");const t=e.slice(0,3),a=e.length-3;return(0,r.createElement)("div",{className:"flex flex-wrap gap-1"},t.map(e=>(0,r.createElement)("span",{key:e,className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full capitalize"},e)),a>0&&(0,r.createElement)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full"},"+",a))})(t.access_permissions)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},"active"===t.status?"Aktif":"Non-Aktif")),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},(0,r.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-indigo-600 hover:text-indigo-900"},"Edit"),(0,r.createElement)("button",{onClick:()=>(async t=>{if(window.confirm("Hapus data karyawan ini?"))try{await e.delete(`/hr/employees/${t}`),u()}catch(e){console.error("Failed to delete",e)}})(t.id),className:"text-red-600 hover:text-red-900"},"Hapus")))))),0===t.length&&(0,r.createElement)("div",{className:"p-6 text-center text-gray-500"},"Belum ada data karyawan.")),(0,r.createElement)(It,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Data Karyawan":"Tambah Karyawan Baru",maxWidth:"2xl"},(0,r.createElement)(kr,{initialData:o,onSubmit:async t=>{d(!0);try{o?await e.put(`/hr/employees/${o.id}`,t):await e.post("/hr/employees",t),i(!1),c(null),u()}catch(e){console.error("Failed to save employee",e),alert("Gagal menyimpan data karyawan.")}finally{d(!1)}},onCancel:()=>i(!1),isLoading:m})))}function Cr(){const{api:e}=He(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),m=async()=>{l(!0);try{const t=await e.get("/branches");a(t)}catch(e){console.error(e)}finally{l(!1)}};return(0,r.useEffect)(()=>{m()},[]),n?(0,r.createElement)(lt,null):(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("div",null,(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Kantor Cabang"),(0,r.createElement)("p",{className:"text-sm text-gray-500"},"Kelola lokasi operasional perusahaan.")),(0,r.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"+ Tambah Cabang")),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,r.createElement)(st,{title:"Total Cabang",value:t.length,color:"blue"}),(0,r.createElement)(st,{title:"Cabang Aktif",value:t.filter(e=>"active"===e.status).length,color:"green"}),(0,r.createElement)(st,{title:"Kota Tercover",value:[...new Set(t.map(e=>e.city))].length,color:"purple"})),(0,r.createElement)("div",{className:"bg-white shadow rounded-lg overflow-hidden"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode & Nama"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lokasi"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kepala Cabang"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.map(t=>(0,r.createElement)("tr",{key:t.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm font-bold text-gray-900"},t.code),(0,r.createElement)("div",{className:"text-sm text-gray-600"},t.name)),(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm text-gray-900"},t.city),(0,r.createElement)("div",{className:"text-xs text-gray-500 truncate max-w-xs"},t.address)),(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("div",{className:"text-sm text-gray-900"},t.head_of_branch||"-"),(0,r.createElement)("div",{className:"text-xs text-gray-500"},t.phone)),(0,r.createElement)("td",{className:"px-6 py-4"},(0,r.createElement)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},"active"===t.status?"Buka":"Tutup")),(0,r.createElement)("td",{className:"px-6 py-4 text-right text-sm font-medium space-x-2"},(0,r.createElement)("button",{onClick:()=>{c(t),i(!0)},className:"text-indigo-600 hover:text-indigo-900"},"Edit"),(0,r.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus data cabang ini?")&&(await e.delete(`/branches/${t}`),m())})(t.id),className:"text-red-600 hover:text-red-900"},"Hapus")))),0===t.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500"},"Belum ada data cabang."))))),(0,r.createElement)(It,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Cabang":"Buka Cabang Baru"},(0,r.createElement)(_r,{initialData:o,onSubmit:async t=>{try{o?await e.put(`/branches/${o.id}`,t):await e.post("/branches",t),i(!1),c(null),m()}catch(e){alert("Gagal menyimpan data cabang (Kode mungkin duplikat).")}},onCancel:()=>i(!1)})))}function _r({initialData:e,onSubmit:t,onCancel:a}){const{register:n,handleSubmit:l,formState:{errors:s}}=Ja({defaultValues:e||{code:"",name:"",city:"",address:"",head_of_branch:"",phone:"",status:"active"}});return(0,r.createElement)("form",{onSubmit:l(t),className:"space-y-4"},(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)(ar.Input,{label:"Kode Cabang",placeholder:"Contoh: BANTEN-01",...n("code",{required:"Kode wajib diisi"}),error:s.code}),(0,r.createElement)(ar.Input,{label:"Nama Cabang",placeholder:"Cabang Serang Pusat",...n("name",{required:"Nama wajib diisi"}),error:s.name})),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)(ar.Input,{label:"Kota",...n("city",{required:"Kota wajib diisi"}),error:s.city}),(0,r.createElement)(ar.Input,{label:"Kepala Cabang",...n("head_of_branch")})),(0,r.createElement)(ar.Input,{label:"Nomor Telepon Kantor",...n("phone")}),(0,r.createElement)(ar.TextArea,{label:"Alamat Lengkap",...n("address")}),(0,r.createElement)(ar.Select,{label:"Status Operasional",...n("status"),options:[{value:"active",label:"Aktif / Buka"},{value:"inactive",label:"Non-Aktif / Tutup Sementara"}]}),(0,r.createElement)("div",{className:"flex justify-end space-x-2 pt-4"},(0,r.createElement)(ar.Button,{variant:"secondary",type:"button",onClick:a},"Batal"),(0,r.createElement)(ar.Button,{type:"submit"},"Simpan")))}const jr=()=>{const{user:e}=ze(),{get:t}=He(),[a,n]=(0,r.useState)(null),[l,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,m]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(async()=>{try{o(!0);const e=await t("/agent/dashboard-stats");e.success&&n(e.data);const a=await t("/agent/recent-leads");a.success&&s(a.data)}catch(e){console.error("Agent Dashboard Error:",e),m("Gagal memuat data dashboard. Pastikan server aktif.")}finally{o(!1)}})()},[t]),i)return(0,r.createElement)(lt,null);if(c)return(0,r.createElement)(pt,{message:c});const d=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e||0);return(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden"},(0,r.createElement)("div",{className:"relative z-10"},(0,r.createElement)("h1",{className:"text-2xl font-bold mb-2"},"Selamat Datang, ",e?.name||"Partner","!"),(0,r.createElement)("p",{className:"opacity-90 text-blue-100"},"Pantau performa penjualan dan komisi anda hari ini."),(0,r.createElement)("div",{className:"mt-6 flex flex-wrap gap-3"},(0,r.createElement)("button",{className:"bg-white text-blue-700 px-5 py-2.5 rounded-lg font-bold text-sm flex items-center gap-2 shadow hover:bg-gray-100 transition transform hover:-translate-y-0.5"},(0,r.createElement)(Ct,null)," Input Jemaah Baru"),(0,r.createElement)("button",{className:"bg-blue-900 bg-opacity-40 text-white border border-white border-opacity-30 px-5 py-2.5 rounded-lg font-medium text-sm flex items-center gap-2 hover:bg-opacity-60 transition backdrop-blur-sm"},(0,r.createElement)(kt,null)," Link Referral"))),(0,r.createElement)("div",{className:"absolute -right-10 -bottom-10 w-48 h-48 bg-white opacity-10 rounded-full blur-2xl"}),(0,r.createElement)("div",{className:"absolute top-10 right-20 w-20 h-20 bg-blue-400 opacity-20 rounded-full blur-xl"})),(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},(0,r.createElement)(st,{title:"Jemaah Closing",value:a?.totalJamaah||0,icon:(0,r.createElement)(_t,null),color:"bg-green-500"}),(0,r.createElement)(st,{title:"Komisi Pending",value:d(a?.komisiPending),icon:(0,r.createElement)(wt,null),color:"bg-yellow-500"}),(0,r.createElement)(st,{title:"Komisi Cair",value:d(a?.komisiCair),icon:(0,r.createElement)(wt,null),color:"bg-blue-500"}),(0,r.createElement)(st,{title:"Prospek Baru",value:a?.potensiLeads||0,icon:(0,r.createElement)(Ct,null),color:"bg-purple-500"})),(0,r.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},(0,r.createElement)("div",{className:"flex justify-between items-center mb-6"},(0,r.createElement)("h3",{className:"font-bold text-gray-800 text-lg"},"Jemaah Terbaru Anda"),(0,r.createElement)("button",{className:"text-blue-600 text-sm font-medium hover:underline"},"Lihat Semua")),(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"w-full"},(0,r.createElement)("thead",null,(0,r.createElement)("tr",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-100"},(0,r.createElement)("th",{className:"pb-3 pl-2"},"Nama Jemaah"),(0,r.createElement)("th",{className:"pb-3"},"Paket"),(0,r.createElement)("th",{className:"pb-3"},"Tanggal Input"),(0,r.createElement)("th",{className:"pb-3"},"Status"),(0,r.createElement)("th",{className:"pb-3 text-right pr-2"},"Aksi"))),(0,r.createElement)("tbody",{className:"divide-y divide-gray-50"},l.length>0?l.map(e=>(0,r.createElement)("tr",{key:e.id,className:"text-sm text-gray-700 hover:bg-gray-50 transition"},(0,r.createElement)("td",{className:"py-3 pl-2 font-medium text-gray-900"},e.name),(0,r.createElement)("td",{className:"py-3"},e.paket_name||(0,r.createElement)("span",{className:"text-gray-400 italic"},"Belum pilih paket")),(0,r.createElement)("td",{className:"py-3 text-gray-500"},new Date(e.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),(0,r.createElement)("td",{className:"py-3"},(0,r.createElement)("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold inline-block\n                        "+(["paid","booked","departed"].includes(e.status)?"bg-green-100 text-green-700":["new","prospect"].includes(e.status)?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700")},e.status?e.status.replace(/_/g," ").toUpperCase():"NEW")),(0,r.createElement)("td",{className:"py-3 text-right pr-2"},(0,r.createElement)("button",{className:"text-gray-400 hover:text-blue-600 font-medium transition"},"Detail")))):(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"5",className:"py-8 text-center text-gray-400"},"Belum ada data jemaah. Silakan input jemaah pertama anda.")))))))},Pr=({onSubmit:e,initialData:t,isLoading:a})=>{const{register:n,handleSubmit:l,formState:{errors:s}}=Ja({defaultValues:t||{}});return(0,r.createElement)("form",{onSubmit:l(e),className:"space-y-4"},(0,r.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,r.createElement)(Xa,{label:"Nama Lengkap",register:n("name",{required:"Nama wajib diisi"}),error:s.name}),(0,r.createElement)(Xa,{label:"Nomor Telepon/WA",type:"tel",register:n("phone",{required:"Nomor telepon wajib diisi"}),error:s.phone}),(0,r.createElement)(Za,{label:"Sumber Prospek",register:n("source"),options:[{value:"social_media",label:"Social Media"},{value:"referral",label:"Referral / Teman"},{value:"website",label:"Website"},{value:"walk_in",label:"Datang Langsung"},{value:"agent",label:"Agen"}]}),(0,r.createElement)(Za,{label:"Status",register:n("status"),options:[{value:"new",label:"Baru"},{value:"follow_up",label:"Sedang Follow Up"},{value:"interested",label:"Tertarik"},{value:"closed",label:"Closing / Daftar"},{value:"lost",label:"Batal / Gagal"}]})),(0,r.createElement)(er,{label:"Catatan / Kebutuhan",register:n("notes"),error:s.notes,rows:4}),(0,r.createElement)("div",{className:"flex justify-end space-x-2 pt-4"},(0,r.createElement)(tr,{type:"submit",variant:"primary",isLoading:a},"Simpan Prospek")))},Dr=Ze("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ar=()=>{const{api:e}=He(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),m=async()=>{l(!0);try{const t=await e.get("/leads");a(t.data||[])}catch(e){console.error("Gagal load leads:",e)}finally{l(!1)}};return(0,r.useEffect)(()=>{m()},[]),(0,r.createElement)("div",{className:"p-6 space-y-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Marketing Leads"),(0,r.createElement)("button",{onClick:()=>{c(null),i(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center gap-2"},(0,r.createElement)(Dr,{size:18})," Tambah Lead")),n?(0,r.createElement)(lt,null):(0,r.createElement)("div",{className:"bg-white rounded-xl shadow overflow-hidden"},(0,r.createElement)("table",{className:"w-full text-left text-sm"},(0,r.createElement)("thead",{className:"bg-gray-50 border-b uppercase text-gray-500"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"p-4"},"Nama"),(0,r.createElement)("th",{className:"p-4"},"Kontak"),(0,r.createElement)("th",{className:"p-4"},"Sumber"),(0,r.createElement)("th",{className:"p-4"},"Status"),(0,r.createElement)("th",{className:"p-4 text-right"},"Aksi"))),(0,r.createElement)("tbody",{className:"divide-y"},t.map(e=>(0,r.createElement)("tr",{key:e.id,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"p-4 font-medium"},e.name),(0,r.createElement)("td",{className:"p-4"},e.contact),(0,r.createElement)("td",{className:"p-4 capitalize"},e.source),(0,r.createElement)("td",{className:"p-4"},(0,r.createElement)("span",{className:"px-2 py-1 rounded text-xs font-bold "+("closing"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")},e.status)),(0,r.createElement)("td",{className:"p-4 text-right flex justify-end gap-2"},(0,r.createElement)("button",{onClick:()=>{c(e),i(!0)},className:"text-blue-600"},(0,r.createElement)(mr,{size:18})))))))),(0,r.createElement)(It,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Lead":"Input Lead Baru"},(0,r.createElement)(Pr,{initialData:o,onSuccess:()=>{i(!1),m()},onCancel:()=>i(!1)})))};function Lr(){const{api:e}=He(),[t,a]=(0,r.useState)("categories");return(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Master Data"),(0,r.createElement)("div",{className:"flex border-b border-gray-200"},(0,r.createElement)("button",{className:"py-2 px-4 font-medium text-sm focus:outline-none "+("categories"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("categories")},"Kategori Paket"),(0,r.createElement)("button",{className:"py-2 px-4 font-medium text-sm focus:outline-none "+("hotels"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("hotels")},"Hotel"),(0,r.createElement)("button",{className:"py-2 px-4 font-medium text-sm focus:outline-none "+("airlines"===t?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a("airlines")},"Maskapai")),(0,r.createElement)("div",{className:"mt-6"},"categories"===t&&(0,r.createElement)(Tr,{api:e}),"hotels"===t&&(0,r.createElement)("div",{className:"p-4 bg-gray-50 rounded border text-center text-gray-500"},"Modul Hotel (Placeholder)"),"airlines"===t&&(0,r.createElement)("div",{className:"p-4 bg-gray-50 rounded border text-center text-gray-500"},"Modul Maskapai (Placeholder)")))}function Tr({api:e}){const[t,a]=(0,r.useState)("main"),[n,l]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1),[m,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null),g=async()=>{c(!0);try{const a=await e.get("/categories?parent_id=0");if(i(a),"main"===t)l(a);else{const t=(await e.get("/categories?all=true")).filter(e=>e.parent_id&&0!=e.parent_id);l(t)}}catch(e){console.error(e)}finally{c(!1)}};return(0,r.useEffect)(()=>{g()},[t]),(0,r.createElement)("div",{className:"space-y-4"},(0,r.createElement)("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg"},(0,r.createElement)("div",{className:"space-x-2"},(0,r.createElement)("button",{onClick:()=>a("main"),className:"px-3 py-1 rounded text-sm font-medium "+("main"===t?"bg-white shadow text-blue-600":"text-gray-600 hover:bg-gray-200")},"Kategori Utama"),(0,r.createElement)("button",{onClick:()=>a("sub"),className:"px-3 py-1 rounded text-sm font-medium "+("sub"===t?"bg-white shadow text-blue-600":"text-gray-600 hover:bg-gray-200")},"Sub Kategori")),(0,r.createElement)("button",{onClick:()=>{p(null),d(!0)},className:"bg-blue-600 text-white px-3 py-1.5 rounded hover:bg-blue-700 text-sm"},"+ Tambah ","main"===t?"Kategori Utama":"Sub Kategori")),o?(0,r.createElement)(lt,null):(0,r.createElement)("div",{className:"bg-white border rounded-lg overflow-hidden"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Kategori"),"sub"===t&&(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Induk (Main)"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Slug"),(0,r.createElement)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Aksi"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},n.map(a=>{const n=s.find(e=>e.id==a.parent_id);return(0,r.createElement)("tr",{key:a.id},(0,r.createElement)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900"},a.name),"sub"===t&&(0,r.createElement)("td",{className:"px-6 py-4 text-sm text-gray-500"},n?n.name:"-"),(0,r.createElement)("td",{className:"px-6 py-4 text-sm text-gray-500"},a.slug),(0,r.createElement)("td",{className:"px-6 py-4 text-right text-sm font-medium space-x-2"},(0,r.createElement)("button",{onClick:()=>{p(a),d(!0)},className:"text-indigo-600"},"Edit"),(0,r.createElement)("button",{onClick:()=>(async t=>{confirm("Hapus kategori ini?")&&(await e.delete(`/categories/${t}`),g())})(a.id),className:"text-red-600"},"Hapus")))}),0===n.length&&(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"4",className:"px-6 py-4 text-center text-sm text-gray-500"},"Tidak ada data."))))),(0,r.createElement)(It,{isOpen:m,onClose:()=>d(!1),title:u?"Edit Kategori":"main"===t?"Tambah Kategori Utama":"Tambah Sub Kategori"},(0,r.createElement)(Mr,{api:e,initialData:u,isSub:"sub"===t,mainCategories:s,onSuccess:()=>{d(!1),g()},onCancel:()=>d(!1)})))}function Mr({api:e,initialData:t,isSub:a,mainCategories:n,onSuccess:l,onCancel:s}){const{register:i,handleSubmit:o,formState:{errors:c}}=Ja({defaultValues:t||{name:"",description:"",parent_id:a?"":0}}),[m,d]=(0,r.useState)(!1);return(0,r.createElement)("form",{onSubmit:o(async r=>{d(!0);try{a||(r.parent_id=0),t?await e.put(`/categories/${t.id}`,r):await e.post("/categories",r),l()}catch(e){alert("Error saving category")}finally{d(!1)}}),className:"space-y-4"},a&&(0,r.createElement)(ar.Select,{label:"Kategori Utama (Induk)",...i("parent_id",{required:"Harap pilih kategori induk"}),options:n.map(e=>({value:e.id,label:e.name})),error:c.parent_id}),(0,r.createElement)(ar.Input,{label:"Nama Kategori",...i("name",{required:"Nama wajib diisi"}),error:c.name}),(0,r.createElement)(ar.TextArea,{label:"Deskripsi",...i("description")}),(0,r.createElement)("div",{className:"flex justify-end space-x-2 mt-4"},(0,r.createElement)(ar.Button,{variant:"secondary",type:"button",onClick:s},"Batal"),(0,r.createElement)(ar.Button,{type:"submit",isLoading:m},"Simpan")))}const Rr=()=>{const{apiRequest:e}=He(),[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[s,i]=(0,r.useState)(null),[o,c]=(0,r.useState)("all"),[m,d]=(0,r.useState)(1),[u,p]=(0,r.useState)(1),g=async()=>{l(!0);try{const t=await e(`/logs?page=${m}&level=${o}`);t&&t.success?(a(t.data||[]),p(t.pagination?.total_pages||1)):a([])}catch(e){console.error("Error fetching logs:",e),i("Gagal memuat data log sistem.")}finally{l(!1)}};(0,r.useEffect)(()=>{g()},[m,o]);const h=e=>{switch(e?.toLowerCase()){case"error":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"info":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return n&&1===m&&0===t.length?(0,r.createElement)(lt,null):(0,r.createElement)("div",{className:"space-y-6"},(0,r.createElement)("div",{className:"flex justify-between items-center"},(0,r.createElement)("h1",{className:"text-2xl font-semibold text-gray-900"},"System Logs"),(0,r.createElement)("div",{className:"flex gap-2"},(0,r.createElement)("button",{onClick:g,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},"Refresh"),(0,r.createElement)("select",{value:o,onChange:e=>{c(e.target.value),d(1)},className:"block w-40 rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm"},(0,r.createElement)("option",{value:"all"},"Semua Level"),(0,r.createElement)("option",{value:"info"},"Info"),(0,r.createElement)("option",{value:"warning"},"Warning"),(0,r.createElement)("option",{value:"error"},"Error")))),s&&(0,r.createElement)(pt,{message:s}),(0,r.createElement)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg"},(0,r.createElement)("div",{className:"overflow-x-auto"},(0,r.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,r.createElement)("thead",{className:"bg-gray-50"},(0,r.createElement)("tr",null,(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Waktu"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Level"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"User"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pesan"),(0,r.createElement)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Context"))),(0,r.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t.length>0?t.map((e,t)=>(0,r.createElement)("tr",{key:e.id||t,className:"hover:bg-gray-50"},(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},e.created_at),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap"},(0,r.createElement)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h(e.level)}`},e.level)),(0,r.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},e.user_name||"System"),(0,r.createElement)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",title:e.message},e.message),(0,r.createElement)("td",{className:"px-6 py-4 text-sm text-gray-500 font-mono text-xs"},e.context?JSON.stringify(e.context).substring(0,30)+"...":"-"))):(0,r.createElement)("tr",null,(0,r.createElement)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500"},"Tidak ada log ditemukan."))))),u>1&&(0,r.createElement)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},(0,r.createElement)("div",{className:"flex-1 flex justify-between"},(0,r.createElement)("button",{onClick:()=>d(e=>Math.max(1,e-1)),disabled:1===m,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 "+(1===m?"opacity-50 cursor-not-allowed":"")},"Previous"),(0,r.createElement)("span",{className:"text-sm text-gray-700 self-center"},"Halaman ",m," dari ",u),(0,r.createElement)("button",{onClick:()=>d(e=>Math.min(u,e+1)),disabled:m===u,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 "+(m===u?"opacity-50 cursor-not-allowed":"")},"Next")))))},$r=()=>(0,r.createElement)(Ie,null,(0,r.createElement)(Ue,null,(0,r.createElement)(Me,null,(0,r.createElement)("div",{className:"flex h-screen bg-gray-100 font-sans text-gray-900 overflow-hidden"},(0,r.createElement)("div",{className:"flex-shrink-0 h-full"},(0,r.createElement)(We,null)),(0,r.createElement)("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative"},(0,r.createElement)(rt,null),(0,r.createElement)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6"},(0,r.createElement)(ue,null,(0,r.createElement)(me,{path:"/",element:(0,r.createElement)(ce,{to:"/dashboard",replace:!0})}),(0,r.createElement)(me,{path:"/dashboard",element:(0,r.createElement)($t,null)}),(0,r.createElement)(me,{path:"/jamaah",element:(0,r.createElement)(nr,null)}),(0,r.createElement)(me,{path:"/packages",element:(0,r.createElement)(dr,null)}),(0,r.createElement)(me,{path:"/finance",element:(0,r.createElement)(gr,null)}),(0,r.createElement)(me,{path:"/inventory",element:(0,r.createElement)(hr,null)}),(0,r.createElement)(me,{path:"/manifest",element:(0,r.createElement)(xr,null)}),(0,r.createElement)(me,{path:"/rooming",element:(0,r.createElement)(Nr,null)}),(0,r.createElement)(me,{path:"/hr",element:(0,r.createElement)(Sr,null)}),(0,r.createElement)(me,{path:"/branches",element:(0,r.createElement)(Cr,null)}),(0,r.createElement)(me,{path:"/marketing",element:(0,r.createElement)(Ar,null)}),(0,r.createElement)(me,{path:"/master-data",element:(0,r.createElement)(Lr,null)}),(0,r.createElement)(me,{path:"/logs",element:(0,r.createElement)(Rr,null)}),(0,r.createElement)(me,{path:"/agent-dashboard",element:(0,r.createElement)(jr,null)}),(0,r.createElement)(me,{path:"*",element:(0,r.createElement)("div",{className:"text-center mt-10"},(0,r.createElement)("h2",{className:"text-2xl font-bold text-gray-700"},"Halaman tidak ditemukan"),(0,r.createElement)("p",{className:"text-gray-500"},"Route URL tidak cocok."))}))))))));document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("umroh-manager-hybrid-root");e?(e.innerHTML="",(0,l.H)(e).render((0,r.createElement)(n().StrictMode,null,(0,r.createElement)($r,null)))):console.error("Target container #umroh-manager-hybrid-root tidak ditemukan.")})})();